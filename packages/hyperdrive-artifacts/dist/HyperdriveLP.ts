export const HyperdriveLP = 
{"abi":[{"type":"event","name":"AddLiquidity","inputs":[{"name":"provider","type":"address","indexed":true,"internalType":"address"},{"name":"lpAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"baseAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"sharePrice","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"lpSharePrice","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Approval","inputs":[{"name":"owner","type":"address","indexed":true,"internalType":"address"},{"name":"spender","type":"address","indexed":true,"internalType":"address"},{"name":"value","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"ApprovalForAll","inputs":[{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"operator","type":"address","indexed":true,"internalType":"address"},{"name":"approved","type":"bool","indexed":false,"internalType":"bool"}],"anonymous":false},{"type":"event","name":"CloseLong","inputs":[{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"assetId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"maturityTime","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"baseAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"sharePrice","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"bondAmount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"CloseShort","inputs":[{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"assetId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"maturityTime","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"baseAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"sharePrice","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"bondAmount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"CreateCheckpoint","inputs":[{"name":"checkpointTime","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"sharePrice","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"maturedShorts","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"maturedLongs","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"lpSharePrice","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Initialize","inputs":[{"name":"provider","type":"address","indexed":true,"internalType":"address"},{"name":"lpAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"baseAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"sharePrice","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"apr","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"OpenLong","inputs":[{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"assetId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"maturityTime","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"baseAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"sharePrice","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"bondAmount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"OpenShort","inputs":[{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"assetId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"maturityTime","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"baseAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"sharePrice","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"bondAmount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"RedeemWithdrawalShares","inputs":[{"name":"provider","type":"address","indexed":true,"internalType":"address"},{"name":"withdrawalShareAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"baseAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"sharePrice","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"RemoveLiquidity","inputs":[{"name":"provider","type":"address","indexed":true,"internalType":"address"},{"name":"lpAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"baseAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"sharePrice","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"withdrawalShareAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"lpSharePrice","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"TransferSingle","inputs":[{"name":"operator","type":"address","indexed":true,"internalType":"address"},{"name":"from","type":"address","indexed":true,"internalType":"address"},{"name":"to","type":"address","indexed":true,"internalType":"address"},{"name":"id","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"value","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"InvalidCheckpointDuration","inputs":[]},{"type":"error","name":"InvalidFeeAmounts","inputs":[]},{"type":"error","name":"InvalidMinimumShareReserves","inputs":[]},{"type":"error","name":"InvalidPositionDuration","inputs":[]}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.19+commit.7dd6d404\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"InvalidCheckpointDuration\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidFeeAmounts\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidMinimumShareReserves\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidPositionDuration\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"lpAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"baseAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"sharePrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"lpSharePrice\",\"type\":\"uint256\"}],\"name\":\"AddLiquidity\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"approved\",\"type\":\"bool\"}],\"name\":\"ApprovalForAll\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"assetId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"maturityTime\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"baseAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"sharePrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"bondAmount\",\"type\":\"uint256\"}],\"name\":\"CloseLong\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"assetId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"maturityTime\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"baseAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"sharePrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"bondAmount\",\"type\":\"uint256\"}],\"name\":\"CloseShort\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"checkpointTime\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"sharePrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"maturedShorts\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"maturedLongs\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"lpSharePrice\",\"type\":\"uint256\"}],\"name\":\"CreateCheckpoint\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"lpAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"baseAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"sharePrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"apr\",\"type\":\"uint256\"}],\"name\":\"Initialize\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"assetId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"maturityTime\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"baseAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"sharePrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"bondAmount\",\"type\":\"uint256\"}],\"name\":\"OpenLong\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"assetId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"maturityTime\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"baseAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"sharePrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"bondAmount\",\"type\":\"uint256\"}],\"name\":\"OpenShort\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"withdrawalShareAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"baseAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"sharePrice\",\"type\":\"uint256\"}],\"name\":\"RedeemWithdrawalShares\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"lpAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"baseAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"sharePrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"withdrawalShareAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"lpSharePrice\",\"type\":\"uint256\"}],\"name\":\"RemoveLiquidity\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"TransferSingle\",\"type\":\"event\"}],\"devdoc\":{\"author\":\"DELV\",\"custom:disclaimer\":\"The language used in this code is for coding convenience                    only, and is not intended to, and does not, have any                    particular legal or regulatory significance.\",\"kind\":\"dev\",\"methods\":{},\"title\":\"HyperdriveLP\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"notice\":\"Implements the LP accounting for Hyperdrive.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/src/internal/HyperdriveLP.sol\":\"HyperdriveLP\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":aave-v3-core/=lib/aave-v3-core/\",\":create3-factory/=lib/yield-daddy/lib/create3-factory/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\",\":solmate/=lib/solmate/src/\",\":yield-daddy/=lib/yield-daddy/\"]},\"sources\":{\"contracts/src/interfaces/IERC20.sol\":{\"keccak256\":\"0xfb57fe2ee4d8d1c6a8e2aa3b007da6f0e53d65388245b0b7d876234077ee95b4\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://e4303c41b9752b51c6eaa9b16aa11e5bffb34fc80c5c8761302539cd5922ae36\",\"dweb:/ipfs/QmZjVYBikfgPDX47hmbGJpG6kvm3Gyt6nKkFbZH6r8U4cL\"]},\"contracts/src/interfaces/IHyperdrive.sol\":{\"keccak256\":\"0x3b4f94e5480e7074e05b0d338d583569aef147f45365eb57daeb99f19fe817c3\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://2cc18b204ec94f80cd6b4876ea3c39dfb143fc4feff52e2a8d00ea72e6811644\",\"dweb:/ipfs/QmZHmZRvmJr8FxExBzKHSHYNZqcEgcgDcs4Z6gF1wPvBvj\"]},\"contracts/src/interfaces/IHyperdriveCore.sol\":{\"keccak256\":\"0x84c73d8c4b67da41635f57fce2f30b8f04fc826ff6fb54c605de23d376f3403d\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://e6d636dff5c24916ae35a76695d741de2f14ee46876ea67c5393618bb7f9cf85\",\"dweb:/ipfs/QmUwxh8JeAqSFA8Z2qabVx3YWRSz7PJ9V2TQgnfctAgqPF\"]},\"contracts/src/interfaces/IHyperdriveRead.sol\":{\"keccak256\":\"0x1c61ba57b783bfa408a4e208e80c1c117850d4d6c9f0e280263d3fcf57a8b2fd\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://5b920d5f0f37014035b6cbba16d898e52654122a0c004a3f75050af93b799496\",\"dweb:/ipfs/QmaneaTDVXbw5HfevR2vFwXWw95EKWcBq8yMgMyWJPHKVW\"]},\"contracts/src/interfaces/IMultiToken.sol\":{\"keccak256\":\"0xcf3a4002275ea64e381f0a4aded3683e12960396ef79ba9dd153e2d1e395baad\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://c9990491f7a5151fd696a45e6e5b0282a1dedf58521861dfb8c64db8cb60f5b6\",\"dweb:/ipfs/QmaywmqqQhz7DeYqZdoeykagr5h4ZhQRv6GasHqvdWqzSy\"]},\"contracts/src/interfaces/IMultiTokenCore.sol\":{\"keccak256\":\"0xdb7f24663cff7307a468ef5e4c6f3e4d01ec0475157b3bbb3405890c3e9ab87d\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://7f631a9a395fba5b07c3d9308fccac18d5aa59d890efe23442ed2a4da9871ae8\",\"dweb:/ipfs/QmV2a4wiAPfWzSST3faYt58i2tqEyoqCLAJV8aNCdJyxVE\"]},\"contracts/src/interfaces/IMultiTokenMetadata.sol\":{\"keccak256\":\"0x476240ea4328bae9ab820b6f0f40afb11c74ee52d26bdbef69e4ece28dc10bdb\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://843f73cb21eaec4e26952fd6cbde5e6815e3a28c438df9e026e249200d25076f\",\"dweb:/ipfs/QmXzE7gsRKMaRGQfTDodA1RXxNxUuBj8RT7grTYjZUdbe6\"]},\"contracts/src/interfaces/IMultiTokenRead.sol\":{\"keccak256\":\"0x9b92d81f2f038fcd4bb5d069ab2b754efc153234c451d4ee4caa6d74aaca16b4\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://8686fddc99564c6b6524ea68a6b7ff081a9988fc795fc13197bb59ddaa2041c6\",\"dweb:/ipfs/QmarJYJAgoH6Z4H1BmdPoRgqLubRu5S6NDXBNV2fDApPuW\"]},\"contracts/src/internal/HyperdriveBase.sol\":{\"keccak256\":\"0x0fbf9c2be16bbfeb3d560e433b21d040292579ba1d21375979008e5eac35d5f6\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://8672d924b7a357df66bb17e37fb485b53e445cab1b7a7171b5c38a93999e4a72\",\"dweb:/ipfs/QmQj3xB5fj7V2mY5rn3JSRxmb4LywPEVSyw95J95HVtVUL\"]},\"contracts/src/internal/HyperdriveLP.sol\":{\"keccak256\":\"0xf7dfba22a0063e2db44e0ccbd3cf5a6aa76f1459893e395656518f34f34bdcf5\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://9b0f953d3fd2613d271c0734693ee809730c6d870f05eed2a083543ff1cec6ad\",\"dweb:/ipfs/QmaRU2waAMaDDKLWXogUVYjivmfPaYXnB6qNoHHZBvwoqH\"]},\"contracts/src/internal/HyperdriveMultiToken.sol\":{\"keccak256\":\"0x61b9f8eb5795fda17a5c35264f53879a7ef022e02b865b015bdb9f5811db6ba5\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://9498f4bfd969d78634da2b0a89b10f88ac467f52d565d9b62561dcc569ad00cd\",\"dweb:/ipfs/QmZdGwc5ezJf2qv8yheoTVF3UTfWJnh6FtAAq7wufhPZ5R\"]},\"contracts/src/internal/HyperdriveStorage.sol\":{\"keccak256\":\"0xe150223822098026c7ce734cd68848e45b47b92b024d34bc25886e9c6af6ec67\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://6590e590f4af53d55e81e06ba8d53346cfce71ce1fa8d1833141f273d74c8a8f\",\"dweb:/ipfs/QmTM582joUpK7KBDWvwWEBi4XT3Qt9x8VLkhwPYj8Qu93o\"]},\"contracts/src/libraries/AssetId.sol\":{\"keccak256\":\"0xcf8493b00dd39c50754a63f66dc612f3cd466cbac8c7ea5ed0c5ea68aa99267a\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://1a1986d6bc80e465dde116a70d3a30027b3e75969117a9b3517c6866c2e5e73a\",\"dweb:/ipfs/QmSASHifHWyKBycGAm1pUs9dw26Uf6A61V9nkEQnFj9mya\"]},\"contracts/src/libraries/FixedPointMath.sol\":{\"keccak256\":\"0x3d2d86890e7287a59bc7171a030f98006a60271812a233027d2e42d8f31ef46c\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://ecf29c3dedf328bd29caef4ce1eba85576d4c4b8d6f77fc255e37c24e8d44e1d\",\"dweb:/ipfs/QmVgmtYXzMkvR1GYsfqnJ1cH2ojmggoKmVuxKQZ9Rw78T1\"]},\"contracts/src/libraries/HyperdriveMath.sol\":{\"keccak256\":\"0xd87293bc10dfe09707a042bf05091baf40ba344bdca141bd99b62256a7611817\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://8f6eadd454c6671c26bd22095c31a3bbaea7083df9aa6548dbaba32a4907e336\",\"dweb:/ipfs/QmY1jMW9DuAk9CSfVS6MsG5onqjZHKzdBrv2TcHvj9yKj4\"]},\"contracts/src/libraries/LPMath.sol\":{\"keccak256\":\"0x077931150bcba5b99dedcd9038f3fbeef9c9230046dc4649c457d75d4be32a5c\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://2a48e4046f7ae8acb965d0f8d79767f4f4c70c1a6a8d3cf635482587412d33fd\",\"dweb:/ipfs/QmcY8FbffppqTMBiMwniXG9R8i8eQoVJuLqqTXgpuiXyUr\"]},\"contracts/src/libraries/SafeCast.sol\":{\"keccak256\":\"0x86d3065b06e2fb93733eb6f19ea0bb6343a51bc6b993c36702dc3e6d50a6d01d\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://f0d303e0a2ed0c99ea194759d9fce5317b6e3a4c40464fc34c09f6f770d402db\",\"dweb:/ipfs/QmVSTsk4YXLe8pcUbQEpihWq9XTcn47L46j8khkvfzyiWB\"]},\"contracts/src/libraries/YieldSpaceMath.sol\":{\"keccak256\":\"0x2f9511684820be7510155adfe3c2c2ef7e2583472946bae37f379bac801fc263\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://7e9a84e4168448e3320a6682c8ba248c8b51757df173b86507e9aba4b6167247\",\"dweb:/ipfs/QmSonetYBP22Fnc8HrcaTxAA1Zg2PCR5ptPiEp22sA77Ka\"]},\"lib/solmate/src/utils/ReentrancyGuard.sol\":{\"keccak256\":\"0xb282dd78aa7375d6b200b9a5d8dd214b2e5df1004f8217a4b4c2b07f0c5bfd01\",\"license\":\"AGPL-3.0-only\",\"urls\":[\"bzz-raw://5fca62eb8d3dbd2b3b7e4bb051f6da16f4d0ff9cee61c39cebb80f031f6a8800\",\"dweb:/ipfs/QmbrsXPK91iBFwHKwJs2HLRud2KzMoBDRiWYMUtyV5H57j\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.19+commit.7dd6d404"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"InvalidCheckpointDuration"},{"inputs":[],"type":"error","name":"InvalidFeeAmounts"},{"inputs":[],"type":"error","name":"InvalidMinimumShareReserves"},{"inputs":[],"type":"error","name":"InvalidPositionDuration"},{"inputs":[{"internalType":"address","name":"provider","type":"address","indexed":true},{"internalType":"uint256","name":"lpAmount","type":"uint256","indexed":false},{"internalType":"uint256","name":"baseAmount","type":"uint256","indexed":false},{"internalType":"uint256","name":"sharePrice","type":"uint256","indexed":false},{"internalType":"uint256","name":"lpSharePrice","type":"uint256","indexed":false}],"type":"event","name":"AddLiquidity","anonymous":false},{"inputs":[{"internalType":"address","name":"owner","type":"address","indexed":true},{"internalType":"address","name":"spender","type":"address","indexed":true},{"internalType":"uint256","name":"value","type":"uint256","indexed":false}],"type":"event","name":"Approval","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"address","name":"operator","type":"address","indexed":true},{"internalType":"bool","name":"approved","type":"bool","indexed":false}],"type":"event","name":"ApprovalForAll","anonymous":false},{"inputs":[{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"uint256","name":"assetId","type":"uint256","indexed":true},{"internalType":"uint256","name":"maturityTime","type":"uint256","indexed":false},{"internalType":"uint256","name":"baseAmount","type":"uint256","indexed":false},{"internalType":"uint256","name":"sharePrice","type":"uint256","indexed":false},{"internalType":"uint256","name":"bondAmount","type":"uint256","indexed":false}],"type":"event","name":"CloseLong","anonymous":false},{"inputs":[{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"uint256","name":"assetId","type":"uint256","indexed":true},{"internalType":"uint256","name":"maturityTime","type":"uint256","indexed":false},{"internalType":"uint256","name":"baseAmount","type":"uint256","indexed":false},{"internalType":"uint256","name":"sharePrice","type":"uint256","indexed":false},{"internalType":"uint256","name":"bondAmount","type":"uint256","indexed":false}],"type":"event","name":"CloseShort","anonymous":false},{"inputs":[{"internalType":"uint256","name":"checkpointTime","type":"uint256","indexed":true},{"internalType":"uint256","name":"sharePrice","type":"uint256","indexed":false},{"internalType":"uint256","name":"maturedShorts","type":"uint256","indexed":false},{"internalType":"uint256","name":"maturedLongs","type":"uint256","indexed":false},{"internalType":"uint256","name":"lpSharePrice","type":"uint256","indexed":false}],"type":"event","name":"CreateCheckpoint","anonymous":false},{"inputs":[{"internalType":"address","name":"provider","type":"address","indexed":true},{"internalType":"uint256","name":"lpAmount","type":"uint256","indexed":false},{"internalType":"uint256","name":"baseAmount","type":"uint256","indexed":false},{"internalType":"uint256","name":"sharePrice","type":"uint256","indexed":false},{"internalType":"uint256","name":"apr","type":"uint256","indexed":false}],"type":"event","name":"Initialize","anonymous":false},{"inputs":[{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"uint256","name":"assetId","type":"uint256","indexed":true},{"internalType":"uint256","name":"maturityTime","type":"uint256","indexed":false},{"internalType":"uint256","name":"baseAmount","type":"uint256","indexed":false},{"internalType":"uint256","name":"sharePrice","type":"uint256","indexed":false},{"internalType":"uint256","name":"bondAmount","type":"uint256","indexed":false}],"type":"event","name":"OpenLong","anonymous":false},{"inputs":[{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"uint256","name":"assetId","type":"uint256","indexed":true},{"internalType":"uint256","name":"maturityTime","type":"uint256","indexed":false},{"internalType":"uint256","name":"baseAmount","type":"uint256","indexed":false},{"internalType":"uint256","name":"sharePrice","type":"uint256","indexed":false},{"internalType":"uint256","name":"bondAmount","type":"uint256","indexed":false}],"type":"event","name":"OpenShort","anonymous":false},{"inputs":[{"internalType":"address","name":"provider","type":"address","indexed":true},{"internalType":"uint256","name":"withdrawalShareAmount","type":"uint256","indexed":false},{"internalType":"uint256","name":"baseAmount","type":"uint256","indexed":false},{"internalType":"uint256","name":"sharePrice","type":"uint256","indexed":false}],"type":"event","name":"RedeemWithdrawalShares","anonymous":false},{"inputs":[{"internalType":"address","name":"provider","type":"address","indexed":true},{"internalType":"uint256","name":"lpAmount","type":"uint256","indexed":false},{"internalType":"uint256","name":"baseAmount","type":"uint256","indexed":false},{"internalType":"uint256","name":"sharePrice","type":"uint256","indexed":false},{"internalType":"uint256","name":"withdrawalShareAmount","type":"uint256","indexed":false},{"internalType":"uint256","name":"lpSharePrice","type":"uint256","indexed":false}],"type":"event","name":"RemoveLiquidity","anonymous":false},{"inputs":[{"internalType":"address","name":"operator","type":"address","indexed":true},{"internalType":"address","name":"from","type":"address","indexed":true},{"internalType":"address","name":"to","type":"address","indexed":true},{"internalType":"uint256","name":"id","type":"uint256","indexed":false},{"internalType":"uint256","name":"value","type":"uint256","indexed":false}],"type":"event","name":"TransferSingle","anonymous":false}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["aave-v3-core/=lib/aave-v3-core/","create3-factory/=lib/yield-daddy/lib/create3-factory/","ds-test/=lib/forge-std/lib/ds-test/src/","forge-std/=lib/forge-std/src/","solmate/=lib/solmate/src/","yield-daddy/=lib/yield-daddy/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/src/internal/HyperdriveLP.sol":"HyperdriveLP"},"libraries":{}},"sources":{"contracts/src/interfaces/IERC20.sol":{"keccak256":"0xfb57fe2ee4d8d1c6a8e2aa3b007da6f0e53d65388245b0b7d876234077ee95b4","urls":["bzz-raw://e4303c41b9752b51c6eaa9b16aa11e5bffb34fc80c5c8761302539cd5922ae36","dweb:/ipfs/QmZjVYBikfgPDX47hmbGJpG6kvm3Gyt6nKkFbZH6r8U4cL"],"license":"Apache-2.0"},"contracts/src/interfaces/IHyperdrive.sol":{"keccak256":"0x3b4f94e5480e7074e05b0d338d583569aef147f45365eb57daeb99f19fe817c3","urls":["bzz-raw://2cc18b204ec94f80cd6b4876ea3c39dfb143fc4feff52e2a8d00ea72e6811644","dweb:/ipfs/QmZHmZRvmJr8FxExBzKHSHYNZqcEgcgDcs4Z6gF1wPvBvj"],"license":"Apache-2.0"},"contracts/src/interfaces/IHyperdriveCore.sol":{"keccak256":"0x84c73d8c4b67da41635f57fce2f30b8f04fc826ff6fb54c605de23d376f3403d","urls":["bzz-raw://e6d636dff5c24916ae35a76695d741de2f14ee46876ea67c5393618bb7f9cf85","dweb:/ipfs/QmUwxh8JeAqSFA8Z2qabVx3YWRSz7PJ9V2TQgnfctAgqPF"],"license":"Apache-2.0"},"contracts/src/interfaces/IHyperdriveRead.sol":{"keccak256":"0x1c61ba57b783bfa408a4e208e80c1c117850d4d6c9f0e280263d3fcf57a8b2fd","urls":["bzz-raw://5b920d5f0f37014035b6cbba16d898e52654122a0c004a3f75050af93b799496","dweb:/ipfs/QmaneaTDVXbw5HfevR2vFwXWw95EKWcBq8yMgMyWJPHKVW"],"license":"Apache-2.0"},"contracts/src/interfaces/IMultiToken.sol":{"keccak256":"0xcf3a4002275ea64e381f0a4aded3683e12960396ef79ba9dd153e2d1e395baad","urls":["bzz-raw://c9990491f7a5151fd696a45e6e5b0282a1dedf58521861dfb8c64db8cb60f5b6","dweb:/ipfs/QmaywmqqQhz7DeYqZdoeykagr5h4ZhQRv6GasHqvdWqzSy"],"license":"Apache-2.0"},"contracts/src/interfaces/IMultiTokenCore.sol":{"keccak256":"0xdb7f24663cff7307a468ef5e4c6f3e4d01ec0475157b3bbb3405890c3e9ab87d","urls":["bzz-raw://7f631a9a395fba5b07c3d9308fccac18d5aa59d890efe23442ed2a4da9871ae8","dweb:/ipfs/QmV2a4wiAPfWzSST3faYt58i2tqEyoqCLAJV8aNCdJyxVE"],"license":"Apache-2.0"},"contracts/src/interfaces/IMultiTokenMetadata.sol":{"keccak256":"0x476240ea4328bae9ab820b6f0f40afb11c74ee52d26bdbef69e4ece28dc10bdb","urls":["bzz-raw://843f73cb21eaec4e26952fd6cbde5e6815e3a28c438df9e026e249200d25076f","dweb:/ipfs/QmXzE7gsRKMaRGQfTDodA1RXxNxUuBj8RT7grTYjZUdbe6"],"license":"Apache-2.0"},"contracts/src/interfaces/IMultiTokenRead.sol":{"keccak256":"0x9b92d81f2f038fcd4bb5d069ab2b754efc153234c451d4ee4caa6d74aaca16b4","urls":["bzz-raw://8686fddc99564c6b6524ea68a6b7ff081a9988fc795fc13197bb59ddaa2041c6","dweb:/ipfs/QmarJYJAgoH6Z4H1BmdPoRgqLubRu5S6NDXBNV2fDApPuW"],"license":"Apache-2.0"},"contracts/src/internal/HyperdriveBase.sol":{"keccak256":"0x0fbf9c2be16bbfeb3d560e433b21d040292579ba1d21375979008e5eac35d5f6","urls":["bzz-raw://8672d924b7a357df66bb17e37fb485b53e445cab1b7a7171b5c38a93999e4a72","dweb:/ipfs/QmQj3xB5fj7V2mY5rn3JSRxmb4LywPEVSyw95J95HVtVUL"],"license":"Apache-2.0"},"contracts/src/internal/HyperdriveLP.sol":{"keccak256":"0xf7dfba22a0063e2db44e0ccbd3cf5a6aa76f1459893e395656518f34f34bdcf5","urls":["bzz-raw://9b0f953d3fd2613d271c0734693ee809730c6d870f05eed2a083543ff1cec6ad","dweb:/ipfs/QmaRU2waAMaDDKLWXogUVYjivmfPaYXnB6qNoHHZBvwoqH"],"license":"Apache-2.0"},"contracts/src/internal/HyperdriveMultiToken.sol":{"keccak256":"0x61b9f8eb5795fda17a5c35264f53879a7ef022e02b865b015bdb9f5811db6ba5","urls":["bzz-raw://9498f4bfd969d78634da2b0a89b10f88ac467f52d565d9b62561dcc569ad00cd","dweb:/ipfs/QmZdGwc5ezJf2qv8yheoTVF3UTfWJnh6FtAAq7wufhPZ5R"],"license":"Apache-2.0"},"contracts/src/internal/HyperdriveStorage.sol":{"keccak256":"0xe150223822098026c7ce734cd68848e45b47b92b024d34bc25886e9c6af6ec67","urls":["bzz-raw://6590e590f4af53d55e81e06ba8d53346cfce71ce1fa8d1833141f273d74c8a8f","dweb:/ipfs/QmTM582joUpK7KBDWvwWEBi4XT3Qt9x8VLkhwPYj8Qu93o"],"license":"Apache-2.0"},"contracts/src/libraries/AssetId.sol":{"keccak256":"0xcf8493b00dd39c50754a63f66dc612f3cd466cbac8c7ea5ed0c5ea68aa99267a","urls":["bzz-raw://1a1986d6bc80e465dde116a70d3a30027b3e75969117a9b3517c6866c2e5e73a","dweb:/ipfs/QmSASHifHWyKBycGAm1pUs9dw26Uf6A61V9nkEQnFj9mya"],"license":"Apache-2.0"},"contracts/src/libraries/FixedPointMath.sol":{"keccak256":"0x3d2d86890e7287a59bc7171a030f98006a60271812a233027d2e42d8f31ef46c","urls":["bzz-raw://ecf29c3dedf328bd29caef4ce1eba85576d4c4b8d6f77fc255e37c24e8d44e1d","dweb:/ipfs/QmVgmtYXzMkvR1GYsfqnJ1cH2ojmggoKmVuxKQZ9Rw78T1"],"license":"Apache-2.0"},"contracts/src/libraries/HyperdriveMath.sol":{"keccak256":"0xd87293bc10dfe09707a042bf05091baf40ba344bdca141bd99b62256a7611817","urls":["bzz-raw://8f6eadd454c6671c26bd22095c31a3bbaea7083df9aa6548dbaba32a4907e336","dweb:/ipfs/QmY1jMW9DuAk9CSfVS6MsG5onqjZHKzdBrv2TcHvj9yKj4"],"license":"Apache-2.0"},"contracts/src/libraries/LPMath.sol":{"keccak256":"0x077931150bcba5b99dedcd9038f3fbeef9c9230046dc4649c457d75d4be32a5c","urls":["bzz-raw://2a48e4046f7ae8acb965d0f8d79767f4f4c70c1a6a8d3cf635482587412d33fd","dweb:/ipfs/QmcY8FbffppqTMBiMwniXG9R8i8eQoVJuLqqTXgpuiXyUr"],"license":"Apache-2.0"},"contracts/src/libraries/SafeCast.sol":{"keccak256":"0x86d3065b06e2fb93733eb6f19ea0bb6343a51bc6b993c36702dc3e6d50a6d01d","urls":["bzz-raw://f0d303e0a2ed0c99ea194759d9fce5317b6e3a4c40464fc34c09f6f770d402db","dweb:/ipfs/QmVSTsk4YXLe8pcUbQEpihWq9XTcn47L46j8khkvfzyiWB"],"license":"Apache-2.0"},"contracts/src/libraries/YieldSpaceMath.sol":{"keccak256":"0x2f9511684820be7510155adfe3c2c2ef7e2583472946bae37f379bac801fc263","urls":["bzz-raw://7e9a84e4168448e3320a6682c8ba248c8b51757df173b86507e9aba4b6167247","dweb:/ipfs/QmSonetYBP22Fnc8HrcaTxAA1Zg2PCR5ptPiEp22sA77Ka"],"license":"Apache-2.0"},"lib/solmate/src/utils/ReentrancyGuard.sol":{"keccak256":"0xb282dd78aa7375d6b200b9a5d8dd214b2e5df1004f8217a4b4c2b07f0c5bfd01","urls":["bzz-raw://5fca62eb8d3dbd2b3b7e4bb051f6da16f4d0ff9cee61c39cebb80f031f6a8800","dweb:/ipfs/QmbrsXPK91iBFwHKwJs2HLRud2KzMoBDRiWYMUtyV5H57j"],"license":"AGPL-3.0-only"}},"version":1},"ast":{"absolutePath":"contracts/src/internal/HyperdriveLP.sol","id":8842,"exportedSymbols":{"AssetId":[11509],"FixedPointMath":[12293],"HyperdriveBase":[7580],"HyperdriveLP":[8841],"HyperdriveMath":[12857],"HyperdriveMultiToken":[10097],"IHyperdrive":[5658],"LPMath":[15435],"SafeCast":[15541]},"nodeType":"SourceUnit","src":"39:19284:60","nodes":[{"id":8035,"nodeType":"PragmaDirective","src":"39:23:60","nodes":[],"literals":["solidity","0.8",".19"]},{"id":8037,"nodeType":"ImportDirective","src":"64:60:60","nodes":[],"absolutePath":"contracts/src/interfaces/IHyperdrive.sol","file":"../interfaces/IHyperdrive.sol","nameLocation":"-1:-1:-1","scope":8842,"sourceUnit":5659,"symbolAliases":[{"foreign":{"id":8036,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"73:11:60","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":8039,"nodeType":"ImportDirective","src":"125:51:60","nodes":[],"absolutePath":"contracts/src/libraries/AssetId.sol","file":"../libraries/AssetId.sol","nameLocation":"-1:-1:-1","scope":8842,"sourceUnit":11510,"symbolAliases":[{"foreign":{"id":8038,"name":"AssetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11509,"src":"134:7:60","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":8041,"nodeType":"ImportDirective","src":"177:65:60","nodes":[],"absolutePath":"contracts/src/libraries/FixedPointMath.sol","file":"../libraries/FixedPointMath.sol","nameLocation":"-1:-1:-1","scope":8842,"sourceUnit":12294,"symbolAliases":[{"foreign":{"id":8040,"name":"FixedPointMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12293,"src":"186:14:60","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":8043,"nodeType":"ImportDirective","src":"243:65:60","nodes":[],"absolutePath":"contracts/src/libraries/HyperdriveMath.sol","file":"../libraries/HyperdriveMath.sol","nameLocation":"-1:-1:-1","scope":8842,"sourceUnit":12858,"symbolAliases":[{"foreign":{"id":8042,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12857,"src":"252:14:60","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":8045,"nodeType":"ImportDirective","src":"309:49:60","nodes":[],"absolutePath":"contracts/src/libraries/LPMath.sol","file":"../libraries/LPMath.sol","nameLocation":"-1:-1:-1","scope":8842,"sourceUnit":15436,"symbolAliases":[{"foreign":{"id":8044,"name":"LPMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15435,"src":"318:6:60","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":8047,"nodeType":"ImportDirective","src":"359:53:60","nodes":[],"absolutePath":"contracts/src/libraries/SafeCast.sol","file":"../libraries/SafeCast.sol","nameLocation":"-1:-1:-1","scope":8842,"sourceUnit":15542,"symbolAliases":[{"foreign":{"id":8046,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15541,"src":"368:8:60","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":8049,"nodeType":"ImportDirective","src":"413:54:60","nodes":[],"absolutePath":"contracts/src/internal/HyperdriveBase.sol","file":"./HyperdriveBase.sol","nameLocation":"-1:-1:-1","scope":8842,"sourceUnit":7581,"symbolAliases":[{"foreign":{"id":8048,"name":"HyperdriveBase","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":7580,"src":"422:14:60","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":8051,"nodeType":"ImportDirective","src":"468:66:60","nodes":[],"absolutePath":"contracts/src/internal/HyperdriveMultiToken.sol","file":"./HyperdriveMultiToken.sol","nameLocation":"-1:-1:-1","scope":8842,"sourceUnit":10098,"symbolAliases":[{"foreign":{"id":8050,"name":"HyperdriveMultiToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10097,"src":"477:20:60","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":8841,"nodeType":"ContractDefinition","src":"858:18464:60","nodes":[{"id":8059,"nodeType":"UsingForDirective","src":"935:33:60","nodes":[],"global":false,"libraryName":{"id":8057,"name":"FixedPointMath","nameLocations":["941:14:60"],"nodeType":"IdentifierPath","referencedDeclaration":12293,"src":"941:14:60"},"typeName":{"id":8058,"name":"uint256","nodeType":"ElementaryTypeName","src":"960:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":8062,"nodeType":"UsingForDirective","src":"973:26:60","nodes":[],"global":false,"libraryName":{"id":8060,"name":"SafeCast","nameLocations":["979:8:60"],"nodeType":"IdentifierPath","referencedDeclaration":15541,"src":"979:8:60"},"typeName":{"id":8061,"name":"int256","nodeType":"ElementaryTypeName","src":"992:6:60","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}},{"id":8065,"nodeType":"UsingForDirective","src":"1004:27:60","nodes":[],"global":false,"libraryName":{"id":8063,"name":"SafeCast","nameLocations":["1010:8:60"],"nodeType":"IdentifierPath","referencedDeclaration":15541,"src":"1010:8:60"},"typeName":{"id":8064,"name":"uint256","nodeType":"ElementaryTypeName","src":"1023:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":8194,"nodeType":"FunctionDefinition","src":"1348:3446:60","nodes":[],"body":{"id":8193,"nodeType":"Block","src":"1524:3270:60","nodes":[],"statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":8080,"name":"_checkMessageValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6709,"src":"1601:18:60","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$__$","typeString":"function () view"}},"id":8081,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1601:20:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8082,"nodeType":"ExpressionStatement","src":"1601:20:60"},{"condition":{"expression":{"id":8083,"name":"_marketState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10976,"src":"1697:12:60","typeDescriptions":{"typeIdentifier":"t_struct$_MarketState_$5328_storage","typeString":"struct IHyperdrive.MarketState storage ref"}},"id":8084,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1710:13:60","memberName":"isInitialized","nodeType":"MemberAccess","referencedDeclaration":5318,"src":"1697:26:60","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8091,"nodeType":"IfStatement","src":"1693:100:60","trueBody":{"id":8090,"nodeType":"Block","src":"1725:68:60","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8085,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"1746:11:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":8087,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1758:22:60","memberName":"PoolAlreadyInitialized","nodeType":"MemberAccess","referencedDeclaration":5536,"src":"1746:34:60","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":8088,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1746:36:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8089,"nodeType":"RevertStatement","src":"1739:43:60"}]}},{"assignments":[8093,8095],"declarations":[{"constant":false,"id":8093,"mutability":"mutable","name":"vaultShares","nameLocation":"1929:11:60","nodeType":"VariableDeclaration","scope":8193,"src":"1921:19:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8092,"name":"uint256","nodeType":"ElementaryTypeName","src":"1921:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8095,"mutability":"mutable","name":"sharePrice","nameLocation":"1950:10:60","nodeType":"VariableDeclaration","scope":8193,"src":"1942:18:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8094,"name":"uint256","nodeType":"ElementaryTypeName","src":"1942:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8100,"initialValue":{"arguments":[{"id":8097,"name":"_contribution","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8068,"src":"1986:13:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8098,"name":"_options","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8073,"src":"2013:8:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}],"id":8096,"name":"_deposit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6722,"src":"1964:8:60","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_struct$_Options_$5483_calldata_ptr_$returns$_t_uint256_$_t_uint256_$","typeString":"function (uint256,struct IHyperdrive.Options calldata) returns (uint256,uint256)"}},"id":8099,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1964:67:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"1920:111:60"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8105,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8101,"name":"vaultShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8093,"src":"2942:11:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8104,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"hexValue":"32","id":8102,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2956:1:60","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":8103,"name":"_minimumShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10969,"src":"2960:21:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2956:25:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2942:39:60","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8112,"nodeType":"IfStatement","src":"2938:115:60","trueBody":{"id":8111,"nodeType":"Block","src":"2983:70:60","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8106,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"3004:11:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":8108,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3016:24:60","memberName":"BelowMinimumContribution","nodeType":"MemberAccess","referencedDeclaration":5486,"src":"3004:36:60","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":8109,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3004:38:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8110,"nodeType":"RevertStatement","src":"2997:45:60"}]}},{"expression":{"id":8119,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8113,"name":"lpShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8078,"src":"3062:8:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8118,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8114,"name":"vaultShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8093,"src":"3073:11:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8117,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"hexValue":"32","id":8115,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3087:1:60","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":8116,"name":"_minimumShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10969,"src":"3091:21:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3087:25:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3073:39:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3062:50:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8120,"nodeType":"ExpressionStatement","src":"3062:50:60"},{"expression":{"id":8125,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":8121,"name":"_marketState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10976,"src":"3169:12:60","typeDescriptions":{"typeIdentifier":"t_struct$_MarketState_$5328_storage","typeString":"struct IHyperdrive.MarketState storage ref"}},"id":8123,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3182:13:60","memberName":"isInitialized","nodeType":"MemberAccess","referencedDeclaration":5318,"src":"3169:26:60","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"74727565","id":8124,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"3198:4:60","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"3169:33:60","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8126,"nodeType":"ExpressionStatement","src":"3169:33:60"},{"expression":{"id":8133,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":8127,"name":"_marketState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10976,"src":"3342:12:60","typeDescriptions":{"typeIdentifier":"t_struct$_MarketState_$5328_storage","typeString":"struct IHyperdrive.MarketState storage ref"}},"id":8129,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3355:13:60","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":5294,"src":"3342:26:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8130,"name":"vaultShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8093,"src":"3371:11:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8131,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3383:9:60","memberName":"toUint128","nodeType":"MemberAccess","referencedDeclaration":15500,"src":"3371:21:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint128_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint128)"}},"id":8132,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3371:23:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"3342:52:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":8134,"nodeType":"ExpressionStatement","src":"3342:52:60"},{"expression":{"id":8148,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":8135,"name":"_marketState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10976,"src":"3404:12:60","typeDescriptions":{"typeIdentifier":"t_struct$_MarketState_$5328_storage","typeString":"struct IHyperdrive.MarketState storage ref"}},"id":8137,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3417:12:60","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":5297,"src":"3404:25:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":8140,"name":"vaultShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8093,"src":"3506:11:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8141,"name":"_initialSharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10966,"src":"3535:18:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8142,"name":"_apr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8070,"src":"3571:4:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8143,"name":"_positionDuration","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10948,"src":"3593:17:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8144,"name":"_timeStretch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10951,"src":"3628:12:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":8138,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12857,"src":"3432:14:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$12857_$","typeString":"type(library HyperdriveMath)"}},"id":8139,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3460:28:60","memberName":"calculateInitialBondReserves","nodeType":"MemberAccess","referencedDeclaration":12453,"src":"3432:56:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":8145,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3432:222:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8146,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3668:9:60","memberName":"toUint128","nodeType":"MemberAccess","referencedDeclaration":15500,"src":"3432:245:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint128_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint128)"}},"id":8147,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3432:247:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"3404:275:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":8149,"nodeType":"ExpressionStatement","src":"3404:275:60"},{"expression":{"arguments":[{"expression":{"id":8151,"name":"AssetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11509,"src":"4190:7:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AssetId_$11509_$","typeString":"type(library AssetId)"}},"id":8152,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4198:12:60","memberName":"_LP_ASSET_ID","nodeType":"MemberAccess","referencedDeclaration":11201,"src":"4190:20:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[{"hexValue":"30","id":8155,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4220:1:60","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":8154,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4212:7:60","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":8153,"name":"address","nodeType":"ElementaryTypeName","src":"4212:7:60","typeDescriptions":{}}},"id":8156,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4212:10:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8157,"name":"_minimumShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10969,"src":"4224:21:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8150,"name":"_mint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9904,"src":"4184:5:60","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_address_$_t_uint256_$returns$__$","typeString":"function (uint256,address,uint256)"}},"id":8158,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4184:62:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8159,"nodeType":"ExpressionStatement","src":"4184:62:60"},{"expression":{"arguments":[{"expression":{"id":8161,"name":"AssetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11509,"src":"4262:7:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AssetId_$11509_$","typeString":"type(library AssetId)"}},"id":8162,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4270:12:60","memberName":"_LP_ASSET_ID","nodeType":"MemberAccess","referencedDeclaration":11201,"src":"4262:20:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":8163,"name":"_options","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8073,"src":"4284:8:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}},"id":8164,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4293:11:60","memberName":"destination","nodeType":"MemberAccess","referencedDeclaration":5476,"src":"4284:20:60","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8165,"name":"lpShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8078,"src":"4306:8:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8160,"name":"_mint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9904,"src":"4256:5:60","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_address_$_t_uint256_$returns$__$","typeString":"function (uint256,address,uint256)"}},"id":8166,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4256:59:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8167,"nodeType":"ExpressionStatement","src":"4256:59:60"},{"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"id":8169,"name":"_latestCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6852,"src":"4384:17:60","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_uint256_$","typeString":"function () view returns (uint256)"}},"id":8170,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4384:19:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8171,"name":"sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8095,"src":"4405:10:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8168,"name":"_applyCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6764,"src":"4367:16:60","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) returns (uint256)"}},"id":8172,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4367:49:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8173,"nodeType":"ExpressionStatement","src":"4367:49:60"},{"assignments":[8175],"declarations":[{"constant":false,"id":8175,"mutability":"mutable","name":"baseContribution","nameLocation":"4472:16:60","nodeType":"VariableDeclaration","scope":8193,"src":"4464:24:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8174,"name":"uint256","nodeType":"ElementaryTypeName","src":"4464:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8181,"initialValue":{"arguments":[{"id":8177,"name":"_contribution","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8068,"src":"4529:13:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8178,"name":"sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8095,"src":"4556:10:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8179,"name":"_options","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8073,"src":"4580:8:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}],"id":8176,"name":"_convertToBaseFromOption","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":7553,"src":"4491:24:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_struct$_Options_$5483_calldata_ptr_$returns$_t_uint256_$","typeString":"function (uint256,uint256,struct IHyperdrive.Options calldata) pure returns (uint256)"}},"id":8180,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4491:107:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4464:134:60"},{"eventCall":{"arguments":[{"expression":{"id":8183,"name":"_options","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8073,"src":"4637:8:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}},"id":8184,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4646:11:60","memberName":"destination","nodeType":"MemberAccess","referencedDeclaration":5476,"src":"4637:20:60","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8185,"name":"lpShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8078,"src":"4671:8:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8186,"name":"baseContribution","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8175,"src":"4693:16:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8187,"name":"sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8095,"src":"4723:10:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8188,"name":"_apr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8070,"src":"4747:4:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8182,"name":"Initialize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6573,"src":"4613:10:60","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,uint256,uint256,uint256,uint256)"}},"id":8189,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4613:148:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8190,"nodeType":"EmitStatement","src":"4608:153:60"},{"expression":{"id":8191,"name":"lpShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8078,"src":"4779:8:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":8079,"id":8192,"nodeType":"Return","src":"4772:15:60"}]},"documentation":{"id":8066,"nodeType":"StructuredDocumentation","src":"1037:306:60","text":"@dev Allows the first LP to initialize the market with a target APR.\n @param _contribution The amount to supply.\n @param _apr The target APR.\n @param _options The options that configure how the operation is settled.\n @return lpShares The initial number of LP shares created."},"implemented":true,"kind":"function","modifiers":[{"id":8076,"kind":"modifierInvocation","modifierName":{"id":8075,"name":"nonReentrant","nameLocations":["1484:12:60"],"nodeType":"IdentifierPath","referencedDeclaration":65498,"src":"1484:12:60"},"nodeType":"ModifierInvocation","src":"1484:12:60"}],"name":"_initialize","nameLocation":"1357:11:60","parameters":{"id":8074,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8068,"mutability":"mutable","name":"_contribution","nameLocation":"1386:13:60","nodeType":"VariableDeclaration","scope":8194,"src":"1378:21:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8067,"name":"uint256","nodeType":"ElementaryTypeName","src":"1378:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8070,"mutability":"mutable","name":"_apr","nameLocation":"1417:4:60","nodeType":"VariableDeclaration","scope":8194,"src":"1409:12:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8069,"name":"uint256","nodeType":"ElementaryTypeName","src":"1409:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8073,"mutability":"mutable","name":"_options","nameLocation":"1460:8:60","nodeType":"VariableDeclaration","scope":8194,"src":"1431:37:60","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options"},"typeName":{"id":8072,"nodeType":"UserDefinedTypeName","pathNode":{"id":8071,"name":"IHyperdrive.Options","nameLocations":["1431:11:60","1443:7:60"],"nodeType":"IdentifierPath","referencedDeclaration":5483,"src":"1431:19:60"},"referencedDeclaration":5483,"src":"1431:19:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_storage_ptr","typeString":"struct IHyperdrive.Options"}},"visibility":"internal"}],"src":"1368:106:60"},"returnParameters":{"id":8079,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8078,"mutability":"mutable","name":"lpShares","nameLocation":"1514:8:60","nodeType":"VariableDeclaration","scope":8194,"src":"1506:16:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8077,"name":"uint256","nodeType":"ElementaryTypeName","src":"1506:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1505:18:60"},"scope":8841,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":8408,"nodeType":"FunctionDefinition","src":"5202:4066:60","nodes":[],"body":{"id":8407,"nodeType":"Block","src":"5420:3848:60","nodes":[],"statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":8213,"name":"_checkMessageValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6709,"src":"5497:18:60","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$__$","typeString":"function () view"}},"id":8214,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5497:20:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8215,"nodeType":"ExpressionStatement","src":"5497:20:60"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8218,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8216,"name":"_contribution","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8197,"src":"5531:13:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":8217,"name":"_minimumTransactionAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10972,"src":"5547:25:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5531:41:60","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8225,"nodeType":"IfStatement","src":"5527:117:60","trueBody":{"id":8224,"nodeType":"Block","src":"5574:70:60","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8219,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"5595:11:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":8221,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5607:24:60","memberName":"MinimumTransactionAmount","nodeType":"MemberAccess","referencedDeclaration":5522,"src":"5595:36:60","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":8222,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5595:38:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8223,"nodeType":"RevertStatement","src":"5588:45:60"}]}},{"assignments":[8227],"declarations":[{"constant":false,"id":8227,"mutability":"mutable","name":"apr","nameLocation":"5701:3:60","nodeType":"VariableDeclaration","scope":8407,"src":"5693:11:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8226,"name":"uint256","nodeType":"ElementaryTypeName","src":"5693:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8238,"initialValue":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"id":8230,"name":"_effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6867,"src":"5752:23:60","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_uint256_$","typeString":"function () view returns (uint256)"}},"id":8231,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5752:25:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":8232,"name":"_marketState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10976,"src":"5791:12:60","typeDescriptions":{"typeIdentifier":"t_struct$_MarketState_$5328_storage","typeString":"struct IHyperdrive.MarketState storage ref"}},"id":8233,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5804:12:60","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":5297,"src":"5791:25:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"id":8234,"name":"_initialSharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10966,"src":"5830:18:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8235,"name":"_positionDuration","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10948,"src":"5862:17:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8236,"name":"_timeStretch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10951,"src":"5893:12:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":8228,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12857,"src":"5707:14:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$12857_$","typeString":"type(library HyperdriveMath)"}},"id":8229,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5722:16:60","memberName":"calculateSpotAPR","nodeType":"MemberAccess","referencedDeclaration":12378,"src":"5707:31:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":8237,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5707:208:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5693:222:60"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":8245,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8241,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8239,"name":"apr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8227,"src":"5929:3:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":8240,"name":"_minApr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8199,"src":"5935:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5929:13:60","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8244,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8242,"name":"apr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8227,"src":"5946:3:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":8243,"name":"_maxApr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8201,"src":"5952:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5946:13:60","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5929:30:60","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8252,"nodeType":"IfStatement","src":"5925:92:60","trueBody":{"id":8251,"nodeType":"Block","src":"5961:56:60","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8246,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"5982:11:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":8248,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5994:10:60","memberName":"InvalidApr","nodeType":"MemberAccess","referencedDeclaration":5492,"src":"5982:22:60","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":8249,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5982:24:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8250,"nodeType":"RevertStatement","src":"5975:31:60"}]}},{"assignments":[8254,8256],"declarations":[{"constant":false,"id":8254,"mutability":"mutable","name":"vaultShares","nameLocation":"6104:11:60","nodeType":"VariableDeclaration","scope":8407,"src":"6096:19:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8253,"name":"uint256","nodeType":"ElementaryTypeName","src":"6096:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8256,"mutability":"mutable","name":"sharePrice","nameLocation":"6125:10:60","nodeType":"VariableDeclaration","scope":8407,"src":"6117:18:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8255,"name":"uint256","nodeType":"ElementaryTypeName","src":"6117:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8261,"initialValue":{"arguments":[{"id":8258,"name":"_contribution","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8197,"src":"6161:13:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8259,"name":"_options","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8204,"src":"6188:8:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}],"id":8257,"name":"_deposit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6722,"src":"6139:8:60","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_struct$_Options_$5483_calldata_ptr_$returns$_t_uint256_$_t_uint256_$","typeString":"function (uint256,struct IHyperdrive.Options calldata) returns (uint256,uint256)"}},"id":8260,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6139:67:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"6095:111:60"},{"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"id":8263,"name":"_latestCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6852,"src":"6267:17:60","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_uint256_$","typeString":"function () view returns (uint256)"}},"id":8264,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6267:19:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8265,"name":"sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8256,"src":"6288:10:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8262,"name":"_applyCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6764,"src":"6250:16:60","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) returns (uint256)"}},"id":8266,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6250:49:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8267,"nodeType":"ExpressionStatement","src":"6250:49:60"},{"assignments":[8269],"declarations":[{"constant":false,"id":8269,"mutability":"mutable","name":"withdrawalSharesOutstanding","nameLocation":"6725:27:60","nodeType":"VariableDeclaration","scope":8407,"src":"6717:35:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8268,"name":"uint256","nodeType":"ElementaryTypeName","src":"6717:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8277,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8276,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"baseExpression":{"id":8270,"name":"_totalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11018,"src":"6755:12:60","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":8273,"indexExpression":{"expression":{"id":8271,"name":"AssetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11509,"src":"6781:7:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AssetId_$11509_$","typeString":"type(library AssetId)"}},"id":8272,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"6789:26:60","memberName":"_WITHDRAWAL_SHARE_ASSET_ID","nodeType":"MemberAccess","referencedDeclaration":11210,"src":"6781:34:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6755:70:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":8274,"name":"_withdrawPool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10980,"src":"6828:13:60","typeDescriptions":{"typeIdentifier":"t_struct$_WithdrawPool_$5339_storage","typeString":"struct IHyperdrive.WithdrawPool storage ref"}},"id":8275,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"6842:15:60","memberName":"readyToWithdraw","nodeType":"MemberAccess","referencedDeclaration":5335,"src":"6828:29:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"6755:102:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6717:140:60"},{"assignments":[8279],"declarations":[{"constant":false,"id":8279,"mutability":"mutable","name":"lpTotalSupply","nameLocation":"6875:13:60","nodeType":"VariableDeclaration","scope":8407,"src":"6867:21:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8278,"name":"uint256","nodeType":"ElementaryTypeName","src":"6867:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8286,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8285,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"baseExpression":{"id":8280,"name":"_totalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11018,"src":"6891:12:60","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":8283,"indexExpression":{"expression":{"id":8281,"name":"AssetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11509,"src":"6904:7:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AssetId_$11509_$","typeString":"type(library AssetId)"}},"id":8282,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"6912:12:60","memberName":"_LP_ASSET_ID","nodeType":"MemberAccess","referencedDeclaration":11201,"src":"6904:20:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6891:34:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":8284,"name":"withdrawalSharesOutstanding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8269,"src":"6940:27:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6891:76:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6867:100:60"},{"assignments":[8288],"declarations":[{"constant":false,"id":8288,"mutability":"mutable","name":"endingPresentValue","nameLocation":"7040:18:60","nodeType":"VariableDeclaration","scope":8407,"src":"7032:26:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8287,"name":"uint256","nodeType":"ElementaryTypeName","src":"7032:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8289,"nodeType":"VariableDeclarationStatement","src":"7032:26:60"},{"assignments":[8291],"declarations":[{"constant":false,"id":8291,"mutability":"mutable","name":"startingPresentValue","nameLocation":"7076:20:60","nodeType":"VariableDeclaration","scope":8407,"src":"7068:28:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8290,"name":"uint256","nodeType":"ElementaryTypeName","src":"7068:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8292,"nodeType":"VariableDeclarationStatement","src":"7068:28:60"},{"id":8365,"nodeType":"Block","src":"7106:1455:60","statements":[{"assignments":[8297],"declarations":[{"constant":false,"id":8297,"mutability":"mutable","name":"params","nameLocation":"7226:6:60","nodeType":"VariableDeclaration","scope":8365,"src":"7193:39:60","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams"},"typeName":{"id":8296,"nodeType":"UserDefinedTypeName","pathNode":{"id":8295,"name":"LPMath.PresentValueParams","nameLocations":["7193:6:60","7200:18:60"],"nodeType":"IdentifierPath","referencedDeclaration":13030,"src":"7193:25:60"},"referencedDeclaration":13030,"src":"7193:25:60","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_storage_ptr","typeString":"struct LPMath.PresentValueParams"}},"visibility":"internal"}],"id":8301,"initialValue":{"arguments":[{"id":8299,"name":"sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8256,"src":"7275:10:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8298,"name":"_getPresentValueParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":7013,"src":"7235:22:60","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_struct$_PresentValueParams_$13030_memory_ptr_$","typeString":"function (uint256) view returns (struct LPMath.PresentValueParams memory)"}},"id":8300,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7235:64:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"nodeType":"VariableDeclarationStatement","src":"7193:106:60"},{"expression":{"id":8307,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8302,"name":"startingPresentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8291,"src":"7313:20:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":8305,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8297,"src":"7365:6:60","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}],"expression":{"id":8303,"name":"LPMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15435,"src":"7336:6:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_LPMath_$15435_$","typeString":"type(library LPMath)"}},"id":8304,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7343:21:60","memberName":"calculatePresentValue","nodeType":"MemberAccess","referencedDeclaration":13059,"src":"7336:28:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_PresentValueParams_$13030_memory_ptr_$returns$_t_uint256_$","typeString":"function (struct LPMath.PresentValueParams memory) pure returns (uint256)"}},"id":8306,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7336:36:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7313:59:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8308,"nodeType":"ExpressionStatement","src":"7313:59:60"},{"expression":{"arguments":[{"arguments":[{"id":8312,"name":"vaultShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8254,"src":"7519:11:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8311,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7512:6:60","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":8310,"name":"int256","nodeType":"ElementaryTypeName","src":"7512:6:60","typeDescriptions":{}}},"id":8313,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7512:19:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":8309,"name":"_updateLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8840,"src":"7495:16:60","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_int256_$returns$__$","typeString":"function (int256)"}},"id":8314,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7495:37:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8315,"nodeType":"ExpressionStatement","src":"7495:37:60"},{"expression":{"id":8321,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":8316,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8297,"src":"7546:6:60","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":8318,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"7553:13:60","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":13009,"src":"7546:20:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":8319,"name":"_marketState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10976,"src":"7569:12:60","typeDescriptions":{"typeIdentifier":"t_struct$_MarketState_$5328_storage","typeString":"struct IHyperdrive.MarketState storage ref"}},"id":8320,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7582:13:60","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":5294,"src":"7569:26:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"7546:49:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8322,"nodeType":"ExpressionStatement","src":"7546:49:60"},{"expression":{"id":8328,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":8323,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8297,"src":"7609:6:60","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":8325,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"7616:15:60","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":13011,"src":"7609:22:60","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":8326,"name":"_marketState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10976,"src":"7634:12:60","typeDescriptions":{"typeIdentifier":"t_struct$_MarketState_$5328_storage","typeString":"struct IHyperdrive.MarketState storage ref"}},"id":8327,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7647:15:60","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":5306,"src":"7634:28:60","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"src":"7609:53:60","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":8329,"nodeType":"ExpressionStatement","src":"7609:53:60"},{"expression":{"id":8335,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":8330,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8297,"src":"7676:6:60","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":8332,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"7683:12:60","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":13013,"src":"7676:19:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":8333,"name":"_marketState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10976,"src":"7698:12:60","typeDescriptions":{"typeIdentifier":"t_struct$_MarketState_$5328_storage","typeString":"struct IHyperdrive.MarketState storage ref"}},"id":8334,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7711:12:60","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":5297,"src":"7698:25:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"7676:47:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8336,"nodeType":"ExpressionStatement","src":"7676:47:60"},{"expression":{"id":8342,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8337,"name":"endingPresentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8288,"src":"7737:18:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":8340,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8297,"src":"7787:6:60","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}],"expression":{"id":8338,"name":"LPMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15435,"src":"7758:6:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_LPMath_$15435_$","typeString":"type(library LPMath)"}},"id":8339,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7765:21:60","memberName":"calculatePresentValue","nodeType":"MemberAccess","referencedDeclaration":13059,"src":"7758:28:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_PresentValueParams_$13030_memory_ptr_$returns$_t_uint256_$","typeString":"function (struct LPMath.PresentValueParams memory) pure returns (uint256)"}},"id":8341,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7758:36:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7737:57:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8343,"nodeType":"ExpressionStatement","src":"7737:57:60"},{"expression":{"id":8353,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8344,"name":"lpShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8211,"src":"8183:8:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":8350,"name":"lpTotalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8279,"src":"8266:13:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8351,"name":"startingPresentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8291,"src":"8297:20:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8347,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8345,"name":"endingPresentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8288,"src":"8195:18:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":8346,"name":"startingPresentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8291,"src":"8216:20:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8195:41:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":8348,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"8194:43:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8349,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8238:10:60","memberName":"mulDivDown","nodeType":"MemberAccess","referencedDeclaration":11541,"src":"8194:54:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":8352,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8194:137:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8183:148:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8354,"nodeType":"ExpressionStatement","src":"8183:148:60"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8357,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8355,"name":"lpShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8211,"src":"8435:8:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":8356,"name":"_minimumTransactionAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10972,"src":"8446:25:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8435:36:60","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8364,"nodeType":"IfStatement","src":"8431:120:60","trueBody":{"id":8363,"nodeType":"Block","src":"8473:78:60","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8358,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"8498:11:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":8360,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8510:24:60","memberName":"MinimumTransactionAmount","nodeType":"MemberAccess","referencedDeclaration":5522,"src":"8498:36:60","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":8361,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8498:38:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8362,"nodeType":"RevertStatement","src":"8491:45:60"}]}}]},{"expression":{"arguments":[{"expression":{"id":8367,"name":"AssetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11509,"src":"8620:7:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AssetId_$11509_$","typeString":"type(library AssetId)"}},"id":8368,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"8628:12:60","memberName":"_LP_ASSET_ID","nodeType":"MemberAccess","referencedDeclaration":11201,"src":"8620:20:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":8369,"name":"_options","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8204,"src":"8642:8:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}},"id":8370,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8651:11:60","memberName":"destination","nodeType":"MemberAccess","referencedDeclaration":5476,"src":"8642:20:60","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8371,"name":"lpShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8211,"src":"8664:8:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8366,"name":"_mint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9904,"src":"8614:5:60","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_address_$_t_uint256_$returns$__$","typeString":"function (uint256,address,uint256)"}},"id":8372,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8614:59:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8373,"nodeType":"ExpressionStatement","src":"8614:59:60"},{"expression":{"arguments":[{"id":8375,"name":"sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8256,"src":"8768:10:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8374,"name":"_distributeExcessIdle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8764,"src":"8746:21:60","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":8376,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8746:33:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8377,"nodeType":"ExpressionStatement","src":"8746:33:60"},{"assignments":[8379],"declarations":[{"constant":false,"id":8379,"mutability":"mutable","name":"lpSharePrice","nameLocation":"8837:12:60","nodeType":"VariableDeclaration","scope":8407,"src":"8829:20:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8378,"name":"uint256","nodeType":"ElementaryTypeName","src":"8829:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8389,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8382,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8380,"name":"lpTotalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8279,"src":"8852:13:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":8381,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8869:1:60","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8852:18:60","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[{"id":8386,"name":"lpTotalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8279,"src":"8930:13:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":8384,"name":"startingPresentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8291,"src":"8901:20:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8385,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8922:7:60","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"8901:28:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":8387,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8901:43:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8388,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"8852:92:60","trueExpression":{"hexValue":"30","id":8383,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8885:1:60","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8829:115:60"},{"assignments":[8391],"declarations":[{"constant":false,"id":8391,"mutability":"mutable","name":"baseContribution","nameLocation":"8962:16:60","nodeType":"VariableDeclaration","scope":8407,"src":"8954:24:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8390,"name":"uint256","nodeType":"ElementaryTypeName","src":"8954:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8397,"initialValue":{"arguments":[{"id":8393,"name":"_contribution","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8197,"src":"9019:13:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8394,"name":"sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8256,"src":"9046:10:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8395,"name":"_options","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8204,"src":"9070:8:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}],"id":8392,"name":"_convertToBaseFromOption","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":7553,"src":"8981:24:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_struct$_Options_$5483_calldata_ptr_$returns$_t_uint256_$","typeString":"function (uint256,uint256,struct IHyperdrive.Options calldata) pure returns (uint256)"}},"id":8396,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8981:107:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8954:134:60"},{"eventCall":{"arguments":[{"expression":{"id":8399,"name":"_options","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8204,"src":"9129:8:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}},"id":8400,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9138:11:60","memberName":"destination","nodeType":"MemberAccess","referencedDeclaration":5476,"src":"9129:20:60","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8401,"name":"lpShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8211,"src":"9163:8:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8402,"name":"baseContribution","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8391,"src":"9185:16:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8403,"name":"sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8256,"src":"9215:10:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8404,"name":"lpSharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8379,"src":"9239:12:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8398,"name":"AddLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6585,"src":"9103:12:60","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,uint256,uint256,uint256,uint256)"}},"id":8405,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9103:158:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8406,"nodeType":"EmitStatement","src":"9098:163:60"}]},"documentation":{"id":8195,"nodeType":"StructuredDocumentation","src":"4800:397:60","text":"@dev Allows LPs to supply liquidity for LP shares.\n @param _contribution The amount to supply.\n @param _minApr The minimum APR at which the LP is willing to supply.\n @param _maxApr The maximum APR at which the LP is willing to supply.\n @param _options The options that configure how the operation is settled.\n @return lpShares The number of LP tokens created"},"implemented":true,"kind":"function","modifiers":[{"id":8207,"kind":"modifierInvocation","modifierName":{"id":8206,"name":"nonReentrant","nameLocations":["5368:12:60"],"nodeType":"IdentifierPath","referencedDeclaration":65498,"src":"5368:12:60"},"nodeType":"ModifierInvocation","src":"5368:12:60"},{"id":8209,"kind":"modifierInvocation","modifierName":{"id":8208,"name":"isNotPaused","nameLocations":["5381:11:60"],"nodeType":"IdentifierPath","referencedDeclaration":6754,"src":"5381:11:60"},"nodeType":"ModifierInvocation","src":"5381:11:60"}],"name":"_addLiquidity","nameLocation":"5211:13:60","parameters":{"id":8205,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8197,"mutability":"mutable","name":"_contribution","nameLocation":"5242:13:60","nodeType":"VariableDeclaration","scope":8408,"src":"5234:21:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8196,"name":"uint256","nodeType":"ElementaryTypeName","src":"5234:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8199,"mutability":"mutable","name":"_minApr","nameLocation":"5273:7:60","nodeType":"VariableDeclaration","scope":8408,"src":"5265:15:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8198,"name":"uint256","nodeType":"ElementaryTypeName","src":"5265:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8201,"mutability":"mutable","name":"_maxApr","nameLocation":"5298:7:60","nodeType":"VariableDeclaration","scope":8408,"src":"5290:15:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8200,"name":"uint256","nodeType":"ElementaryTypeName","src":"5290:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8204,"mutability":"mutable","name":"_options","nameLocation":"5344:8:60","nodeType":"VariableDeclaration","scope":8408,"src":"5315:37:60","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options"},"typeName":{"id":8203,"nodeType":"UserDefinedTypeName","pathNode":{"id":8202,"name":"IHyperdrive.Options","nameLocations":["5315:11:60","5327:7:60"],"nodeType":"IdentifierPath","referencedDeclaration":5483,"src":"5315:19:60"},"referencedDeclaration":5483,"src":"5315:19:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_storage_ptr","typeString":"struct IHyperdrive.Options"}},"visibility":"internal"}],"src":"5224:134:60"},"returnParameters":{"id":8212,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8211,"mutability":"mutable","name":"lpShares","nameLocation":"5410:8:60","nodeType":"VariableDeclaration","scope":8408,"src":"5402:16:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8210,"name":"uint256","nodeType":"ElementaryTypeName","src":"5402:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5401:18:60"},"scope":8841,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":8514,"nodeType":"FunctionDefinition","src":"10119:1759:60","nodes":[],"body":{"id":8513,"nodeType":"Block","src":"10364:1514:60","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8427,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8425,"name":"_lpShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8411,"src":"10378:9:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":8426,"name":"_minimumTransactionAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10972,"src":"10390:25:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10378:37:60","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8434,"nodeType":"IfStatement","src":"10374:113:60","trueBody":{"id":8433,"nodeType":"Block","src":"10417:70:60","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8428,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"10438:11:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":8430,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10450:24:60","memberName":"MinimumTransactionAmount","nodeType":"MemberAccess","referencedDeclaration":5522,"src":"10438:36:60","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":8431,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10438:38:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8432,"nodeType":"RevertStatement","src":"10431:45:60"}]}},{"assignments":[8436],"declarations":[{"constant":false,"id":8436,"mutability":"mutable","name":"sharePrice","nameLocation":"10538:10:60","nodeType":"VariableDeclaration","scope":8513,"src":"10530:18:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8435,"name":"uint256","nodeType":"ElementaryTypeName","src":"10530:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8439,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":8437,"name":"_pricePerShare","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6741,"src":"10551:14:60","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_uint256_$","typeString":"function () view returns (uint256)"}},"id":8438,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10551:16:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10530:37:60"},{"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"id":8441,"name":"_latestCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6852,"src":"10594:17:60","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_uint256_$","typeString":"function () view returns (uint256)"}},"id":8442,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10594:19:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8443,"name":"sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8436,"src":"10615:10:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8440,"name":"_applyCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6764,"src":"10577:16:60","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) returns (uint256)"}},"id":8444,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10577:49:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8445,"nodeType":"ExpressionStatement","src":"10577:49:60"},{"expression":{"arguments":[{"expression":{"id":8447,"name":"AssetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11509,"src":"10676:7:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AssetId_$11509_$","typeString":"type(library AssetId)"}},"id":8448,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"10684:12:60","memberName":"_LP_ASSET_ID","nodeType":"MemberAccess","referencedDeclaration":11201,"src":"10676:20:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":8449,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"10698:3:60","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":8450,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10702:6:60","memberName":"sender","nodeType":"MemberAccess","src":"10698:10:60","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8451,"name":"_lpShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8411,"src":"10710:9:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8446,"name":"_burn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9941,"src":"10670:5:60","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_address_$_t_uint256_$returns$__$","typeString":"function (uint256,address,uint256)"}},"id":8452,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10670:50:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8453,"nodeType":"ExpressionStatement","src":"10670:50:60"},{"expression":{"arguments":[{"expression":{"id":8455,"name":"AssetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11509,"src":"10809:7:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AssetId_$11509_$","typeString":"type(library AssetId)"}},"id":8456,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"10817:26:60","memberName":"_WITHDRAWAL_SHARE_ASSET_ID","nodeType":"MemberAccess","referencedDeclaration":11210,"src":"10809:34:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":8457,"name":"_options","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8416,"src":"10857:8:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}},"id":8458,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10866:11:60","memberName":"destination","nodeType":"MemberAccess","referencedDeclaration":5476,"src":"10857:20:60","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8459,"name":"_lpShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8411,"src":"10891:9:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8454,"name":"_mint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9904,"src":"10790:5:60","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_address_$_t_uint256_$returns$__$","typeString":"function (uint256,address,uint256)"}},"id":8460,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10790:120:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8461,"nodeType":"ExpressionStatement","src":"10790:120:60"},{"expression":{"arguments":[{"id":8463,"name":"sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8436,"src":"11001:10:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8462,"name":"_distributeExcessIdle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8764,"src":"10979:21:60","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":8464,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10979:33:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8465,"nodeType":"ExpressionStatement","src":"10979:33:60"},{"assignments":[8467],"declarations":[{"constant":false,"id":8467,"mutability":"mutable","name":"withdrawalSharesRedeemed","nameLocation":"11095:24:60","nodeType":"VariableDeclaration","scope":8513,"src":"11087:32:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8466,"name":"uint256","nodeType":"ElementaryTypeName","src":"11087:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8468,"nodeType":"VariableDeclarationStatement","src":"11087:32:60"},{"expression":{"id":8478,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":8469,"name":"proceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8421,"src":"11130:8:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8470,"name":"withdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8467,"src":"11140:24:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":8471,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"11129:36:60","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":8473,"name":"_lpShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8411,"src":"11213:9:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8474,"name":"sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8436,"src":"11236:10:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8475,"name":"_minOutputPerShare","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8413,"src":"11260:18:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8476,"name":"_options","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8416,"src":"11292:8:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}],"id":8472,"name":"_redeemWithdrawalSharesInternal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8692,"src":"11168:31:60","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$_t_struct$_Options_$5483_calldata_ptr_$returns$_t_uint256_$_t_uint256_$","typeString":"function (uint256,uint256,uint256,struct IHyperdrive.Options calldata) returns (uint256,uint256)"}},"id":8477,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11168:142:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"src":"11129:181:60","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8479,"nodeType":"ExpressionStatement","src":"11129:181:60"},{"expression":{"id":8484,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8480,"name":"withdrawalShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8423,"src":"11320:16:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8483,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8481,"name":"_lpShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8411,"src":"11339:9:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":8482,"name":"withdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8467,"src":"11351:24:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11339:36:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11320:55:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8485,"nodeType":"ExpressionStatement","src":"11320:55:60"},{"assignments":[8487],"declarations":[{"constant":false,"id":8487,"mutability":"mutable","name":"baseProceeds","nameLocation":"11435:12:60","nodeType":"VariableDeclaration","scope":8513,"src":"11427:20:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8486,"name":"uint256","nodeType":"ElementaryTypeName","src":"11427:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8493,"initialValue":{"arguments":[{"id":8489,"name":"proceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8421,"src":"11488:8:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8490,"name":"sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8436,"src":"11510:10:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8491,"name":"_options","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8416,"src":"11534:8:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}],"id":8488,"name":"_convertToBaseFromOption","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":7553,"src":"11450:24:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_struct$_Options_$5483_calldata_ptr_$returns$_t_uint256_$","typeString":"function (uint256,uint256,struct IHyperdrive.Options calldata) pure returns (uint256)"}},"id":8492,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11450:102:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"11427:125:60"},{"eventCall":{"arguments":[{"expression":{"id":8495,"name":"_options","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8416,"src":"11596:8:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}},"id":8496,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11605:11:60","memberName":"destination","nodeType":"MemberAccess","referencedDeclaration":5476,"src":"11596:20:60","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8497,"name":"_lpShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8411,"src":"11630:9:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8498,"name":"baseProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8487,"src":"11653:12:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8499,"name":"sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8436,"src":"11679:10:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[{"id":8502,"name":"withdrawalShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8423,"src":"11732:16:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8501,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11724:7:60","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":8500,"name":"uint256","nodeType":"ElementaryTypeName","src":"11724:7:60","typeDescriptions":{}}},"id":8503,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11724:25:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[{"id":8505,"name":"sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8436,"src":"11786:10:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8504,"name":"_calculateLPSharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":7416,"src":"11763:22:60","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":8506,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11763:34:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8494,"name":"RemoveLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6599,"src":"11567:15:60","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,uint256,uint256,uint256,uint256,uint256)"}},"id":8507,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11567:258:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8508,"nodeType":"EmitStatement","src":"11562:263:60"},{"expression":{"components":[{"id":8509,"name":"proceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8421,"src":"11844:8:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8510,"name":"withdrawalShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8423,"src":"11854:16:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":8511,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"11843:28:60","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"functionReturnParameters":8424,"id":8512,"nodeType":"Return","src":"11836:35:60"}]},"documentation":{"id":8409,"nodeType":"StructuredDocumentation","src":"9274:840:60","text":"@dev Allows an LP to burn shares and withdraw from the pool.\n @param _lpShares The LP shares to burn.\n @param _minOutputPerShare The minimum amount of base per LP share that\n        was redeemed.\n @param _options The options that configure how the operation is settled.\n @return proceeds The amount the LP removing liquidity receives. The\n         LP receives a proportional amount of the pool's idle capital\n @return withdrawalShares The base that the LP receives buys out some of\n         their LP shares, but it may not be sufficient to fully buy the\n         LP out. In this case, the LP receives withdrawal shares equal\n         in value to the present value they are owed. As idle capital\n         becomes available, the pool will buy back these shares."},"implemented":true,"kind":"function","modifiers":[{"id":8419,"kind":"modifierInvocation","modifierName":{"id":8418,"name":"nonReentrant","nameLocations":["10286:12:60"],"nodeType":"IdentifierPath","referencedDeclaration":65498,"src":"10286:12:60"},"nodeType":"ModifierInvocation","src":"10286:12:60"}],"name":"_removeLiquidity","nameLocation":"10128:16:60","parameters":{"id":8417,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8411,"mutability":"mutable","name":"_lpShares","nameLocation":"10162:9:60","nodeType":"VariableDeclaration","scope":8514,"src":"10154:17:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8410,"name":"uint256","nodeType":"ElementaryTypeName","src":"10154:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8413,"mutability":"mutable","name":"_minOutputPerShare","nameLocation":"10189:18:60","nodeType":"VariableDeclaration","scope":8514,"src":"10181:26:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8412,"name":"uint256","nodeType":"ElementaryTypeName","src":"10181:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8416,"mutability":"mutable","name":"_options","nameLocation":"10246:8:60","nodeType":"VariableDeclaration","scope":8514,"src":"10217:37:60","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options"},"typeName":{"id":8415,"nodeType":"UserDefinedTypeName","pathNode":{"id":8414,"name":"IHyperdrive.Options","nameLocations":["10217:11:60","10229:7:60"],"nodeType":"IdentifierPath","referencedDeclaration":5483,"src":"10217:19:60"},"referencedDeclaration":5483,"src":"10217:19:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_storage_ptr","typeString":"struct IHyperdrive.Options"}},"visibility":"internal"}],"src":"10144:116:60"},"returnParameters":{"id":8424,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8421,"mutability":"mutable","name":"proceeds","nameLocation":"10324:8:60","nodeType":"VariableDeclaration","scope":8514,"src":"10316:16:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8420,"name":"uint256","nodeType":"ElementaryTypeName","src":"10316:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8423,"mutability":"mutable","name":"withdrawalShares","nameLocation":"10342:16:60","nodeType":"VariableDeclaration","scope":8514,"src":"10334:24:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8422,"name":"uint256","nodeType":"ElementaryTypeName","src":"10334:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"10315:44:60"},"scope":8841,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":8578,"nodeType":"FunctionDefinition","src":"12618:1285:60","nodes":[],"body":{"id":8577,"nodeType":"Block","src":"12886:1017:60","nodes":[],"statements":[{"assignments":[8532],"declarations":[{"constant":false,"id":8532,"mutability":"mutable","name":"sharePrice","nameLocation":"12937:10:60","nodeType":"VariableDeclaration","scope":8577,"src":"12929:18:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8531,"name":"uint256","nodeType":"ElementaryTypeName","src":"12929:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8535,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":8533,"name":"_pricePerShare","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6741,"src":"12950:14:60","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_uint256_$","typeString":"function () view returns (uint256)"}},"id":8534,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12950:16:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"12929:37:60"},{"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"id":8537,"name":"_latestCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6852,"src":"12993:17:60","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_uint256_$","typeString":"function () view returns (uint256)"}},"id":8538,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12993:19:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8539,"name":"sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8532,"src":"13014:10:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8536,"name":"_applyCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6764,"src":"12976:16:60","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) returns (uint256)"}},"id":8540,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12976:49:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8541,"nodeType":"ExpressionStatement","src":"12976:49:60"},{"expression":{"arguments":[{"id":8543,"name":"sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8532,"src":"13172:10:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8542,"name":"_distributeExcessIdle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8764,"src":"13150:21:60","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":8544,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13150:33:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8545,"nodeType":"ExpressionStatement","src":"13150:33:60"},{"expression":{"id":8555,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":8546,"name":"proceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8527,"src":"13259:8:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8547,"name":"withdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8529,"src":"13269:24:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":8548,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"13258:36:60","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":8550,"name":"_withdrawalShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8517,"src":"13342:17:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8551,"name":"sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8532,"src":"13373:10:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8552,"name":"_minOutputPerShare","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8519,"src":"13397:18:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8553,"name":"_options","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8522,"src":"13429:8:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}],"id":8549,"name":"_redeemWithdrawalSharesInternal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8692,"src":"13297:31:60","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$_t_struct$_Options_$5483_calldata_ptr_$returns$_t_uint256_$_t_uint256_$","typeString":"function (uint256,uint256,uint256,struct IHyperdrive.Options calldata) returns (uint256,uint256)"}},"id":8554,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13297:150:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"src":"13258:189:60","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8556,"nodeType":"ExpressionStatement","src":"13258:189:60"},{"assignments":[8558],"declarations":[{"constant":false,"id":8558,"mutability":"mutable","name":"baseProceeds","nameLocation":"13514:12:60","nodeType":"VariableDeclaration","scope":8577,"src":"13506:20:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8557,"name":"uint256","nodeType":"ElementaryTypeName","src":"13506:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8564,"initialValue":{"arguments":[{"id":8560,"name":"proceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8527,"src":"13567:8:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8561,"name":"sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8532,"src":"13589:10:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8562,"name":"_options","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8522,"src":"13613:8:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}],"id":8559,"name":"_convertToBaseFromOption","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":7553,"src":"13529:24:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_struct$_Options_$5483_calldata_ptr_$returns$_t_uint256_$","typeString":"function (uint256,uint256,struct IHyperdrive.Options calldata) pure returns (uint256)"}},"id":8563,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13529:102:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"13506:125:60"},{"eventCall":{"arguments":[{"expression":{"id":8566,"name":"_options","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8522,"src":"13682:8:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}},"id":8567,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13691:11:60","memberName":"destination","nodeType":"MemberAccess","referencedDeclaration":5476,"src":"13682:20:60","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8568,"name":"withdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8529,"src":"13716:24:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8569,"name":"baseProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8558,"src":"13775:12:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8570,"name":"sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8532,"src":"13801:10:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8565,"name":"RedeemWithdrawalShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6609,"src":"13646:22:60","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,uint256,uint256,uint256)"}},"id":8571,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13646:196:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8572,"nodeType":"EmitStatement","src":"13641:201:60"},{"expression":{"components":[{"id":8573,"name":"proceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8527,"src":"13861:8:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8574,"name":"withdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8529,"src":"13871:24:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":8575,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"13860:36:60","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"functionReturnParameters":8530,"id":8576,"nodeType":"Return","src":"13853:43:60"}]},"documentation":{"id":8515,"nodeType":"StructuredDocumentation","src":"11884:729:60","text":"@dev Redeems withdrawal shares by giving the LP a pro-rata amount of the\n      withdrawal pool's proceeds. This function redeems the maximum\n      amount of the specified withdrawal shares given the amount of\n      withdrawal shares ready to withdraw.\n @param _withdrawalShares The withdrawal shares to redeem.\n @param _minOutputPerShare The minimum amount of base the LP expects to\n        receive for each withdrawal share that is burned.\n @param _options The options that configure how the operation is settled.\n @return proceeds The amount the LP received.\n @return withdrawalSharesRedeemed The amount of withdrawal shares that\n         were redeemed."},"implemented":true,"kind":"function","modifiers":[{"id":8525,"kind":"modifierInvocation","modifierName":{"id":8524,"name":"nonReentrant","nameLocations":["12800:12:60"],"nodeType":"IdentifierPath","referencedDeclaration":65498,"src":"12800:12:60"},"nodeType":"ModifierInvocation","src":"12800:12:60"}],"name":"_redeemWithdrawalShares","nameLocation":"12627:23:60","parameters":{"id":8523,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8517,"mutability":"mutable","name":"_withdrawalShares","nameLocation":"12668:17:60","nodeType":"VariableDeclaration","scope":8578,"src":"12660:25:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8516,"name":"uint256","nodeType":"ElementaryTypeName","src":"12660:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8519,"mutability":"mutable","name":"_minOutputPerShare","nameLocation":"12703:18:60","nodeType":"VariableDeclaration","scope":8578,"src":"12695:26:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8518,"name":"uint256","nodeType":"ElementaryTypeName","src":"12695:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8522,"mutability":"mutable","name":"_options","nameLocation":"12760:8:60","nodeType":"VariableDeclaration","scope":8578,"src":"12731:37:60","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options"},"typeName":{"id":8521,"nodeType":"UserDefinedTypeName","pathNode":{"id":8520,"name":"IHyperdrive.Options","nameLocations":["12731:11:60","12743:7:60"],"nodeType":"IdentifierPath","referencedDeclaration":5483,"src":"12731:19:60"},"referencedDeclaration":5483,"src":"12731:19:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_storage_ptr","typeString":"struct IHyperdrive.Options"}},"visibility":"internal"}],"src":"12650:124:60"},"returnParameters":{"id":8530,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8527,"mutability":"mutable","name":"proceeds","nameLocation":"12838:8:60","nodeType":"VariableDeclaration","scope":8578,"src":"12830:16:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8526,"name":"uint256","nodeType":"ElementaryTypeName","src":"12830:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8529,"mutability":"mutable","name":"withdrawalSharesRedeemed","nameLocation":"12856:24:60","nodeType":"VariableDeclaration","scope":8578,"src":"12848:32:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8528,"name":"uint256","nodeType":"ElementaryTypeName","src":"12848:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"12829:52:60"},"scope":8841,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":8692,"nodeType":"FunctionDefinition","src":"14687:1821:60","nodes":[],"body":{"id":8691,"nodeType":"Block","src":"14951:1557:60","nodes":[],"statements":[{"expression":{"id":8597,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8595,"name":"withdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8593,"src":"15153:24:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":8596,"name":"_withdrawalShares","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8581,"src":"15180:17:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15153:44:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8598,"nodeType":"ExpressionStatement","src":"15153:44:60"},{"assignments":[8600],"declarations":[{"constant":false,"id":8600,"mutability":"mutable","name":"readyToWithdraw_","nameLocation":"15215:16:60","nodeType":"VariableDeclaration","scope":8691,"src":"15207:24:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":8599,"name":"uint128","nodeType":"ElementaryTypeName","src":"15207:7:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":8603,"initialValue":{"expression":{"id":8601,"name":"_withdrawPool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10980,"src":"15234:13:60","typeDescriptions":{"typeIdentifier":"t_struct$_WithdrawPool_$5339_storage","typeString":"struct IHyperdrive.WithdrawPool storage ref"}},"id":8602,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"15248:15:60","memberName":"readyToWithdraw","nodeType":"MemberAccess","referencedDeclaration":5335,"src":"15234:29:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"VariableDeclarationStatement","src":"15207:56:60"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8606,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8604,"name":"withdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8593,"src":"15277:24:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":8605,"name":"readyToWithdraw_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8600,"src":"15304:16:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"15277:43:60","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8612,"nodeType":"IfStatement","src":"15273:117:60","trueBody":{"id":8611,"nodeType":"Block","src":"15322:68:60","statements":[{"expression":{"id":8609,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8607,"name":"withdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8593,"src":"15336:24:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":8608,"name":"readyToWithdraw_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8600,"src":"15363:16:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"15336:43:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8610,"nodeType":"ExpressionStatement","src":"15336:43:60"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8615,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8613,"name":"withdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8593,"src":"15403:24:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":8614,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15431:1:60","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"15403:29:60","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8620,"nodeType":"IfStatement","src":"15399:48:60","trueBody":{"expression":{"components":[{"hexValue":"30","id":8616,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15442:1:60","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"30","id":8617,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15445:1:60","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"id":8618,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"15441:6:60","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_rational_0_by_1_$","typeString":"tuple(int_const 0,int_const 0)"}},"functionReturnParameters":8594,"id":8619,"nodeType":"Return","src":"15434:13:60"}},{"expression":{"arguments":[{"expression":{"id":8622,"name":"AssetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11509,"src":"15522:7:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AssetId_$11509_$","typeString":"type(library AssetId)"}},"id":8623,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"15530:26:60","memberName":"_WITHDRAWAL_SHARE_ASSET_ID","nodeType":"MemberAccess","referencedDeclaration":11210,"src":"15522:34:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":8624,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"15570:3:60","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":8625,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"15574:6:60","memberName":"sender","nodeType":"MemberAccess","src":"15570:10:60","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":8626,"name":"withdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8593,"src":"15594:24:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8621,"name":"_burn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9941,"src":"15503:5:60","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_address_$_t_uint256_$returns$__$","typeString":"function (uint256,address,uint256)"}},"id":8627,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15503:125:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8628,"nodeType":"ExpressionStatement","src":"15503:125:60"},{"assignments":[8630],"declarations":[{"constant":false,"id":8630,"mutability":"mutable","name":"proceeds_","nameLocation":"15717:9:60","nodeType":"VariableDeclaration","scope":8691,"src":"15709:17:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":8629,"name":"uint128","nodeType":"ElementaryTypeName","src":"15709:7:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":8633,"initialValue":{"expression":{"id":8631,"name":"_withdrawPool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10980,"src":"15729:13:60","typeDescriptions":{"typeIdentifier":"t_struct$_WithdrawPool_$5339_storage","typeString":"struct IHyperdrive.WithdrawPool storage ref"}},"id":8632,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"15743:8:60","memberName":"proceeds","nodeType":"MemberAccess","referencedDeclaration":5338,"src":"15729:22:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"VariableDeclarationStatement","src":"15709:42:60"},{"assignments":[8635],"declarations":[{"constant":false,"id":8635,"mutability":"mutable","name":"shareProceeds","nameLocation":"15769:13:60","nodeType":"VariableDeclaration","scope":8691,"src":"15761:21:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8634,"name":"uint256","nodeType":"ElementaryTypeName","src":"15761:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8647,"initialValue":{"arguments":[{"arguments":[{"id":8640,"name":"proceeds_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8630,"src":"15842:9:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":8639,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"15834:7:60","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":8638,"name":"uint128","nodeType":"ElementaryTypeName","src":"15834:7:60","typeDescriptions":{}}},"id":8641,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15834:18:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"arguments":[{"id":8644,"name":"readyToWithdraw_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8600,"src":"15874:16:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":8643,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"15866:7:60","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":8642,"name":"uint128","nodeType":"ElementaryTypeName","src":"15866:7:60","typeDescriptions":{}}},"id":8645,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15866:25:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"id":8636,"name":"withdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8593,"src":"15785:24:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8637,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"15810:10:60","memberName":"mulDivDown","nodeType":"MemberAccess","referencedDeclaration":11541,"src":"15785:35:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":8646,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15785:116:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"15761:140:60"},{"expression":{"id":8656,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":8648,"name":"_withdrawPool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10980,"src":"15964:13:60","typeDescriptions":{"typeIdentifier":"t_struct$_WithdrawPool_$5339_storage","typeString":"struct IHyperdrive.WithdrawPool storage ref"}},"id":8650,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"15978:15:60","memberName":"readyToWithdraw","nodeType":"MemberAccess","referencedDeclaration":5335,"src":"15964:29:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":8655,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8651,"name":"readyToWithdraw_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8600,"src":"16008:16:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8652,"name":"withdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8593,"src":"16039:24:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8653,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16064:9:60","memberName":"toUint128","nodeType":"MemberAccess","referencedDeclaration":15500,"src":"16039:34:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint128_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint128)"}},"id":8654,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16039:36:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"16008:67:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"15964:111:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":8657,"nodeType":"ExpressionStatement","src":"15964:111:60"},{"expression":{"id":8664,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":8658,"name":"_withdrawPool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10980,"src":"16085:13:60","typeDescriptions":{"typeIdentifier":"t_struct$_WithdrawPool_$5339_storage","typeString":"struct IHyperdrive.WithdrawPool storage ref"}},"id":8660,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"16099:8:60","memberName":"proceeds","nodeType":"MemberAccess","referencedDeclaration":5338,"src":"16085:22:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"-=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8661,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8635,"src":"16111:13:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8662,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16125:9:60","memberName":"toUint128","nodeType":"MemberAccess","referencedDeclaration":15500,"src":"16111:23:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint128_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint128)"}},"id":8663,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16111:25:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"16085:51:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":8665,"nodeType":"ExpressionStatement","src":"16085:51:60"},{"expression":{"id":8672,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":8666,"name":"proceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8591,"src":"16199:8:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":8668,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8635,"src":"16220:13:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8669,"name":"_sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8583,"src":"16235:11:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8670,"name":"_options","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8588,"src":"16248:8:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options calldata"}],"id":8667,"name":"_withdraw","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6735,"src":"16210:9:60","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_struct$_Options_$5483_calldata_ptr_$returns$_t_uint256_$","typeString":"function (uint256,uint256,struct IHyperdrive.Options calldata) returns (uint256)"}},"id":8671,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16210:47:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16199:58:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8673,"nodeType":"ExpressionStatement","src":"16199:58:60"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8679,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":8676,"name":"withdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8593,"src":"16353:24:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":8674,"name":"_minOutputPerShare","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8585,"src":"16326:18:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8675,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16345:7:60","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"16326:26:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":8677,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16326:52:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":8678,"name":"proceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8591,"src":"16381:8:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16326:63:60","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8686,"nodeType":"IfStatement","src":"16322:126:60","trueBody":{"id":8685,"nodeType":"Block","src":"16391:57:60","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8680,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"16412:11:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":8682,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16424:11:60","memberName":"OutputLimit","nodeType":"MemberAccess","referencedDeclaration":5532,"src":"16412:23:60","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":8683,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16412:25:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8684,"nodeType":"RevertStatement","src":"16405:32:60"}]}},{"expression":{"components":[{"id":8687,"name":"proceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8591,"src":"16466:8:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8688,"name":"withdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8593,"src":"16476:24:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":8689,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"16465:36:60","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"functionReturnParameters":8594,"id":8690,"nodeType":"Return","src":"16458:43:60"}]},"documentation":{"id":8579,"nodeType":"StructuredDocumentation","src":"13909:773:60","text":"@dev Redeems withdrawal shares by giving the LP a pro-rata amount of the\n      withdrawal pool's proceeds. This function redeems the maximum\n      amount of the specified withdrawal shares given the amount of\n      withdrawal shares ready to withdraw.\n @param _withdrawalShares The withdrawal shares to redeem.\n @param _sharePrice The share price.\n @param _minOutputPerShare The minimum amount of base the LP expects to\n        receive for each withdrawal share that is burned.\n @param _options The options that configure how the operation is settled.\n @return proceeds The amount the LP received.\n @return withdrawalSharesRedeemed The amount of withdrawal shares that\n         were redeemed."},"implemented":true,"kind":"function","modifiers":[],"name":"_redeemWithdrawalSharesInternal","nameLocation":"14696:31:60","parameters":{"id":8589,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8581,"mutability":"mutable","name":"_withdrawalShares","nameLocation":"14745:17:60","nodeType":"VariableDeclaration","scope":8692,"src":"14737:25:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8580,"name":"uint256","nodeType":"ElementaryTypeName","src":"14737:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8583,"mutability":"mutable","name":"_sharePrice","nameLocation":"14780:11:60","nodeType":"VariableDeclaration","scope":8692,"src":"14772:19:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8582,"name":"uint256","nodeType":"ElementaryTypeName","src":"14772:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8585,"mutability":"mutable","name":"_minOutputPerShare","nameLocation":"14809:18:60","nodeType":"VariableDeclaration","scope":8692,"src":"14801:26:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8584,"name":"uint256","nodeType":"ElementaryTypeName","src":"14801:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8588,"mutability":"mutable","name":"_options","nameLocation":"14866:8:60","nodeType":"VariableDeclaration","scope":8692,"src":"14837:37:60","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_calldata_ptr","typeString":"struct IHyperdrive.Options"},"typeName":{"id":8587,"nodeType":"UserDefinedTypeName","pathNode":{"id":8586,"name":"IHyperdrive.Options","nameLocations":["14837:11:60","14849:7:60"],"nodeType":"IdentifierPath","referencedDeclaration":5483,"src":"14837:19:60"},"referencedDeclaration":5483,"src":"14837:19:60","typeDescriptions":{"typeIdentifier":"t_struct$_Options_$5483_storage_ptr","typeString":"struct IHyperdrive.Options"}},"visibility":"internal"}],"src":"14727:153:60"},"returnParameters":{"id":8594,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8591,"mutability":"mutable","name":"proceeds","nameLocation":"14907:8:60","nodeType":"VariableDeclaration","scope":8692,"src":"14899:16:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8590,"name":"uint256","nodeType":"ElementaryTypeName","src":"14899:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8593,"mutability":"mutable","name":"withdrawalSharesRedeemed","nameLocation":"14925:24:60","nodeType":"VariableDeclaration","scope":8692,"src":"14917:32:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8592,"name":"uint256","nodeType":"ElementaryTypeName","src":"14917:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"14898:52:60"},"scope":8841,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":8764,"nodeType":"FunctionDefinition","src":"16708:1314:60","nodes":[],"body":{"id":8763,"nodeType":"Block","src":"16769:1253:60","nodes":[],"statements":[{"assignments":[8699],"declarations":[{"constant":false,"id":8699,"mutability":"mutable","name":"withdrawalSharesTotalSupply","nameLocation":"16881:27:60","nodeType":"VariableDeclaration","scope":8763,"src":"16873:35:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8698,"name":"uint256","nodeType":"ElementaryTypeName","src":"16873:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8707,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8706,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"baseExpression":{"id":8700,"name":"_totalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11018,"src":"16911:12:60","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":8703,"indexExpression":{"expression":{"id":8701,"name":"AssetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11509,"src":"16937:7:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AssetId_$11509_$","typeString":"type(library AssetId)"}},"id":8702,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"16945:26:60","memberName":"_WITHDRAWAL_SHARE_ASSET_ID","nodeType":"MemberAccess","referencedDeclaration":11210,"src":"16937:34:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"16911:70:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":8704,"name":"_withdrawPool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10980,"src":"16984:13:60","typeDescriptions":{"typeIdentifier":"t_struct$_WithdrawPool_$5339_storage","typeString":"struct IHyperdrive.WithdrawPool storage ref"}},"id":8705,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"16998:15:60","memberName":"readyToWithdraw","nodeType":"MemberAccess","referencedDeclaration":5335,"src":"16984:29:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"16911:102:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"16873:140:60"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8710,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8708,"name":"withdrawalSharesTotalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8699,"src":"17027:27:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":8709,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"17058:1:60","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"17027:32:60","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8713,"nodeType":"IfStatement","src":"17023:69:60","trueBody":{"id":8712,"nodeType":"Block","src":"17061:31:60","statements":[{"functionReturnParameters":8697,"id":8711,"nodeType":"Return","src":"17075:7:60"}]}},{"assignments":[8715],"declarations":[{"constant":false,"id":8715,"mutability":"mutable","name":"idle","nameLocation":"17186:4:60","nodeType":"VariableDeclaration","scope":8763,"src":"17178:12:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8714,"name":"uint256","nodeType":"ElementaryTypeName","src":"17178:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8719,"initialValue":{"arguments":[{"id":8717,"name":"_sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8695,"src":"17221:11:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8716,"name":"_calculateIdleShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":7361,"src":"17193:27:60","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":8718,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17193:40:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"17178:55:60"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8722,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8720,"name":"idle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8715,"src":"17247:4:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":8721,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"17255:1:60","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"17247:9:60","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8725,"nodeType":"IfStatement","src":"17243:46:60","trueBody":{"id":8724,"nodeType":"Block","src":"17258:31:60","statements":[{"functionReturnParameters":8697,"id":8723,"nodeType":"Return","src":"17272:7:60"}]}},{"assignments":[8727,8729],"declarations":[{"constant":false,"id":8727,"mutability":"mutable","name":"withdrawalSharesRedeemed","nameLocation":"17422:24:60","nodeType":"VariableDeclaration","scope":8763,"src":"17414:32:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8726,"name":"uint256","nodeType":"ElementaryTypeName","src":"17414:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8729,"mutability":"mutable","name":"shareProceeds","nameLocation":"17456:13:60","nodeType":"VariableDeclaration","scope":8763,"src":"17448:21:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8728,"name":"uint256","nodeType":"ElementaryTypeName","src":"17448:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8738,"initialValue":{"arguments":[{"arguments":[{"id":8733,"name":"idle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8715,"src":"17592:4:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8734,"name":"withdrawalSharesTotalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8699,"src":"17618:27:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8735,"name":"_sharePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8695,"src":"17667:11:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8732,"name":"_getDistributeExcessIdleParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":6975,"src":"17540:30:60","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_struct$_DistributeExcessIdleParams_$13433_memory_ptr_$","typeString":"function (uint256,uint256,uint256) view returns (struct LPMath.DistributeExcessIdleParams memory)"}},"id":8736,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17540:156:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$13433_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$13433_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}],"expression":{"id":8730,"name":"LPMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15435,"src":"17473:6:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_LPMath_$15435_$","typeString":"type(library LPMath)"}},"id":8731,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17493:29:60","memberName":"calculateDistributeExcessIdle","nodeType":"MemberAccess","referencedDeclaration":13514,"src":"17473:49:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_DistributeExcessIdleParams_$13433_memory_ptr_$returns$_t_uint256_$_t_uint256_$","typeString":"function (struct LPMath.DistributeExcessIdleParams memory) pure returns (uint256,uint256)"}},"id":8737,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17473:237:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"17413:297:60"},{"expression":{"id":8745,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":8739,"name":"_withdrawPool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10980,"src":"17768:13:60","typeDescriptions":{"typeIdentifier":"t_struct$_WithdrawPool_$5339_storage","typeString":"struct IHyperdrive.WithdrawPool storage ref"}},"id":8741,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"17782:15:60","memberName":"readyToWithdraw","nodeType":"MemberAccess","referencedDeclaration":5335,"src":"17768:29:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8742,"name":"withdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8727,"src":"17801:24:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8743,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17826:9:60","memberName":"toUint128","nodeType":"MemberAccess","referencedDeclaration":15500,"src":"17801:34:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint128_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint128)"}},"id":8744,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17801:36:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"17768:69:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":8746,"nodeType":"ExpressionStatement","src":"17768:69:60"},{"expression":{"id":8753,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":8747,"name":"_withdrawPool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10980,"src":"17847:13:60","typeDescriptions":{"typeIdentifier":"t_struct$_WithdrawPool_$5339_storage","typeString":"struct IHyperdrive.WithdrawPool storage ref"}},"id":8749,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"17861:8:60","memberName":"proceeds","nodeType":"MemberAccess","referencedDeclaration":5338,"src":"17847:22:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8750,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8729,"src":"17873:13:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8751,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17887:9:60","memberName":"toUint128","nodeType":"MemberAccess","referencedDeclaration":15500,"src":"17873:23:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint128_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint128)"}},"id":8752,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17873:25:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"17847:51:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":8754,"nodeType":"ExpressionStatement","src":"17847:51:60"},{"expression":{"arguments":[{"id":8760,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"17992:22:60","subExpression":{"arguments":[{"id":8758,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8729,"src":"18000:13:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":8757,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"17993:6:60","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":8756,"name":"int256","nodeType":"ElementaryTypeName","src":"17993:6:60","typeDescriptions":{}}},"id":8759,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17993:21:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":8755,"name":"_updateLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8840,"src":"17975:16:60","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_int256_$returns$__$","typeString":"function (int256)"}},"id":8761,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17975:40:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":8762,"nodeType":"ExpressionStatement","src":"17975:40:60"}]},"documentation":{"id":8693,"nodeType":"StructuredDocumentation","src":"16514:189:60","text":"@dev Distribute as much of the excess idle as possible to the withdrawal\n      pool while holding the LP share price constant.\n @param _sharePrice The current share price."},"implemented":true,"kind":"function","modifiers":[],"name":"_distributeExcessIdle","nameLocation":"16717:21:60","parameters":{"id":8696,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8695,"mutability":"mutable","name":"_sharePrice","nameLocation":"16747:11:60","nodeType":"VariableDeclaration","scope":8764,"src":"16739:19:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8694,"name":"uint256","nodeType":"ElementaryTypeName","src":"16739:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"16738:21:60"},"returnParameters":{"id":8697,"nodeType":"ParameterList","parameters":[],"src":"16769:0:60"},"scope":8841,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":8840,"nodeType":"FunctionDefinition","src":"18199:1121:60","nodes":[],"body":{"id":8839,"nodeType":"Block","src":"18262:1058:60","nodes":[],"statements":[{"assignments":[8771],"declarations":[{"constant":false,"id":8771,"mutability":"mutable","name":"shareReserves_","nameLocation":"18323:14:60","nodeType":"VariableDeclaration","scope":8839,"src":"18315:22:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8770,"name":"uint256","nodeType":"ElementaryTypeName","src":"18315:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8774,"initialValue":{"expression":{"id":8772,"name":"_marketState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10976,"src":"18340:12:60","typeDescriptions":{"typeIdentifier":"t_struct$_MarketState_$5328_storage","typeString":"struct IHyperdrive.MarketState storage ref"}},"id":8773,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"18353:13:60","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":5294,"src":"18340:26:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"VariableDeclarationStatement","src":"18315:51:60"},{"assignments":[8776],"declarations":[{"constant":false,"id":8776,"mutability":"mutable","name":"shareAdjustment_","nameLocation":"18383:16:60","nodeType":"VariableDeclaration","scope":8839,"src":"18376:23:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":8775,"name":"int256","nodeType":"ElementaryTypeName","src":"18376:6:60","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":8779,"initialValue":{"expression":{"id":8777,"name":"_marketState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10976,"src":"18402:12:60","typeDescriptions":{"typeIdentifier":"t_struct$_MarketState_$5328_storage","typeString":"struct IHyperdrive.MarketState storage ref"}},"id":8778,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"18415:15:60","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":5306,"src":"18402:28:60","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"VariableDeclarationStatement","src":"18376:54:60"},{"assignments":[8781],"declarations":[{"constant":false,"id":8781,"mutability":"mutable","name":"bondReserves_","nameLocation":"18448:13:60","nodeType":"VariableDeclaration","scope":8839,"src":"18440:21:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8780,"name":"uint256","nodeType":"ElementaryTypeName","src":"18440:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8784,"initialValue":{"expression":{"id":8782,"name":"_marketState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10976,"src":"18464:12:60","typeDescriptions":{"typeIdentifier":"t_struct$_MarketState_$5328_storage","typeString":"struct IHyperdrive.MarketState storage ref"}},"id":8783,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"18477:12:60","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":5297,"src":"18464:25:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"VariableDeclarationStatement","src":"18440:49:60"},{"assignments":[8786,8788,8790],"declarations":[{"constant":false,"id":8786,"mutability":"mutable","name":"updatedShareReserves","nameLocation":"18521:20:60","nodeType":"VariableDeclaration","scope":8839,"src":"18513:28:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8785,"name":"uint256","nodeType":"ElementaryTypeName","src":"18513:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":8788,"mutability":"mutable","name":"updatedShareAdjustment","nameLocation":"18562:22:60","nodeType":"VariableDeclaration","scope":8839,"src":"18555:29:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":8787,"name":"int256","nodeType":"ElementaryTypeName","src":"18555:6:60","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":8790,"mutability":"mutable","name":"updatedBondReserves","nameLocation":"18606:19:60","nodeType":"VariableDeclaration","scope":8839,"src":"18598:27:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8789,"name":"uint256","nodeType":"ElementaryTypeName","src":"18598:7:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":8799,"initialValue":{"arguments":[{"id":8793,"name":"shareReserves_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8771,"src":"18687:14:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8794,"name":"shareAdjustment_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8776,"src":"18719:16:60","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":8795,"name":"bondReserves_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8781,"src":"18753:13:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8796,"name":"_minimumShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10969,"src":"18784:21:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":8797,"name":"_shareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8767,"src":"18823:19:60","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":8791,"name":"LPMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15435,"src":"18638:6:60","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_LPMath_$15435_$","typeString":"type(library LPMath)"}},"id":8792,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"18645:24:60","memberName":"calculateUpdateLiquidity","nodeType":"MemberAccess","referencedDeclaration":13007,"src":"18638:31:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$_t_uint256_$_t_uint256_$_t_int256_$returns$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"function (uint256,int256,uint256,uint256,int256) pure returns (uint256,int256,uint256)"}},"id":8798,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18638:218:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"tuple(uint256,int256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"18499:357:60"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8802,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8800,"name":"updatedShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8786,"src":"18907:20:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":8801,"name":"shareReserves_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8771,"src":"18931:14:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"18907:38:60","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8812,"nodeType":"IfStatement","src":"18903:130:60","trueBody":{"id":8811,"nodeType":"Block","src":"18947:86:60","statements":[{"expression":{"id":8809,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":8803,"name":"_marketState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10976,"src":"18961:12:60","typeDescriptions":{"typeIdentifier":"t_struct$_MarketState_$5328_storage","typeString":"struct IHyperdrive.MarketState storage ref"}},"id":8805,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"18974:13:60","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":5294,"src":"18961:26:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8806,"name":"updatedShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8786,"src":"18990:20:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8807,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"19011:9:60","memberName":"toUint128","nodeType":"MemberAccess","referencedDeclaration":15500,"src":"18990:30:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint128_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint128)"}},"id":8808,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18990:32:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"18961:61:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":8810,"nodeType":"ExpressionStatement","src":"18961:61:60"}]}},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":8815,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8813,"name":"updatedShareAdjustment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8788,"src":"19046:22:60","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":8814,"name":"shareAdjustment_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8776,"src":"19072:16:60","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"19046:42:60","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8825,"nodeType":"IfStatement","src":"19042:137:60","trueBody":{"id":8824,"nodeType":"Block","src":"19090:89:60","statements":[{"expression":{"id":8822,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":8816,"name":"_marketState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10976,"src":"19104:12:60","typeDescriptions":{"typeIdentifier":"t_struct$_MarketState_$5328_storage","typeString":"struct IHyperdrive.MarketState storage ref"}},"id":8818,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"19117:15:60","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":5306,"src":"19104:28:60","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8819,"name":"updatedShareAdjustment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8788,"src":"19135:22:60","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":8820,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"19158:8:60","memberName":"toInt128","nodeType":"MemberAccess","referencedDeclaration":15540,"src":"19135:31:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$returns$_t_int128_$attached_to$_t_int256_$","typeString":"function (int256) pure returns (int128)"}},"id":8821,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19135:33:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"src":"19104:64:60","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"id":8823,"nodeType":"ExpressionStatement","src":"19104:64:60"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":8828,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":8826,"name":"updatedBondReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8790,"src":"19192:19:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":8827,"name":"bondReserves_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8781,"src":"19215:13:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"19192:36:60","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8838,"nodeType":"IfStatement","src":"19188:126:60","trueBody":{"id":8837,"nodeType":"Block","src":"19230:84:60","statements":[{"expression":{"id":8835,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":8829,"name":"_marketState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10976,"src":"19244:12:60","typeDescriptions":{"typeIdentifier":"t_struct$_MarketState_$5328_storage","typeString":"struct IHyperdrive.MarketState storage ref"}},"id":8831,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"19257:12:60","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":5297,"src":"19244:25:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":8832,"name":"updatedBondReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8790,"src":"19272:19:60","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":8833,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"19292:9:60","memberName":"toUint128","nodeType":"MemberAccess","referencedDeclaration":15500,"src":"19272:29:60","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint128_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint128)"}},"id":8834,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19272:31:60","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"19244:59:60","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":8836,"nodeType":"ExpressionStatement","src":"19244:59:60"}]}}]},"documentation":{"id":8765,"nodeType":"StructuredDocumentation","src":"18028:166:60","text":"@dev Updates the pool's liquidity and holds the pool's spot price constant.\n @param _shareReservesDelta The delta that should be applied to share reserves."},"implemented":true,"kind":"function","modifiers":[],"name":"_updateLiquidity","nameLocation":"18208:16:60","parameters":{"id":8768,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8767,"mutability":"mutable","name":"_shareReservesDelta","nameLocation":"18232:19:60","nodeType":"VariableDeclaration","scope":8840,"src":"18225:26:60","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":8766,"name":"int256","nodeType":"ElementaryTypeName","src":"18225:6:60","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"18224:28:60"},"returnParameters":{"id":8769,"nodeType":"ParameterList","parameters":[],"src":"18262:0:60"},"scope":8841,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"}],"abstract":true,"baseContracts":[{"baseName":{"id":8053,"name":"HyperdriveBase","nameLocations":["892:14:60"],"nodeType":"IdentifierPath","referencedDeclaration":7580,"src":"892:14:60"},"id":8054,"nodeType":"InheritanceSpecifier","src":"892:14:60"},{"baseName":{"id":8055,"name":"HyperdriveMultiToken","nameLocations":["908:20:60"],"nodeType":"IdentifierPath","referencedDeclaration":10097,"src":"908:20:60"},"id":8056,"nodeType":"InheritanceSpecifier","src":"908:20:60"}],"canonicalName":"HyperdriveLP","contractDependencies":[],"contractKind":"contract","documentation":{"id":8052,"nodeType":"StructuredDocumentation","src":"536:322:60","text":"@author DELV\n @title HyperdriveLP\n @notice Implements the LP accounting for Hyperdrive.\n @custom:disclaimer The language used in this code is for coding convenience\n                    only, and is not intended to, and does not, have any\n                    particular legal or regulatory significance."},"fullyImplemented":false,"linearizedBaseContracts":[8841,10097,7580,11193,65499],"name":"HyperdriveLP","nameLocation":"876:12:60","scope":8842,"usedErrors":[5498,5502,5512,5514]}],"license":"Apache-2.0"},"id":60} as const;
