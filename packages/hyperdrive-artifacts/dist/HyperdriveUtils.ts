export const HyperdriveUtils = 
{"abi":[],"bytecode":{"object":"0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220ed88666ee88b12a9362649df8128dc5a6f3331cbdd8cbbb975da49e942c2344064736f6c63430008130033","sourceMap":"497:67619:178:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;497:67619:178;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220ed88666ee88b12a9362649df8128dc5a6f3331cbdd8cbbb975da49e942c2344064736f6c63430008130033","sourceMap":"497:67619:178:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.19+commit.7dd6d404\"},\"language\":\"Solidity\",\"output\":{\"abi\":[],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"test/utils/HyperdriveUtils.sol\":\"HyperdriveUtils\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":aave-v3-core/=lib/aave-v3-core/\",\":create3-factory/=lib/yield-daddy/lib/create3-factory/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\",\":solmate/=lib/solmate/src/\",\":yield-daddy/=lib/yield-daddy/\"]},\"sources\":{\"contracts/src/interfaces/IERC20.sol\":{\"keccak256\":\"0xfb57fe2ee4d8d1c6a8e2aa3b007da6f0e53d65388245b0b7d876234077ee95b4\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://e4303c41b9752b51c6eaa9b16aa11e5bffb34fc80c5c8761302539cd5922ae36\",\"dweb:/ipfs/QmZjVYBikfgPDX47hmbGJpG6kvm3Gyt6nKkFbZH6r8U4cL\"]},\"contracts/src/interfaces/IHyperdrive.sol\":{\"keccak256\":\"0x3b4f94e5480e7074e05b0d338d583569aef147f45365eb57daeb99f19fe817c3\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://2cc18b204ec94f80cd6b4876ea3c39dfb143fc4feff52e2a8d00ea72e6811644\",\"dweb:/ipfs/QmZHmZRvmJr8FxExBzKHSHYNZqcEgcgDcs4Z6gF1wPvBvj\"]},\"contracts/src/interfaces/IHyperdriveCore.sol\":{\"keccak256\":\"0x84c73d8c4b67da41635f57fce2f30b8f04fc826ff6fb54c605de23d376f3403d\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://e6d636dff5c24916ae35a76695d741de2f14ee46876ea67c5393618bb7f9cf85\",\"dweb:/ipfs/QmUwxh8JeAqSFA8Z2qabVx3YWRSz7PJ9V2TQgnfctAgqPF\"]},\"contracts/src/interfaces/IHyperdriveRead.sol\":{\"keccak256\":\"0x1c61ba57b783bfa408a4e208e80c1c117850d4d6c9f0e280263d3fcf57a8b2fd\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://5b920d5f0f37014035b6cbba16d898e52654122a0c004a3f75050af93b799496\",\"dweb:/ipfs/QmaneaTDVXbw5HfevR2vFwXWw95EKWcBq8yMgMyWJPHKVW\"]},\"contracts/src/interfaces/IMultiToken.sol\":{\"keccak256\":\"0xcf3a4002275ea64e381f0a4aded3683e12960396ef79ba9dd153e2d1e395baad\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://c9990491f7a5151fd696a45e6e5b0282a1dedf58521861dfb8c64db8cb60f5b6\",\"dweb:/ipfs/QmaywmqqQhz7DeYqZdoeykagr5h4ZhQRv6GasHqvdWqzSy\"]},\"contracts/src/interfaces/IMultiTokenCore.sol\":{\"keccak256\":\"0xdb7f24663cff7307a468ef5e4c6f3e4d01ec0475157b3bbb3405890c3e9ab87d\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://7f631a9a395fba5b07c3d9308fccac18d5aa59d890efe23442ed2a4da9871ae8\",\"dweb:/ipfs/QmV2a4wiAPfWzSST3faYt58i2tqEyoqCLAJV8aNCdJyxVE\"]},\"contracts/src/interfaces/IMultiTokenMetadata.sol\":{\"keccak256\":\"0x476240ea4328bae9ab820b6f0f40afb11c74ee52d26bdbef69e4ece28dc10bdb\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://843f73cb21eaec4e26952fd6cbde5e6815e3a28c438df9e026e249200d25076f\",\"dweb:/ipfs/QmXzE7gsRKMaRGQfTDodA1RXxNxUuBj8RT7grTYjZUdbe6\"]},\"contracts/src/interfaces/IMultiTokenRead.sol\":{\"keccak256\":\"0x9b92d81f2f038fcd4bb5d069ab2b754efc153234c451d4ee4caa6d74aaca16b4\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://8686fddc99564c6b6524ea68a6b7ff081a9988fc795fc13197bb59ddaa2041c6\",\"dweb:/ipfs/QmarJYJAgoH6Z4H1BmdPoRgqLubRu5S6NDXBNV2fDApPuW\"]},\"contracts/src/libraries/AssetId.sol\":{\"keccak256\":\"0xcf8493b00dd39c50754a63f66dc612f3cd466cbac8c7ea5ed0c5ea68aa99267a\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://1a1986d6bc80e465dde116a70d3a30027b3e75969117a9b3517c6866c2e5e73a\",\"dweb:/ipfs/QmSASHifHWyKBycGAm1pUs9dw26Uf6A61V9nkEQnFj9mya\"]},\"contracts/src/libraries/FixedPointMath.sol\":{\"keccak256\":\"0x3d2d86890e7287a59bc7171a030f98006a60271812a233027d2e42d8f31ef46c\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://ecf29c3dedf328bd29caef4ce1eba85576d4c4b8d6f77fc255e37c24e8d44e1d\",\"dweb:/ipfs/QmVgmtYXzMkvR1GYsfqnJ1cH2ojmggoKmVuxKQZ9Rw78T1\"]},\"contracts/src/libraries/HyperdriveMath.sol\":{\"keccak256\":\"0xd87293bc10dfe09707a042bf05091baf40ba344bdca141bd99b62256a7611817\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://8f6eadd454c6671c26bd22095c31a3bbaea7083df9aa6548dbaba32a4907e336\",\"dweb:/ipfs/QmY1jMW9DuAk9CSfVS6MsG5onqjZHKzdBrv2TcHvj9yKj4\"]},\"contracts/src/libraries/LPMath.sol\":{\"keccak256\":\"0x077931150bcba5b99dedcd9038f3fbeef9c9230046dc4649c457d75d4be32a5c\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://2a48e4046f7ae8acb965d0f8d79767f4f4c70c1a6a8d3cf635482587412d33fd\",\"dweb:/ipfs/QmcY8FbffppqTMBiMwniXG9R8i8eQoVJuLqqTXgpuiXyUr\"]},\"contracts/src/libraries/SafeCast.sol\":{\"keccak256\":\"0x86d3065b06e2fb93733eb6f19ea0bb6343a51bc6b993c36702dc3e6d50a6d01d\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://f0d303e0a2ed0c99ea194759d9fce5317b6e3a4c40464fc34c09f6f770d402db\",\"dweb:/ipfs/QmVSTsk4YXLe8pcUbQEpihWq9XTcn47L46j8khkvfzyiWB\"]},\"contracts/src/libraries/YieldSpaceMath.sol\":{\"keccak256\":\"0x2f9511684820be7510155adfe3c2c2ef7e2583472946bae37f379bac801fc263\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://7e9a84e4168448e3320a6682c8ba248c8b51757df173b86507e9aba4b6167247\",\"dweb:/ipfs/QmSonetYBP22Fnc8HrcaTxAA1Zg2PCR5ptPiEp22sA77Ka\"]},\"test/utils/HyperdriveUtils.sol\":{\"keccak256\":\"0x39df6b4c1457de6c4ab6bea8cfab7e92a9c2ba129859e4d4fa0988a84f24404d\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://e2a221a69459f48670569aa9bc4a345d8f3008f196202061abb6140723bc07de\",\"dweb:/ipfs/QmUcmwNJSaHKeZiAtjYZsNCjBbYfG9WrywViz81oXrXTM7\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.19+commit.7dd6d404"},"language":"Solidity","output":{"abi":[],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["aave-v3-core/=lib/aave-v3-core/","create3-factory/=lib/yield-daddy/lib/create3-factory/","ds-test/=lib/forge-std/lib/ds-test/src/","forge-std/=lib/forge-std/src/","solmate/=lib/solmate/src/","yield-daddy/=lib/yield-daddy/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"test/utils/HyperdriveUtils.sol":"HyperdriveUtils"},"libraries":{}},"sources":{"contracts/src/interfaces/IERC20.sol":{"keccak256":"0xfb57fe2ee4d8d1c6a8e2aa3b007da6f0e53d65388245b0b7d876234077ee95b4","urls":["bzz-raw://e4303c41b9752b51c6eaa9b16aa11e5bffb34fc80c5c8761302539cd5922ae36","dweb:/ipfs/QmZjVYBikfgPDX47hmbGJpG6kvm3Gyt6nKkFbZH6r8U4cL"],"license":"Apache-2.0"},"contracts/src/interfaces/IHyperdrive.sol":{"keccak256":"0x3b4f94e5480e7074e05b0d338d583569aef147f45365eb57daeb99f19fe817c3","urls":["bzz-raw://2cc18b204ec94f80cd6b4876ea3c39dfb143fc4feff52e2a8d00ea72e6811644","dweb:/ipfs/QmZHmZRvmJr8FxExBzKHSHYNZqcEgcgDcs4Z6gF1wPvBvj"],"license":"Apache-2.0"},"contracts/src/interfaces/IHyperdriveCore.sol":{"keccak256":"0x84c73d8c4b67da41635f57fce2f30b8f04fc826ff6fb54c605de23d376f3403d","urls":["bzz-raw://e6d636dff5c24916ae35a76695d741de2f14ee46876ea67c5393618bb7f9cf85","dweb:/ipfs/QmUwxh8JeAqSFA8Z2qabVx3YWRSz7PJ9V2TQgnfctAgqPF"],"license":"Apache-2.0"},"contracts/src/interfaces/IHyperdriveRead.sol":{"keccak256":"0x1c61ba57b783bfa408a4e208e80c1c117850d4d6c9f0e280263d3fcf57a8b2fd","urls":["bzz-raw://5b920d5f0f37014035b6cbba16d898e52654122a0c004a3f75050af93b799496","dweb:/ipfs/QmaneaTDVXbw5HfevR2vFwXWw95EKWcBq8yMgMyWJPHKVW"],"license":"Apache-2.0"},"contracts/src/interfaces/IMultiToken.sol":{"keccak256":"0xcf3a4002275ea64e381f0a4aded3683e12960396ef79ba9dd153e2d1e395baad","urls":["bzz-raw://c9990491f7a5151fd696a45e6e5b0282a1dedf58521861dfb8c64db8cb60f5b6","dweb:/ipfs/QmaywmqqQhz7DeYqZdoeykagr5h4ZhQRv6GasHqvdWqzSy"],"license":"Apache-2.0"},"contracts/src/interfaces/IMultiTokenCore.sol":{"keccak256":"0xdb7f24663cff7307a468ef5e4c6f3e4d01ec0475157b3bbb3405890c3e9ab87d","urls":["bzz-raw://7f631a9a395fba5b07c3d9308fccac18d5aa59d890efe23442ed2a4da9871ae8","dweb:/ipfs/QmV2a4wiAPfWzSST3faYt58i2tqEyoqCLAJV8aNCdJyxVE"],"license":"Apache-2.0"},"contracts/src/interfaces/IMultiTokenMetadata.sol":{"keccak256":"0x476240ea4328bae9ab820b6f0f40afb11c74ee52d26bdbef69e4ece28dc10bdb","urls":["bzz-raw://843f73cb21eaec4e26952fd6cbde5e6815e3a28c438df9e026e249200d25076f","dweb:/ipfs/QmXzE7gsRKMaRGQfTDodA1RXxNxUuBj8RT7grTYjZUdbe6"],"license":"Apache-2.0"},"contracts/src/interfaces/IMultiTokenRead.sol":{"keccak256":"0x9b92d81f2f038fcd4bb5d069ab2b754efc153234c451d4ee4caa6d74aaca16b4","urls":["bzz-raw://8686fddc99564c6b6524ea68a6b7ff081a9988fc795fc13197bb59ddaa2041c6","dweb:/ipfs/QmarJYJAgoH6Z4H1BmdPoRgqLubRu5S6NDXBNV2fDApPuW"],"license":"Apache-2.0"},"contracts/src/libraries/AssetId.sol":{"keccak256":"0xcf8493b00dd39c50754a63f66dc612f3cd466cbac8c7ea5ed0c5ea68aa99267a","urls":["bzz-raw://1a1986d6bc80e465dde116a70d3a30027b3e75969117a9b3517c6866c2e5e73a","dweb:/ipfs/QmSASHifHWyKBycGAm1pUs9dw26Uf6A61V9nkEQnFj9mya"],"license":"Apache-2.0"},"contracts/src/libraries/FixedPointMath.sol":{"keccak256":"0x3d2d86890e7287a59bc7171a030f98006a60271812a233027d2e42d8f31ef46c","urls":["bzz-raw://ecf29c3dedf328bd29caef4ce1eba85576d4c4b8d6f77fc255e37c24e8d44e1d","dweb:/ipfs/QmVgmtYXzMkvR1GYsfqnJ1cH2ojmggoKmVuxKQZ9Rw78T1"],"license":"Apache-2.0"},"contracts/src/libraries/HyperdriveMath.sol":{"keccak256":"0xd87293bc10dfe09707a042bf05091baf40ba344bdca141bd99b62256a7611817","urls":["bzz-raw://8f6eadd454c6671c26bd22095c31a3bbaea7083df9aa6548dbaba32a4907e336","dweb:/ipfs/QmY1jMW9DuAk9CSfVS6MsG5onqjZHKzdBrv2TcHvj9yKj4"],"license":"Apache-2.0"},"contracts/src/libraries/LPMath.sol":{"keccak256":"0x077931150bcba5b99dedcd9038f3fbeef9c9230046dc4649c457d75d4be32a5c","urls":["bzz-raw://2a48e4046f7ae8acb965d0f8d79767f4f4c70c1a6a8d3cf635482587412d33fd","dweb:/ipfs/QmcY8FbffppqTMBiMwniXG9R8i8eQoVJuLqqTXgpuiXyUr"],"license":"Apache-2.0"},"contracts/src/libraries/SafeCast.sol":{"keccak256":"0x86d3065b06e2fb93733eb6f19ea0bb6343a51bc6b993c36702dc3e6d50a6d01d","urls":["bzz-raw://f0d303e0a2ed0c99ea194759d9fce5317b6e3a4c40464fc34c09f6f770d402db","dweb:/ipfs/QmVSTsk4YXLe8pcUbQEpihWq9XTcn47L46j8khkvfzyiWB"],"license":"Apache-2.0"},"contracts/src/libraries/YieldSpaceMath.sol":{"keccak256":"0x2f9511684820be7510155adfe3c2c2ef7e2583472946bae37f379bac801fc263","urls":["bzz-raw://7e9a84e4168448e3320a6682c8ba248c8b51757df173b86507e9aba4b6167247","dweb:/ipfs/QmSonetYBP22Fnc8HrcaTxAA1Zg2PCR5ptPiEp22sA77Ka"],"license":"Apache-2.0"},"test/utils/HyperdriveUtils.sol":{"keccak256":"0x39df6b4c1457de6c4ab6bea8cfab7e92a9c2ba129859e4d4fa0988a84f24404d","urls":["bzz-raw://e2a221a69459f48670569aa9bc4a345d8f3008f196202061abb6140723bc07de","dweb:/ipfs/QmUcmwNJSaHKeZiAtjYZsNCjBbYfG9WrywViz81oXrXTM7"],"license":"Apache-2.0"}},"version":1},"ast":{"absolutePath":"test/utils/HyperdriveUtils.sol","id":135638,"exportedSymbols":{"AssetId":[11509],"FixedPointMath":[12293],"HyperdriveMath":[12857],"HyperdriveUtils":[135637],"IHyperdrive":[5658],"LPMath":[15435],"ONE":[11516],"YieldSpaceMath":[16293]},"nodeType":"SourceUnit","src":"39:68078:178","nodes":[{"id":132490,"nodeType":"PragmaDirective","src":"39:23:178","nodes":[],"literals":["solidity","0.8",".19"]},{"id":132492,"nodeType":"ImportDirective","src":"64:71:178","nodes":[],"absolutePath":"contracts/src/interfaces/IHyperdrive.sol","file":"contracts/src/interfaces/IHyperdrive.sol","nameLocation":"-1:-1:-1","scope":135638,"sourceUnit":5659,"symbolAliases":[{"foreign":{"id":132491,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"73:11:178","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":132494,"nodeType":"ImportDirective","src":"136:62:178","nodes":[],"absolutePath":"contracts/src/libraries/AssetId.sol","file":"contracts/src/libraries/AssetId.sol","nameLocation":"-1:-1:-1","scope":135638,"sourceUnit":11510,"symbolAliases":[{"foreign":{"id":132493,"name":"AssetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11509,"src":"145:7:178","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":132497,"nodeType":"ImportDirective","src":"199:81:178","nodes":[],"absolutePath":"contracts/src/libraries/FixedPointMath.sol","file":"contracts/src/libraries/FixedPointMath.sol","nameLocation":"-1:-1:-1","scope":135638,"sourceUnit":12294,"symbolAliases":[{"foreign":{"id":132495,"name":"FixedPointMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12293,"src":"208:14:178","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":132496,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"224:3:178","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":132499,"nodeType":"ImportDirective","src":"281:76:178","nodes":[],"absolutePath":"contracts/src/libraries/HyperdriveMath.sol","file":"contracts/src/libraries/HyperdriveMath.sol","nameLocation":"-1:-1:-1","scope":135638,"sourceUnit":12858,"symbolAliases":[{"foreign":{"id":132498,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12857,"src":"290:14:178","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":132501,"nodeType":"ImportDirective","src":"358:60:178","nodes":[],"absolutePath":"contracts/src/libraries/LPMath.sol","file":"contracts/src/libraries/LPMath.sol","nameLocation":"-1:-1:-1","scope":135638,"sourceUnit":15436,"symbolAliases":[{"foreign":{"id":132500,"name":"LPMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15435,"src":"367:6:178","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":132503,"nodeType":"ImportDirective","src":"419:76:178","nodes":[],"absolutePath":"contracts/src/libraries/YieldSpaceMath.sol","file":"contracts/src/libraries/YieldSpaceMath.sol","nameLocation":"-1:-1:-1","scope":135638,"sourceUnit":16294,"symbolAliases":[{"foreign":{"id":132502,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16293,"src":"428:14:178","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":135637,"nodeType":"ContractDefinition","src":"497:67619:178","nodes":[{"id":132505,"nodeType":"UsingForDirective","src":"527:28:178","nodes":[],"global":false,"libraryName":{"id":132504,"name":"HyperdriveUtils","nameLocations":["533:15:178"],"nodeType":"IdentifierPath","referencedDeclaration":135637,"src":"533:15:178"}},{"id":132508,"nodeType":"UsingForDirective","src":"560:33:178","nodes":[],"global":false,"libraryName":{"id":132506,"name":"FixedPointMath","nameLocations":["566:14:178"],"nodeType":"IdentifierPath","referencedDeclaration":12293,"src":"566:14:178"},"typeName":{"id":132507,"name":"uint256","nodeType":"ElementaryTypeName","src":"585:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":132511,"nodeType":"UsingForDirective","src":"598:32:178","nodes":[],"global":false,"libraryName":{"id":132509,"name":"FixedPointMath","nameLocations":["604:14:178"],"nodeType":"IdentifierPath","referencedDeclaration":12293,"src":"604:14:178"},"typeName":{"id":132510,"name":"int256","nodeType":"ElementaryTypeName","src":"623:6:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}},{"id":132533,"nodeType":"FunctionDefinition","src":"664:227:178","nodes":[],"body":{"id":132532,"nodeType":"Block","src":"760:131:178","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":132530,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":132520,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"789:5:178","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":132521,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"795:9:178","memberName":"timestamp","nodeType":"MemberAccess","src":"789:15:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":132528,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":132522,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"820:5:178","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":132523,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"826:9:178","memberName":"timestamp","nodeType":"MemberAccess","src":"820:15:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":132524,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132515,"src":"838:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":132525,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"849:13:178","memberName":"getPoolConfig","nodeType":"MemberAccess","referencedDeclaration":5923,"src":"838:24:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolConfig_$5427_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolConfig memory)"}},"id":132526,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"838:26:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":132527,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"865:18:178","memberName":"checkpointDuration","nodeType":"MemberAccess","referencedDeclaration":5413,"src":"838:45:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"820:63:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":132529,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"819:65:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"789:95:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":132519,"id":132531,"nodeType":"Return","src":"770:114:178"}]},"documentation":{"id":132512,"nodeType":"StructuredDocumentation","src":"636:23:178","text":"Time Utilities ///"},"implemented":true,"kind":"function","modifiers":[],"name":"latestCheckpoint","nameLocation":"673:16:178","parameters":{"id":132516,"nodeType":"ParameterList","parameters":[{"constant":false,"id":132515,"mutability":"mutable","name":"hyperdrive","nameLocation":"711:10:178","nodeType":"VariableDeclaration","scope":132533,"src":"699:22:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},"typeName":{"id":132514,"nodeType":"UserDefinedTypeName","pathNode":{"id":132513,"name":"IHyperdrive","nameLocations":["699:11:178"],"nodeType":"IdentifierPath","referencedDeclaration":5658,"src":"699:11:178"},"referencedDeclaration":5658,"src":"699:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"visibility":"internal"}],"src":"689:38:178"},"returnParameters":{"id":132519,"nodeType":"ParameterList","parameters":[{"constant":false,"id":132518,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":132533,"src":"751:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132517,"name":"uint256","nodeType":"ElementaryTypeName","src":"751:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"750:9:178"},"scope":135637,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":132572,"nodeType":"FunctionDefinition","src":"897:449:178","nodes":[],"body":{"id":132571,"nodeType":"Block","src":"1045:301:178","nodes":[],"statements":[{"expression":{"id":132556,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":132543,"name":"timeRemaining","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132541,"src":"1055:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":132548,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":132544,"name":"_maturityTime","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132538,"src":"1071:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"arguments":[{"id":132546,"name":"_hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132536,"src":"1104:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}],"id":132545,"name":"latestCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132533,"src":"1087:16:178","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IHyperdrive_$5658_$returns$_t_uint256_$","typeString":"function (contract IHyperdrive) view returns (uint256)"}},"id":132547,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1087:29:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1071:45:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"hexValue":"30","id":132554,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1191:1:178","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"id":132555,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"1071:121:178","trueExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":132553,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":132549,"name":"_maturityTime","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132538,"src":"1131:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"id":132551,"name":"_hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132536,"src":"1164:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}],"id":132550,"name":"latestCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132533,"src":"1147:16:178","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IHyperdrive_$5658_$returns$_t_uint256_$","typeString":"function (contract IHyperdrive) view returns (uint256)"}},"id":132552,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1147:29:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1131:45:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1055:137:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132557,"nodeType":"ExpressionStatement","src":"1055:137:178"},{"expression":{"id":132567,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":132558,"name":"timeRemaining","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132541,"src":"1202:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":132562,"name":"_hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132536,"src":"1255:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":132563,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1267:13:178","memberName":"getPoolConfig","nodeType":"MemberAccess","referencedDeclaration":5923,"src":"1255:25:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolConfig_$5427_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolConfig memory)"}},"id":132564,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1255:27:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":132565,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1283:16:178","memberName":"positionDuration","nodeType":"MemberAccess","referencedDeclaration":5410,"src":"1255:44:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"id":132559,"name":"timeRemaining","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132541,"src":"1219:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":132560,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1218:15:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132561,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1234:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"1218:23:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":132566,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1218:91:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1202:107:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132568,"nodeType":"ExpressionStatement","src":"1202:107:178"},{"expression":{"id":132569,"name":"timeRemaining","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132541,"src":"1326:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":132542,"id":132570,"nodeType":"Return","src":"1319:20:178"}]},"implemented":true,"kind":"function","modifiers":[],"name":"calculateTimeRemaining","nameLocation":"906:22:178","parameters":{"id":132539,"nodeType":"ParameterList","parameters":[{"constant":false,"id":132536,"mutability":"mutable","name":"_hyperdrive","nameLocation":"950:11:178","nodeType":"VariableDeclaration","scope":132572,"src":"938:23:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},"typeName":{"id":132535,"nodeType":"UserDefinedTypeName","pathNode":{"id":132534,"name":"IHyperdrive","nameLocations":["938:11:178"],"nodeType":"IdentifierPath","referencedDeclaration":5658,"src":"938:11:178"},"referencedDeclaration":5658,"src":"938:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"visibility":"internal"},{"constant":false,"id":132538,"mutability":"mutable","name":"_maturityTime","nameLocation":"979:13:178","nodeType":"VariableDeclaration","scope":132572,"src":"971:21:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132537,"name":"uint256","nodeType":"ElementaryTypeName","src":"971:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"928:70:178"},"returnParameters":{"id":132542,"nodeType":"ParameterList","parameters":[{"constant":false,"id":132541,"mutability":"mutable","name":"timeRemaining","nameLocation":"1030:13:178","nodeType":"VariableDeclaration","scope":132572,"src":"1022:21:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132540,"name":"uint256","nodeType":"ElementaryTypeName","src":"1022:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1021:23:178"},"scope":135637,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":132590,"nodeType":"FunctionDefinition","src":"1352:237:178","nodes":[],"body":{"id":132589,"nodeType":"Block","src":"1465:124:178","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":132587,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":132581,"name":"_hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132575,"src":"1511:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}],"id":132580,"name":"latestCheckpoint","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132533,"src":"1494:16:178","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IHyperdrive_$5658_$returns$_t_uint256_$","typeString":"function (contract IHyperdrive) view returns (uint256)"}},"id":132582,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1494:29:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":132583,"name":"_hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132575,"src":"1538:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":132584,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1550:13:178","memberName":"getPoolConfig","nodeType":"MemberAccess","referencedDeclaration":5923,"src":"1538:25:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolConfig_$5427_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolConfig memory)"}},"id":132585,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1538:27:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":132586,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1566:16:178","memberName":"positionDuration","nodeType":"MemberAccess","referencedDeclaration":5410,"src":"1538:44:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1494:88:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":132579,"id":132588,"nodeType":"Return","src":"1475:107:178"}]},"implemented":true,"kind":"function","modifiers":[],"name":"maturityTimeFromLatestCheckpoint","nameLocation":"1361:32:178","parameters":{"id":132576,"nodeType":"ParameterList","parameters":[{"constant":false,"id":132575,"mutability":"mutable","name":"_hyperdrive","nameLocation":"1415:11:178","nodeType":"VariableDeclaration","scope":132590,"src":"1403:23:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},"typeName":{"id":132574,"nodeType":"UserDefinedTypeName","pathNode":{"id":132573,"name":"IHyperdrive","nameLocations":["1403:11:178"],"nodeType":"IdentifierPath","referencedDeclaration":5658,"src":"1403:11:178"},"referencedDeclaration":5658,"src":"1403:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"visibility":"internal"}],"src":"1393:39:178"},"returnParameters":{"id":132579,"nodeType":"ParameterList","parameters":[{"constant":false,"id":132578,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":132590,"src":"1456:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132577,"name":"uint256","nodeType":"ElementaryTypeName","src":"1456:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1455:9:178"},"scope":135637,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":132635,"nodeType":"FunctionDefinition","src":"1629:633:178","nodes":[],"body":{"id":132634,"nodeType":"Block","src":"1728:534:178","nodes":[],"statements":[{"assignments":[132603],"declarations":[{"constant":false,"id":132603,"mutability":"mutable","name":"poolConfig","nameLocation":"1768:10:178","nodeType":"VariableDeclaration","scope":132634,"src":"1738:40:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig"},"typeName":{"id":132602,"nodeType":"UserDefinedTypeName","pathNode":{"id":132601,"name":"IHyperdrive.PoolConfig","nameLocations":["1738:11:178","1750:10:178"],"nodeType":"IdentifierPath","referencedDeclaration":5427,"src":"1738:22:178"},"referencedDeclaration":5427,"src":"1738:22:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_storage_ptr","typeString":"struct IHyperdrive.PoolConfig"}},"visibility":"internal"}],"id":132607,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":132604,"name":"_hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132594,"src":"1781:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":132605,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1793:13:178","memberName":"getPoolConfig","nodeType":"MemberAccess","referencedDeclaration":5923,"src":"1781:25:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolConfig_$5427_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolConfig memory)"}},"id":132606,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1781:27:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"nodeType":"VariableDeclarationStatement","src":"1738:70:178"},{"assignments":[132612],"declarations":[{"constant":false,"id":132612,"mutability":"mutable","name":"poolInfo","nameLocation":"1846:8:178","nodeType":"VariableDeclaration","scope":132634,"src":"1818:36:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo"},"typeName":{"id":132611,"nodeType":"UserDefinedTypeName","pathNode":{"id":132610,"name":"IHyperdrive.PoolInfo","nameLocations":["1818:11:178","1830:8:178"],"nodeType":"IdentifierPath","referencedDeclaration":5473,"src":"1818:20:178"},"referencedDeclaration":5473,"src":"1818:20:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_storage_ptr","typeString":"struct IHyperdrive.PoolInfo"}},"visibility":"internal"}],"id":132616,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":132613,"name":"_hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132594,"src":"1857:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":132614,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1869:11:178","memberName":"getPoolInfo","nodeType":"MemberAccess","referencedDeclaration":5940,"src":"1857:23:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolInfo_$5473_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolInfo memory)"}},"id":132615,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1857:25:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"nodeType":"VariableDeclarationStatement","src":"1818:64:178"},{"expression":{"arguments":[{"arguments":[{"expression":{"id":132621,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132612,"src":"2030:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":132622,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2039:13:178","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":5430,"src":"2030:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":132623,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132612,"src":"2074:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":132624,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2083:15:178","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":5433,"src":"2074:24:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":132619,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12857,"src":"1962:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$12857_$","typeString":"type(library HyperdriveMath)"}},"id":132620,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1977:31:178","memberName":"calculateEffectiveShareReserves","nodeType":"MemberAccess","referencedDeclaration":12409,"src":"1962:46:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$returns$_t_uint256_$","typeString":"function (uint256,int256) pure returns (uint256)"}},"id":132625,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1962:154:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":132626,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132612,"src":"2134:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":132627,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2143:12:178","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":5442,"src":"2134:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":132628,"name":"poolConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132603,"src":"2173:10:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":132629,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2184:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":5401,"src":"2173:28:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":132630,"name":"poolConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132603,"src":"2219:10:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":132631,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2230:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":5416,"src":"2219:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":132617,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12857,"src":"1911:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$12857_$","typeString":"type(library HyperdriveMath)"}},"id":132618,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1926:18:178","memberName":"calculateSpotPrice","nodeType":"MemberAccess","referencedDeclaration":12340,"src":"1911:33:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":132632,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1911:344:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":132598,"id":132633,"nodeType":"Return","src":"1892:363:178"}]},"documentation":{"id":132591,"nodeType":"StructuredDocumentation","src":"1595:29:178","text":"Price and Rate Utils ///"},"implemented":true,"kind":"function","modifiers":[],"name":"calculateSpotPrice","nameLocation":"1638:18:178","parameters":{"id":132595,"nodeType":"ParameterList","parameters":[{"constant":false,"id":132594,"mutability":"mutable","name":"_hyperdrive","nameLocation":"1678:11:178","nodeType":"VariableDeclaration","scope":132635,"src":"1666:23:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},"typeName":{"id":132593,"nodeType":"UserDefinedTypeName","pathNode":{"id":132592,"name":"IHyperdrive","nameLocations":["1666:11:178"],"nodeType":"IdentifierPath","referencedDeclaration":5658,"src":"1666:11:178"},"referencedDeclaration":5658,"src":"1666:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"visibility":"internal"}],"src":"1656:39:178"},"returnParameters":{"id":132598,"nodeType":"ParameterList","parameters":[{"constant":false,"id":132597,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":132635,"src":"1719:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132596,"name":"uint256","nodeType":"ElementaryTypeName","src":"1719:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1718:9:178"},"scope":135637,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":132681,"nodeType":"FunctionDefinition","src":"2268:674:178","nodes":[],"body":{"id":132680,"nodeType":"Block","src":"2365:577:178","nodes":[],"statements":[{"assignments":[132647],"declarations":[{"constant":false,"id":132647,"mutability":"mutable","name":"poolConfig","nameLocation":"2405:10:178","nodeType":"VariableDeclaration","scope":132680,"src":"2375:40:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig"},"typeName":{"id":132646,"nodeType":"UserDefinedTypeName","pathNode":{"id":132645,"name":"IHyperdrive.PoolConfig","nameLocations":["2375:11:178","2387:10:178"],"nodeType":"IdentifierPath","referencedDeclaration":5427,"src":"2375:22:178"},"referencedDeclaration":5427,"src":"2375:22:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_storage_ptr","typeString":"struct IHyperdrive.PoolConfig"}},"visibility":"internal"}],"id":132651,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":132648,"name":"_hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132638,"src":"2418:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":132649,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2430:13:178","memberName":"getPoolConfig","nodeType":"MemberAccess","referencedDeclaration":5923,"src":"2418:25:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolConfig_$5427_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolConfig memory)"}},"id":132650,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2418:27:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"nodeType":"VariableDeclarationStatement","src":"2375:70:178"},{"assignments":[132656],"declarations":[{"constant":false,"id":132656,"mutability":"mutable","name":"poolInfo","nameLocation":"2483:8:178","nodeType":"VariableDeclaration","scope":132680,"src":"2455:36:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo"},"typeName":{"id":132655,"nodeType":"UserDefinedTypeName","pathNode":{"id":132654,"name":"IHyperdrive.PoolInfo","nameLocations":["2455:11:178","2467:8:178"],"nodeType":"IdentifierPath","referencedDeclaration":5473,"src":"2455:20:178"},"referencedDeclaration":5473,"src":"2455:20:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_storage_ptr","typeString":"struct IHyperdrive.PoolInfo"}},"visibility":"internal"}],"id":132660,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":132657,"name":"_hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132638,"src":"2494:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":132658,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2506:11:178","memberName":"getPoolInfo","nodeType":"MemberAccess","referencedDeclaration":5940,"src":"2494:23:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolInfo_$5473_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolInfo memory)"}},"id":132659,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2494:25:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"nodeType":"VariableDeclarationStatement","src":"2455:64:178"},{"expression":{"arguments":[{"arguments":[{"expression":{"id":132665,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132656,"src":"2665:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":132666,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2674:13:178","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":5430,"src":"2665:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":132667,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132656,"src":"2709:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":132668,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2718:15:178","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":5433,"src":"2709:24:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":132663,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12857,"src":"2597:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$12857_$","typeString":"type(library HyperdriveMath)"}},"id":132664,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2612:31:178","memberName":"calculateEffectiveShareReserves","nodeType":"MemberAccess","referencedDeclaration":12409,"src":"2597:46:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$returns$_t_uint256_$","typeString":"function (uint256,int256) pure returns (uint256)"}},"id":132669,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2597:154:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":132670,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132656,"src":"2769:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":132671,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2778:12:178","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":5442,"src":"2769:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":132672,"name":"poolConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132647,"src":"2808:10:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":132673,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2819:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":5401,"src":"2808:28:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":132674,"name":"poolConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132647,"src":"2854:10:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":132675,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2865:16:178","memberName":"positionDuration","nodeType":"MemberAccess","referencedDeclaration":5410,"src":"2854:27:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":132676,"name":"poolConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132647,"src":"2899:10:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":132677,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2910:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":5416,"src":"2899:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":132661,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12857,"src":"2548:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$12857_$","typeString":"type(library HyperdriveMath)"}},"id":132662,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2563:16:178","memberName":"calculateSpotAPR","nodeType":"MemberAccess","referencedDeclaration":12378,"src":"2548:31:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":132678,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2548:387:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":132642,"id":132679,"nodeType":"Return","src":"2529:406:178"}]},"implemented":true,"kind":"function","modifiers":[],"name":"calculateSpotAPR","nameLocation":"2277:16:178","parameters":{"id":132639,"nodeType":"ParameterList","parameters":[{"constant":false,"id":132638,"mutability":"mutable","name":"_hyperdrive","nameLocation":"2315:11:178","nodeType":"VariableDeclaration","scope":132681,"src":"2303:23:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},"typeName":{"id":132637,"nodeType":"UserDefinedTypeName","pathNode":{"id":132636,"name":"IHyperdrive","nameLocations":["2303:11:178"],"nodeType":"IdentifierPath","referencedDeclaration":5658,"src":"2303:11:178"},"referencedDeclaration":5658,"src":"2303:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"visibility":"internal"}],"src":"2293:39:178"},"returnParameters":{"id":132642,"nodeType":"ParameterList","parameters":[{"constant":false,"id":132641,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":132681,"src":"2356:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132640,"name":"uint256","nodeType":"ElementaryTypeName","src":"2356:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2355:9:178"},"scope":135637,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":132715,"nodeType":"FunctionDefinition","src":"2948:603:178","nodes":[],"body":{"id":132714,"nodeType":"Block","src":"3112:439:178","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":132699,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":132695,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":132693,"name":"timeRemaining","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132687,"src":"3316:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"hexValue":"31653138","id":132694,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3333:4:178","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"value":"1e18"},"src":"3316:21:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":132698,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":132696,"name":"timeRemaining","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132687,"src":"3341:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":132697,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3357:1:178","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3341:17:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3316:42:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"457870656374696e67204e6f726d616c697a656454696d6552656d61696e696e67","id":132700,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3372:35:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_f6bed8350536a611c3f5aa1607d036e667248cfc544b671ec115b04e29d87c30","typeString":"literal_string \"Expecting NormalizedTimeRemaining\""},"value":"Expecting NormalizedTimeRemaining"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_f6bed8350536a611c3f5aa1607d036e667248cfc544b671ec115b04e29d87c30","typeString":"literal_string \"Expecting NormalizedTimeRemaining\""}],"id":132692,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"3295:7:178","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":132701,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3295:122:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":132702,"nodeType":"ExpressionStatement","src":"3295:122:178"},{"expression":{"arguments":[{"arguments":[{"id":132710,"name":"timeRemaining","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132687,"src":"3516:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":132708,"name":"baseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132683,"src":"3497:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132709,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3508:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"3497:18:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":132711,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3497:33:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":132705,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":132703,"name":"bondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132685,"src":"3447:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":132704,"name":"baseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132683,"src":"3460:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3447:23:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":132706,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3446:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132707,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3472:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"3446:33:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":132712,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3446:98:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":132691,"id":132713,"nodeType":"Return","src":"3427:117:178"}]},"implemented":true,"kind":"function","modifiers":[],"name":"calculateAPRFromRealizedPrice","nameLocation":"2957:29:178","parameters":{"id":132688,"nodeType":"ParameterList","parameters":[{"constant":false,"id":132683,"mutability":"mutable","name":"baseAmount","nameLocation":"3004:10:178","nodeType":"VariableDeclaration","scope":132715,"src":"2996:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132682,"name":"uint256","nodeType":"ElementaryTypeName","src":"2996:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":132685,"mutability":"mutable","name":"bondAmount","nameLocation":"3032:10:178","nodeType":"VariableDeclaration","scope":132715,"src":"3024:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132684,"name":"uint256","nodeType":"ElementaryTypeName","src":"3024:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":132687,"mutability":"mutable","name":"timeRemaining","nameLocation":"3060:13:178","nodeType":"VariableDeclaration","scope":132715,"src":"3052:21:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132686,"name":"uint256","nodeType":"ElementaryTypeName","src":"3052:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2986:93:178"},"returnParameters":{"id":132691,"nodeType":"ParameterList","parameters":[{"constant":false,"id":132690,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":132715,"src":"3103:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132689,"name":"uint256","nodeType":"ElementaryTypeName","src":"3103:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3102:9:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":132788,"nodeType":"FunctionDefinition","src":"3949:602:178","nodes":[],"body":{"id":132787,"nodeType":"Block","src":"4115:436:178","nodes":[],"statements":[{"assignments":[132730],"declarations":[{"constant":false,"id":132730,"mutability":"mutable","name":"normalizedTime","nameLocation":"4180:14:178","nodeType":"VariableDeclaration","scope":132787,"src":"4172:22:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132729,"name":"uint256","nodeType":"ElementaryTypeName","src":"4172:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":132735,"initialValue":{"arguments":[{"hexValue":"333635","id":132733,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4211:8:178","subdenomination":"days","typeDescriptions":{"typeIdentifier":"t_rational_31536000_by_1","typeString":"int_const 31536000"},"value":"365"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_31536000_by_1","typeString":"int_const 31536000"}],"expression":{"id":132731,"name":"_time","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132722,"src":"4197:5:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132732,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4203:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"4197:13:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":132734,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4197:23:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4172:48:178"},{"expression":{"id":132769,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":132736,"name":"interest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132727,"src":"4230:8:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":132739,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":132737,"name":"_apr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132720,"src":"4241:4:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"hexValue":"30","id":132738,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4249:1:178","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4241:9:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":132767,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"4345:97:178","subExpression":{"arguments":[{"arguments":[{"arguments":[{"id":132763,"name":"normalizedTime","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132730,"src":"4412:14:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":132760,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"4397:5:178","subExpression":{"id":132759,"name":"_apr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132720,"src":"4398:4:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":132758,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4389:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":132757,"name":"uint256","nodeType":"ElementaryTypeName","src":"4389:7:178","typeDescriptions":{}}},"id":132761,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4389:14:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132762,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4404:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"4389:22:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":132764,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4389:38:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":132755,"name":"_principal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132718,"src":"4370:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132756,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4381:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"4370:18:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":132765,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4370:58:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":132754,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4346:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":132753,"name":"int256","nodeType":"ElementaryTypeName","src":"4346:6:178","typeDescriptions":{}}},"id":132766,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4346:96:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":132768,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"4241:201:178","trueExpression":{"arguments":[{"arguments":[{"arguments":[{"id":132749,"name":"normalizedTime","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132730,"src":"4313:14:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":132746,"name":"_apr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132720,"src":"4299:4:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":132745,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4291:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":132744,"name":"uint256","nodeType":"ElementaryTypeName","src":"4291:7:178","typeDescriptions":{}}},"id":132747,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4291:13:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132748,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4305:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"4291:21:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":132750,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4291:37:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":132742,"name":"_principal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132718,"src":"4272:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132743,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4283:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"4272:18:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":132751,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4272:57:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":132741,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4265:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":132740,"name":"int256","nodeType":"ElementaryTypeName","src":"4265:6:178","typeDescriptions":{}}},"id":132752,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4265:65:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"4230:212:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":132770,"nodeType":"ExpressionStatement","src":"4230:212:178"},{"expression":{"id":132781,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":132771,"name":"totalAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132725,"src":"4452:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":132779,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":132776,"name":"_principal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132718,"src":"4481:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":132775,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4474:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":132774,"name":"int256","nodeType":"ElementaryTypeName","src":"4474:6:178","typeDescriptions":{}}},"id":132777,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4474:18:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":132778,"name":"interest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132727,"src":"4495:8:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"4474:29:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":132773,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4466:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":132772,"name":"uint256","nodeType":"ElementaryTypeName","src":"4466:7:178","typeDescriptions":{}}},"id":132780,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4466:38:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4452:52:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132782,"nodeType":"ExpressionStatement","src":"4452:52:178"},{"expression":{"components":[{"id":132783,"name":"totalAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132725,"src":"4522:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":132784,"name":"interest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132727,"src":"4535:8:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"id":132785,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4521:23:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_int256_$","typeString":"tuple(uint256,int256)"}},"functionReturnParameters":132728,"id":132786,"nodeType":"Return","src":"4514:30:178"}]},"documentation":{"id":132716,"nodeType":"StructuredDocumentation","src":"3557:387:178","text":"@dev Calculates the non-compounded interest over a period.\n @param _principal The principal amount that will accrue interest.\n @param _apr Annual percentage rate\n @param _time Amount of time in seconds over which interest accrues.\n @return totalAmount The total amount of capital after interest accrues.\n @return interest The interest that accrued."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateInterest","nameLocation":"3958:17:178","parameters":{"id":132723,"nodeType":"ParameterList","parameters":[{"constant":false,"id":132718,"mutability":"mutable","name":"_principal","nameLocation":"3993:10:178","nodeType":"VariableDeclaration","scope":132788,"src":"3985:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132717,"name":"uint256","nodeType":"ElementaryTypeName","src":"3985:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":132720,"mutability":"mutable","name":"_apr","nameLocation":"4020:4:178","nodeType":"VariableDeclaration","scope":132788,"src":"4013:11:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":132719,"name":"int256","nodeType":"ElementaryTypeName","src":"4013:6:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":132722,"mutability":"mutable","name":"_time","nameLocation":"4042:5:178","nodeType":"VariableDeclaration","scope":132788,"src":"4034:13:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132721,"name":"uint256","nodeType":"ElementaryTypeName","src":"4034:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3975:78:178"},"returnParameters":{"id":132728,"nodeType":"ParameterList","parameters":[{"constant":false,"id":132725,"mutability":"mutable","name":"totalAmount","nameLocation":"4085:11:178","nodeType":"VariableDeclaration","scope":132788,"src":"4077:19:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132724,"name":"uint256","nodeType":"ElementaryTypeName","src":"4077:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":132727,"mutability":"mutable","name":"interest","nameLocation":"4105:8:178","nodeType":"VariableDeclaration","scope":132788,"src":"4098:15:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":132726,"name":"int256","nodeType":"ElementaryTypeName","src":"4098:6:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"4076:38:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":132901,"nodeType":"FunctionDefinition","src":"4984:1056:178","nodes":[],"body":{"id":132900,"nodeType":"Block","src":"5159:881:178","nodes":[],"statements":[{"assignments":[132803],"declarations":[{"constant":false,"id":132803,"mutability":"mutable","name":"normalizedTime","nameLocation":"5224:14:178","nodeType":"VariableDeclaration","scope":132900,"src":"5216:22:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132802,"name":"uint256","nodeType":"ElementaryTypeName","src":"5216:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":132808,"initialValue":{"arguments":[{"hexValue":"333635","id":132806,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5255:8:178","subdenomination":"days","typeDescriptions":{"typeIdentifier":"t_rational_31536000_by_1","typeString":"int_const 31536000"},"value":"365"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_31536000_by_1","typeString":"int_const 31536000"}],"expression":{"id":132804,"name":"_time","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132795,"src":"5241:5:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132805,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5247:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"5241:13:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":132807,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5241:23:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5216:48:178"},{"assignments":[132810],"declarations":[{"constant":false,"id":132810,"mutability":"mutable","name":"rt","nameLocation":"5282:2:178","nodeType":"VariableDeclaration","scope":132900,"src":"5274:10:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132809,"name":"uint256","nodeType":"ElementaryTypeName","src":"5274:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":132824,"initialValue":{"arguments":[{"id":132822,"name":"normalizedTime","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132803,"src":"5344:14:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":132815,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":132813,"name":"_rate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132793,"src":"5295:5:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"30","id":132814,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5303:1:178","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5295:9:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":132818,"name":"_rate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132793,"src":"5316:5:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":132819,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"5295:26:178","trueExpression":{"id":132817,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"5307:6:178","subExpression":{"id":132816,"name":"_rate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132793,"src":"5308:5:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":132812,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5287:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":132811,"name":"uint256","nodeType":"ElementaryTypeName","src":"5287:7:178","typeDescriptions":{}}},"id":132820,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5287:35:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132821,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5323:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"5287:43:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":132823,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5287:81:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5274:94:178"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":132827,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":132825,"name":"_rate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132793,"src":"5383:5:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":132826,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5391:1:178","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5383:9:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":132860,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":132858,"name":"_rate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132793,"src":"5633:5:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"30","id":132859,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5641:1:178","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5633:9:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":132894,"nodeType":"IfStatement","src":"5629:373:178","trueBody":{"id":132893,"nodeType":"Block","src":"5644:358:178","statements":[{"expression":{"id":132875,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":132861,"name":"totalAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132798,"src":"5779:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"arguments":[{"arguments":[{"id":132870,"name":"rt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132810,"src":"5863:2:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":132869,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5856:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":132868,"name":"int256","nodeType":"ElementaryTypeName","src":"5856:6:178","typeDescriptions":{}}},"id":132871,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5856:10:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":132866,"name":"FixedPointMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12293,"src":"5837:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPointMath_$12293_$","typeString":"type(library FixedPointMath)"}},"id":132867,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5852:3:178","memberName":"exp","nodeType":"MemberAccess","referencedDeclaration":11883,"src":"5837:18:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$returns$_t_int256_$","typeString":"function (int256) pure returns (int256)"}},"id":132872,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5837:30:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":132865,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5829:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":132864,"name":"uint256","nodeType":"ElementaryTypeName","src":"5829:7:178","typeDescriptions":{}}},"id":132873,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5829:39:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":132862,"name":"_principal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132791,"src":"5793:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132863,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5804:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"5793:18:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":132874,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5793:89:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5779:103:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132876,"nodeType":"ExpressionStatement","src":"5779:103:178"},{"expression":{"id":132887,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":132877,"name":"interest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132800,"src":"5896:8:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":132886,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":132880,"name":"totalAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132798,"src":"5914:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":132879,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5907:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":132878,"name":"int256","nodeType":"ElementaryTypeName","src":"5907:6:178","typeDescriptions":{}}},"id":132881,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5907:19:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"id":132884,"name":"_principal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132791,"src":"5936:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":132883,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5929:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":132882,"name":"int256","nodeType":"ElementaryTypeName","src":"5929:6:178","typeDescriptions":{}}},"id":132885,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5929:18:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"5907:40:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"5896:51:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":132888,"nodeType":"ExpressionStatement","src":"5896:51:178"},{"expression":{"components":[{"id":132889,"name":"totalAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132798,"src":"5969:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":132890,"name":"interest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132800,"src":"5982:8:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"id":132891,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5968:23:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_int256_$","typeString":"tuple(uint256,int256)"}},"functionReturnParameters":132801,"id":132892,"nodeType":"Return","src":"5961:30:178"}]}},"id":132895,"nodeType":"IfStatement","src":"5379:623:178","trueBody":{"id":132857,"nodeType":"Block","src":"5394:229:178","statements":[{"expression":{"id":132842,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":132828,"name":"totalAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132798,"src":"5408:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"arguments":[{"arguments":[{"id":132837,"name":"rt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132810,"src":"5492:2:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":132836,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5485:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":132835,"name":"int256","nodeType":"ElementaryTypeName","src":"5485:6:178","typeDescriptions":{}}},"id":132838,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5485:10:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":132833,"name":"FixedPointMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12293,"src":"5466:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPointMath_$12293_$","typeString":"type(library FixedPointMath)"}},"id":132834,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5481:3:178","memberName":"exp","nodeType":"MemberAccess","referencedDeclaration":11883,"src":"5466:18:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$returns$_t_int256_$","typeString":"function (int256) pure returns (int256)"}},"id":132839,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5466:30:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":132832,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5458:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":132831,"name":"uint256","nodeType":"ElementaryTypeName","src":"5458:7:178","typeDescriptions":{}}},"id":132840,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5458:39:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":132829,"name":"_principal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132791,"src":"5422:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132830,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5433:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"5422:18:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":132841,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5422:89:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5408:103:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132843,"nodeType":"ExpressionStatement","src":"5408:103:178"},{"expression":{"id":132851,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":132844,"name":"interest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132800,"src":"5525:8:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":132849,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":132847,"name":"totalAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132798,"src":"5543:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":132848,"name":"_principal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132791,"src":"5557:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5543:24:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":132846,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5536:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":132845,"name":"int256","nodeType":"ElementaryTypeName","src":"5536:6:178","typeDescriptions":{}}},"id":132850,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5536:32:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"5525:43:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":132852,"nodeType":"ExpressionStatement","src":"5525:43:178"},{"expression":{"components":[{"id":132853,"name":"totalAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132798,"src":"5590:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":132854,"name":"interest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132800,"src":"5603:8:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"id":132855,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5589:23:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_int256_$","typeString":"tuple(uint256,int256)"}},"functionReturnParameters":132801,"id":132856,"nodeType":"Return","src":"5582:30:178"}]}},{"expression":{"components":[{"id":132896,"name":"_principal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132791,"src":"6019:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"30","id":132897,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6031:1:178","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"id":132898,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"6018:15:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_rational_0_by_1_$","typeString":"tuple(uint256,int_const 0)"}},"functionReturnParameters":132801,"id":132899,"nodeType":"Return","src":"6011:22:178"}]},"documentation":{"id":132789,"nodeType":"StructuredDocumentation","src":"4557:422:178","text":"@dev Calculates principal + compounded rate of interest over a period\n      principal * e ^ (rate * time)\n @param _principal The initial amount interest will be accrued on\n @param _rate Interest rate\n @param _time Number of seconds compounding will occur for\n @return totalAmount The total amount of capital after interest accrues.\n @return interest The interest that accrued."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateCompoundInterest","nameLocation":"4993:25:178","parameters":{"id":132796,"nodeType":"ParameterList","parameters":[{"constant":false,"id":132791,"mutability":"mutable","name":"_principal","nameLocation":"5036:10:178","nodeType":"VariableDeclaration","scope":132901,"src":"5028:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132790,"name":"uint256","nodeType":"ElementaryTypeName","src":"5028:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":132793,"mutability":"mutable","name":"_rate","nameLocation":"5063:5:178","nodeType":"VariableDeclaration","scope":132901,"src":"5056:12:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":132792,"name":"int256","nodeType":"ElementaryTypeName","src":"5056:6:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":132795,"mutability":"mutable","name":"_time","nameLocation":"5086:5:178","nodeType":"VariableDeclaration","scope":132901,"src":"5078:13:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132794,"name":"uint256","nodeType":"ElementaryTypeName","src":"5078:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5018:79:178"},"returnParameters":{"id":132801,"nodeType":"ParameterList","parameters":[{"constant":false,"id":132798,"mutability":"mutable","name":"totalAmount","nameLocation":"5129:11:178","nodeType":"VariableDeclaration","scope":132901,"src":"5121:19:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132797,"name":"uint256","nodeType":"ElementaryTypeName","src":"5121:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":132800,"mutability":"mutable","name":"interest","nameLocation":"5149:8:178","nodeType":"VariableDeclaration","scope":132901,"src":"5142:15:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":132799,"name":"int256","nodeType":"ElementaryTypeName","src":"5142:6:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"5120:38:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":132993,"nodeType":"FunctionDefinition","src":"6046:1915:178","nodes":[],"body":{"id":132992,"nodeType":"Block","src":"6169:1792:178","nodes":[],"statements":[{"assignments":[132911],"declarations":[{"constant":false,"id":132911,"mutability":"mutable","name":"timeStretch","nameLocation":"6309:11:178","nodeType":"VariableDeclaration","scope":132992,"src":"6301:19:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132910,"name":"uint256","nodeType":"ElementaryTypeName","src":"6301:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":132927,"initialValue":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":132924,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":132922,"name":"apr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132903,"src":"6392:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"313030","id":132923,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6398:3:178","typeDescriptions":{"typeIdentifier":"t_rational_100_by_1","typeString":"int_const 100"},"value":"100"},"src":"6392:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"hexValue":"302e3034363635653138","id":132919,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6372:10:178","typeDescriptions":{"typeIdentifier":"t_rational_46650000000000000_by_1","typeString":"int_const 46650000000000000"},"value":"0.04665e18"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_46650000000000000_by_1","typeString":"int_const 46650000000000000"}],"id":132918,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6364:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":132917,"name":"uint256","nodeType":"ElementaryTypeName","src":"6364:7:178","typeDescriptions":{}}},"id":132920,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6364:19:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132921,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6384:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"6364:27:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":132925,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6364:38:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"hexValue":"352e3234353932653138","id":132914,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6331:10:178","typeDescriptions":{"typeIdentifier":"t_rational_5245920000000000000_by_1","typeString":"int_const 5245920000000000000"},"value":"5.24592e18"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_5245920000000000000_by_1","typeString":"int_const 5245920000000000000"}],"id":132913,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6323:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":132912,"name":"uint256","nodeType":"ElementaryTypeName","src":"6323:7:178","typeDescriptions":{}}},"id":132915,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6323:19:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132916,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6343:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"6323:27:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":132926,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6323:89:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6301:111:178"},{"expression":{"id":132933,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":132928,"name":"timeStretch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132911,"src":"6422:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":132931,"name":"timeStretch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132911,"src":"6448:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":132929,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"6436:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132930,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6440:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"6436:11:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":132932,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6436:24:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6422:38:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132934,"nodeType":"ExpressionStatement","src":"6422:38:178"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":132937,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":132935,"name":"positionDuration","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132905,"src":"6551:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"333635","id":132936,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6571:8:178","subdenomination":"days","typeDescriptions":{"typeIdentifier":"t_rational_31536000_by_1","typeString":"int_const 31536000"},"value":"365"},"src":"6551:28:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":132941,"nodeType":"IfStatement","src":"6547:77:178","trueBody":{"id":132940,"nodeType":"Block","src":"6581:43:178","statements":[{"expression":{"id":132938,"name":"timeStretch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132911,"src":"6602:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":132909,"id":132939,"nodeType":"Return","src":"6595:18:178"}]}},{"assignments":[132943],"declarations":[{"constant":false,"id":132943,"mutability":"mutable","name":"targetSpotPrice","nameLocation":"7450:15:178","nodeType":"VariableDeclaration","scope":132992,"src":"7442:23:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132942,"name":"uint256","nodeType":"ElementaryTypeName","src":"7442:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":132954,"initialValue":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":132952,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":132946,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"7493:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"id":132949,"name":"positionDuration","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132905,"src":"7514:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"333635","id":132950,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7532:8:178","subdenomination":"days","typeDescriptions":{"typeIdentifier":"t_rational_31536000_by_1","typeString":"int_const 31536000"},"value":"365"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_31536000_by_1","typeString":"int_const 31536000"}],"expression":{"id":132947,"name":"apr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132903,"src":"7499:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132948,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7503:10:178","memberName":"mulDivDown","nodeType":"MemberAccess","referencedDeclaration":11541,"src":"7499:14:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":132951,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7499:42:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7493:48:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":132944,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"7468:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132945,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7472:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"7468:11:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":132953,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7468:83:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7442:109:178"},{"assignments":[132956],"declarations":[{"constant":false,"id":132956,"mutability":"mutable","name":"benchmarkReserveRatio","nameLocation":"7569:21:178","nodeType":"VariableDeclaration","scope":132992,"src":"7561:29:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132955,"name":"uint256","nodeType":"ElementaryTypeName","src":"7561:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":132968,"initialValue":{"arguments":[{"arguments":[{"id":132961,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"7679:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":132962,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"7700:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":132963,"name":"apr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132903,"src":"7721:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"333635","id":132964,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7742:8:178","subdenomination":"days","typeDescriptions":{"typeIdentifier":"t_rational_31536000_by_1","typeString":"int_const 31536000"},"value":"365"},{"id":132965,"name":"timeStretch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132911,"src":"7768:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_31536000_by_1","typeString":"int_const 31536000"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":132959,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12857,"src":"7618:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$12857_$","typeString":"type(library HyperdriveMath)"}},"id":132960,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7633:28:178","memberName":"calculateInitialBondReserves","nodeType":"MemberAccess","referencedDeclaration":12453,"src":"7618:43:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":132966,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7618:175:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":132957,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"7593:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132958,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7597:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"7593:11:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":132967,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7593:210:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7561:242:178"},{"expression":{"arguments":[{"arguments":[{"id":132988,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"7904:35:178","subExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":132984,"name":"benchmarkReserveRatio","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132956,"src":"7912:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":132983,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7905:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":132982,"name":"int256","nodeType":"ElementaryTypeName","src":"7905:6:178","typeDescriptions":{}}},"id":132985,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7905:29:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":132986,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7935:2:178","memberName":"ln","nodeType":"MemberAccess","referencedDeclaration":11905,"src":"7905:32:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$returns$_t_int256_$attached_to$_t_int256_$","typeString":"function (int256) pure returns (int256)"}},"id":132987,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7905:34:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":132981,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7896:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":132980,"name":"uint256","nodeType":"ElementaryTypeName","src":"7896:7:178","typeDescriptions":{}}},"id":132989,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7896:44:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":132977,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"7840:29:178","subExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":132973,"name":"targetSpotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132943,"src":"7848:15:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":132972,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7841:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":132971,"name":"int256","nodeType":"ElementaryTypeName","src":"7841:6:178","typeDescriptions":{}}},"id":132974,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7841:23:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":132975,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7865:2:178","memberName":"ln","nodeType":"MemberAccess","referencedDeclaration":11905,"src":"7841:26:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$returns$_t_int256_$attached_to$_t_int256_$","typeString":"function (int256) pure returns (int256)"}},"id":132976,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7841:28:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":132970,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7832:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":132969,"name":"uint256","nodeType":"ElementaryTypeName","src":"7832:7:178","typeDescriptions":{}}},"id":132978,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7832:38:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132979,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7871:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"7832:46:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":132990,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7832:122:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":132909,"id":132991,"nodeType":"Return","src":"7813:141:178"}]},"implemented":true,"kind":"function","modifiers":[],"name":"calculateTimeStretch","nameLocation":"6055:20:178","parameters":{"id":132906,"nodeType":"ParameterList","parameters":[{"constant":false,"id":132903,"mutability":"mutable","name":"apr","nameLocation":"6093:3:178","nodeType":"VariableDeclaration","scope":132993,"src":"6085:11:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132902,"name":"uint256","nodeType":"ElementaryTypeName","src":"6085:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":132905,"mutability":"mutable","name":"positionDuration","nameLocation":"6114:16:178","nodeType":"VariableDeclaration","scope":132993,"src":"6106:24:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132904,"name":"uint256","nodeType":"ElementaryTypeName","src":"6106:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6075:61:178"},"returnParameters":{"id":132909,"nodeType":"ParameterList","parameters":[{"constant":false,"id":132908,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":132993,"src":"6160:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132907,"name":"uint256","nodeType":"ElementaryTypeName","src":"6160:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6159:9:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":133067,"nodeType":"FunctionDefinition","src":"8260:1210:178","nodes":[],"body":{"id":133066,"nodeType":"Block","src":"8400:1070:178","nodes":[],"statements":[{"assignments":[133008],"declarations":[{"constant":false,"id":133008,"mutability":"mutable","name":"poolConfig","nameLocation":"8440:10:178","nodeType":"VariableDeclaration","scope":133066,"src":"8410:40:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig"},"typeName":{"id":133007,"nodeType":"UserDefinedTypeName","pathNode":{"id":133006,"name":"IHyperdrive.PoolConfig","nameLocations":["8410:11:178","8422:10:178"],"nodeType":"IdentifierPath","referencedDeclaration":5427,"src":"8410:22:178"},"referencedDeclaration":5427,"src":"8410:22:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_storage_ptr","typeString":"struct IHyperdrive.PoolConfig"}},"visibility":"internal"}],"id":133012,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":133009,"name":"_hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132997,"src":"8453:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":133010,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8465:13:178","memberName":"getPoolConfig","nodeType":"MemberAccess","referencedDeclaration":5923,"src":"8453:25:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolConfig_$5427_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolConfig memory)"}},"id":133011,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8453:27:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"nodeType":"VariableDeclarationStatement","src":"8410:70:178"},{"assignments":[133017],"declarations":[{"constant":false,"id":133017,"mutability":"mutable","name":"poolInfo","nameLocation":"8518:8:178","nodeType":"VariableDeclaration","scope":133066,"src":"8490:36:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo"},"typeName":{"id":133016,"nodeType":"UserDefinedTypeName","pathNode":{"id":133015,"name":"IHyperdrive.PoolInfo","nameLocations":["8490:11:178","8502:8:178"],"nodeType":"IdentifierPath","referencedDeclaration":5473,"src":"8490:20:178"},"referencedDeclaration":5473,"src":"8490:20:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_storage_ptr","typeString":"struct IHyperdrive.PoolInfo"}},"visibility":"internal"}],"id":133021,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":133018,"name":"_hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132997,"src":"8529:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":133019,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8541:11:178","memberName":"getPoolInfo","nodeType":"MemberAccess","referencedDeclaration":5940,"src":"8529:23:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolInfo_$5473_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolInfo memory)"}},"id":133020,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8529:25:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"nodeType":"VariableDeclarationStatement","src":"8490:64:178"},{"expression":{"id":133062,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":133022,"name":"baseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133002,"src":"8565:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},null],"id":133023,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"8564:14:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$__$","typeString":"tuple(uint256,)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"expression":{"id":133026,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133017,"src":"8659:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":133027,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8668:13:178","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":5430,"src":"8659:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133028,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133017,"src":"8716:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":133029,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8725:15:178","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":5433,"src":"8716:24:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"id":133030,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133017,"src":"8772:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":133031,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8781:12:178","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":5442,"src":"8772:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133032,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133017,"src":"8829:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":133033,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8838:16:178","memberName":"longsOutstanding","nodeType":"MemberAccess","referencedDeclaration":5451,"src":"8829:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133034,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133017,"src":"8886:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":133035,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8895:12:178","memberName":"longExposure","nodeType":"MemberAccess","referencedDeclaration":5472,"src":"8886:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133036,"name":"poolConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133008,"src":"8938:10:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":133037,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8949:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":5416,"src":"8938:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133038,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133017,"src":"8990:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":133039,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8999:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":5448,"src":"8990:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133040,"name":"poolConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133008,"src":"9046:10:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":133041,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9057:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":5401,"src":"9046:28:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133042,"name":"poolConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133008,"src":"9114:10:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":133043,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9125:20:178","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":5404,"src":"9114:31:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":133044,"name":"poolConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133008,"src":"9173:10:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":133045,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9184:4:178","memberName":"fees","nodeType":"MemberAccess","referencedDeclaration":5426,"src":"9173:15:178","typeDescriptions":{"typeIdentifier":"t_struct$_Fees_$5352_memory_ptr","typeString":"struct IHyperdrive.Fees memory"}},"id":133046,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9189:5:178","memberName":"curve","nodeType":"MemberAccess","referencedDeclaration":5342,"src":"9173:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":133047,"name":"poolConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133008,"src":"9221:10:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":133048,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9232:4:178","memberName":"fees","nodeType":"MemberAccess","referencedDeclaration":5426,"src":"9221:15:178","typeDescriptions":{"typeIdentifier":"t_struct$_Fees_$5352_memory_ptr","typeString":"struct IHyperdrive.Fees memory"}},"id":133049,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9237:4:178","memberName":"flat","nodeType":"MemberAccess","referencedDeclaration":5345,"src":"9221:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":133050,"name":"poolConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133008,"src":"9276:10:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":133051,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9287:4:178","memberName":"fees","nodeType":"MemberAccess","referencedDeclaration":5426,"src":"9276:15:178","typeDescriptions":{"typeIdentifier":"t_struct$_Fees_$5352_memory_ptr","typeString":"struct IHyperdrive.Fees memory"}},"id":133052,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9292:12:178","memberName":"governanceLP","nodeType":"MemberAccess","referencedDeclaration":5348,"src":"9276:28:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":133025,"name":"MaxTradeParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133191,"src":"8611:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_MaxTradeParams_$133191_storage_ptr_$","typeString":"type(struct HyperdriveUtils.MaxTradeParams storage pointer)"}},"id":133053,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":["8644:13:178","8699:15:178","8758:12:178","8811:16:178","8872:12:178","8925:11:178","8978:10:178","9027:17:178","9092:20:178","9163:8:178","9212:7:178","9259:15:178"],"names":["shareReserves","shareAdjustment","bondReserves","longsOutstanding","longExposure","timeStretch","sharePrice","initialSharePrice","minimumShareReserves","curveFee","flatFee","governanceLPFee"],"nodeType":"FunctionCall","src":"8611:708:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":133056,"name":"_hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132997,"src":"9367:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":133057,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9379:16:178","memberName":"latestCheckpoint","nodeType":"MemberAccess","referencedDeclaration":132533,"src":"9367:28:178","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IHyperdrive_$5658_$returns$_t_uint256_$attached_to$_t_contract$_IHyperdrive_$5658_$","typeString":"function (contract IHyperdrive) view returns (uint256)"}},"id":133058,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9367:30:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133054,"name":"_hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132997,"src":"9333:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":133055,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9345:21:178","memberName":"getCheckpointExposure","nodeType":"MemberAccess","referencedDeclaration":5911,"src":"9333:33:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_int256_$","typeString":"function (uint256) view external returns (int256)"}},"id":133059,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9333:65:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":133060,"name":"_maxIterations","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132999,"src":"9412:14:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":133024,"name":"calculateMaxLong","nodeType":"Identifier","overloadedDeclarations":[133067,133082,133384],"referencedDeclaration":133384,"src":"8581:16:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_MaxTradeParams_$133191_memory_ptr_$_t_int256_$_t_uint256_$returns$_t_uint256_$_t_uint256_$","typeString":"function (struct HyperdriveUtils.MaxTradeParams memory,int256,uint256) pure returns (uint256,uint256)"}},"id":133061,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8581:855:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"src":"8564:872:178","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":133063,"nodeType":"ExpressionStatement","src":"8564:872:178"},{"expression":{"id":133064,"name":"baseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133002,"src":"9453:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":133003,"id":133065,"nodeType":"Return","src":"9446:17:178"}]},"documentation":{"id":132994,"nodeType":"StructuredDocumentation","src":"7992:263:178","text":"@dev Calculates the maximum amount of longs that can be opened.\n @param _hyperdrive A Hyperdrive instance.\n @param _maxIterations The maximum number of iterations to use.\n @return baseAmount The cost of buying the maximum amount of longs."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateMaxLong","nameLocation":"8269:16:178","parameters":{"id":133000,"nodeType":"ParameterList","parameters":[{"constant":false,"id":132997,"mutability":"mutable","name":"_hyperdrive","nameLocation":"8307:11:178","nodeType":"VariableDeclaration","scope":133067,"src":"8295:23:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},"typeName":{"id":132996,"nodeType":"UserDefinedTypeName","pathNode":{"id":132995,"name":"IHyperdrive","nameLocations":["8295:11:178"],"nodeType":"IdentifierPath","referencedDeclaration":5658,"src":"8295:11:178"},"referencedDeclaration":5658,"src":"8295:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"visibility":"internal"},{"constant":false,"id":132999,"mutability":"mutable","name":"_maxIterations","nameLocation":"8336:14:178","nodeType":"VariableDeclaration","scope":133067,"src":"8328:22:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":132998,"name":"uint256","nodeType":"ElementaryTypeName","src":"8328:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"8285:71:178"},"returnParameters":{"id":133003,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133002,"mutability":"mutable","name":"baseAmount","nameLocation":"8388:10:178","nodeType":"VariableDeclaration","scope":133067,"src":"8380:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133001,"name":"uint256","nodeType":"ElementaryTypeName","src":"8380:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"8379:20:178"},"scope":135637,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":133082,"nodeType":"FunctionDefinition","src":"9673:164:178","nodes":[],"body":{"id":133081,"nodeType":"Block","src":"9781:56:178","nodes":[],"statements":[{"expression":{"arguments":[{"id":133077,"name":"_hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133071,"src":"9815:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},{"hexValue":"37","id":133078,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9828:1:178","typeDescriptions":{"typeIdentifier":"t_rational_7_by_1","typeString":"int_const 7"},"value":"7"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},{"typeIdentifier":"t_rational_7_by_1","typeString":"int_const 7"}],"id":133076,"name":"calculateMaxLong","nodeType":"Identifier","overloadedDeclarations":[133067,133082,133384],"referencedDeclaration":133067,"src":"9798:16:178","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IHyperdrive_$5658_$_t_uint256_$returns$_t_uint256_$","typeString":"function (contract IHyperdrive,uint256) view returns (uint256)"}},"id":133079,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9798:32:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":133075,"id":133080,"nodeType":"Return","src":"9791:39:178"}]},"documentation":{"id":133068,"nodeType":"StructuredDocumentation","src":"9476:192:178","text":"@dev Calculates the maximum amount of longs that can be opened.\n @param _hyperdrive A Hyperdrive instance.\n @return baseAmount The cost of buying the maximum amount of longs."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateMaxLong","nameLocation":"9682:16:178","parameters":{"id":133072,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133071,"mutability":"mutable","name":"_hyperdrive","nameLocation":"9720:11:178","nodeType":"VariableDeclaration","scope":133082,"src":"9708:23:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},"typeName":{"id":133070,"nodeType":"UserDefinedTypeName","pathNode":{"id":133069,"name":"IHyperdrive","nameLocations":["9708:11:178"],"nodeType":"IdentifierPath","referencedDeclaration":5658,"src":"9708:11:178"},"referencedDeclaration":5658,"src":"9708:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"visibility":"internal"}],"src":"9698:39:178"},"returnParameters":{"id":133075,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133074,"mutability":"mutable","name":"baseAmount","nameLocation":"9769:10:178","nodeType":"VariableDeclaration","scope":133082,"src":"9761:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133073,"name":"uint256","nodeType":"ElementaryTypeName","src":"9761:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"9760:20:178"},"scope":135637,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":133151,"nodeType":"FunctionDefinition","src":"10102:1282:178","nodes":[],"body":{"id":133150,"nodeType":"Block","src":"10232:1152:178","nodes":[],"statements":[{"assignments":[133097],"declarations":[{"constant":false,"id":133097,"mutability":"mutable","name":"poolConfig","nameLocation":"10272:10:178","nodeType":"VariableDeclaration","scope":133150,"src":"10242:40:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig"},"typeName":{"id":133096,"nodeType":"UserDefinedTypeName","pathNode":{"id":133095,"name":"IHyperdrive.PoolConfig","nameLocations":["10242:11:178","10254:10:178"],"nodeType":"IdentifierPath","referencedDeclaration":5427,"src":"10242:22:178"},"referencedDeclaration":5427,"src":"10242:22:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_storage_ptr","typeString":"struct IHyperdrive.PoolConfig"}},"visibility":"internal"}],"id":133101,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":133098,"name":"_hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133086,"src":"10285:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":133099,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10297:13:178","memberName":"getPoolConfig","nodeType":"MemberAccess","referencedDeclaration":5923,"src":"10285:25:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolConfig_$5427_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolConfig memory)"}},"id":133100,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10285:27:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"nodeType":"VariableDeclarationStatement","src":"10242:70:178"},{"assignments":[133106],"declarations":[{"constant":false,"id":133106,"mutability":"mutable","name":"poolInfo","nameLocation":"10350:8:178","nodeType":"VariableDeclaration","scope":133150,"src":"10322:36:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo"},"typeName":{"id":133105,"nodeType":"UserDefinedTypeName","pathNode":{"id":133104,"name":"IHyperdrive.PoolInfo","nameLocations":["10322:11:178","10334:8:178"],"nodeType":"IdentifierPath","referencedDeclaration":5473,"src":"10322:20:178"},"referencedDeclaration":5473,"src":"10322:20:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_storage_ptr","typeString":"struct IHyperdrive.PoolInfo"}},"visibility":"internal"}],"id":133110,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":133107,"name":"_hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133086,"src":"10361:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":133108,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10373:11:178","memberName":"getPoolInfo","nodeType":"MemberAccess","referencedDeclaration":5940,"src":"10361:23:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolInfo_$5473_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolInfo memory)"}},"id":133109,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10361:25:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"nodeType":"VariableDeclarationStatement","src":"10322:64:178"},{"expression":{"arguments":[{"arguments":[{"expression":{"id":133113,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133106,"src":"10502:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":133114,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10511:13:178","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":5430,"src":"10502:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133115,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133106,"src":"10563:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":133116,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10572:15:178","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":5433,"src":"10563:24:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"id":133117,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133106,"src":"10623:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":133118,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10632:12:178","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":5442,"src":"10623:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133119,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133106,"src":"10684:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":133120,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10693:16:178","memberName":"longsOutstanding","nodeType":"MemberAccess","referencedDeclaration":5451,"src":"10684:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133121,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133106,"src":"10745:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":133122,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10754:12:178","memberName":"longExposure","nodeType":"MemberAccess","referencedDeclaration":5472,"src":"10745:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133123,"name":"poolConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133097,"src":"10801:10:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":133124,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10812:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":5416,"src":"10801:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133125,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133106,"src":"10857:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":133126,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10866:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":5448,"src":"10857:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133127,"name":"poolConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133097,"src":"10917:10:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":133128,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10928:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":5401,"src":"10917:28:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133129,"name":"poolConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133097,"src":"10989:10:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":133130,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"11000:20:178","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":5404,"src":"10989:31:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":133131,"name":"poolConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133097,"src":"11052:10:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":133132,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"11063:4:178","memberName":"fees","nodeType":"MemberAccess","referencedDeclaration":5426,"src":"11052:15:178","typeDescriptions":{"typeIdentifier":"t_struct$_Fees_$5352_memory_ptr","typeString":"struct IHyperdrive.Fees memory"}},"id":133133,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"11068:5:178","memberName":"curve","nodeType":"MemberAccess","referencedDeclaration":5342,"src":"11052:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":133134,"name":"poolConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133097,"src":"11104:10:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":133135,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"11115:4:178","memberName":"fees","nodeType":"MemberAccess","referencedDeclaration":5426,"src":"11104:15:178","typeDescriptions":{"typeIdentifier":"t_struct$_Fees_$5352_memory_ptr","typeString":"struct IHyperdrive.Fees memory"}},"id":133136,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"11120:4:178","memberName":"flat","nodeType":"MemberAccess","referencedDeclaration":5345,"src":"11104:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":133137,"name":"poolConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133097,"src":"11163:10:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":133138,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"11174:4:178","memberName":"fees","nodeType":"MemberAccess","referencedDeclaration":5426,"src":"11163:15:178","typeDescriptions":{"typeIdentifier":"t_struct$_Fees_$5352_memory_ptr","typeString":"struct IHyperdrive.Fees memory"}},"id":133139,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"11179:12:178","memberName":"governanceLP","nodeType":"MemberAccess","referencedDeclaration":5348,"src":"11163:28:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":133112,"name":"MaxTradeParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133191,"src":"10450:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_MaxTradeParams_$133191_storage_ptr_$","typeString":"type(struct HyperdriveUtils.MaxTradeParams storage pointer)"}},"id":133140,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":["10487:13:178","10546:15:178","10609:12:178","10666:16:178","10731:12:178","10788:11:178","10845:10:178","10898:17:178","10967:20:178","11042:8:178","11095:7:178","11146:15:178"],"names":["shareReserves","shareAdjustment","bondReserves","longsOutstanding","longExposure","timeStretch","sharePrice","initialSharePrice","minimumShareReserves","curveFee","flatFee","governanceLPFee"],"nodeType":"FunctionCall","src":"10450:760:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":133143,"name":"_hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133086,"src":"11283:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":133144,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11295:16:178","memberName":"latestCheckpoint","nodeType":"MemberAccess","referencedDeclaration":132533,"src":"11283:28:178","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IHyperdrive_$5658_$returns$_t_uint256_$attached_to$_t_contract$_IHyperdrive_$5658_$","typeString":"function (contract IHyperdrive) view returns (uint256)"}},"id":133145,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11283:30:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133141,"name":"_hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133086,"src":"11228:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":133142,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11240:21:178","memberName":"getCheckpointExposure","nodeType":"MemberAccess","referencedDeclaration":5911,"src":"11228:33:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_int256_$","typeString":"function (uint256) view external returns (int256)"}},"id":133146,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11228:103:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":133147,"name":"_maxIterations","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133088,"src":"11349:14:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":133111,"name":"calculateMaxShort","nodeType":"Identifier","overloadedDeclarations":[133151,133166,134313],"referencedDeclaration":134313,"src":"10415:17:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_MaxTradeParams_$133191_memory_ptr_$_t_int256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (struct HyperdriveUtils.MaxTradeParams memory,int256,uint256) pure returns (uint256)"}},"id":133148,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10415:962:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":133092,"id":133149,"nodeType":"Return","src":"10396:981:178"}]},"documentation":{"id":133083,"nodeType":"StructuredDocumentation","src":"9843:254:178","text":"@dev Calculates the maximum amount of shorts that can be opened.\n @param _hyperdrive A Hyperdrive instance.\n @param _maxIterations The maximum number of iterations to use.\n @return The maximum amount of bonds that can be shorted."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateMaxShort","nameLocation":"10111:17:178","parameters":{"id":133089,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133086,"mutability":"mutable","name":"_hyperdrive","nameLocation":"10150:11:178","nodeType":"VariableDeclaration","scope":133151,"src":"10138:23:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},"typeName":{"id":133085,"nodeType":"UserDefinedTypeName","pathNode":{"id":133084,"name":"IHyperdrive","nameLocations":["10138:11:178"],"nodeType":"IdentifierPath","referencedDeclaration":5658,"src":"10138:11:178"},"referencedDeclaration":5658,"src":"10138:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"visibility":"internal"},{"constant":false,"id":133088,"mutability":"mutable","name":"_maxIterations","nameLocation":"10179:14:178","nodeType":"VariableDeclaration","scope":133151,"src":"10171:22:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133087,"name":"uint256","nodeType":"ElementaryTypeName","src":"10171:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"10128:71:178"},"returnParameters":{"id":133092,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133091,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":133151,"src":"10223:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133090,"name":"uint256","nodeType":"ElementaryTypeName","src":"10223:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"10222:9:178"},"scope":135637,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":133166,"nodeType":"FunctionDefinition","src":"11578:155:178","nodes":[],"body":{"id":133165,"nodeType":"Block","src":"11676:57:178","nodes":[],"statements":[{"expression":{"arguments":[{"id":133161,"name":"_hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133155,"src":"11711:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},{"hexValue":"37","id":133162,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11724:1:178","typeDescriptions":{"typeIdentifier":"t_rational_7_by_1","typeString":"int_const 7"},"value":"7"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},{"typeIdentifier":"t_rational_7_by_1","typeString":"int_const 7"}],"id":133160,"name":"calculateMaxShort","nodeType":"Identifier","overloadedDeclarations":[133151,133166,134313],"referencedDeclaration":133151,"src":"11693:17:178","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IHyperdrive_$5658_$_t_uint256_$returns$_t_uint256_$","typeString":"function (contract IHyperdrive,uint256) view returns (uint256)"}},"id":133163,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11693:33:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":133159,"id":133164,"nodeType":"Return","src":"11686:40:178"}]},"documentation":{"id":133152,"nodeType":"StructuredDocumentation","src":"11390:183:178","text":"@dev Calculates the maximum amount of shorts that can be opened.\n @param _hyperdrive A Hyperdrive instance.\n @return The maximum amount of bonds that can be shorted."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateMaxShort","nameLocation":"11587:17:178","parameters":{"id":133156,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133155,"mutability":"mutable","name":"_hyperdrive","nameLocation":"11626:11:178","nodeType":"VariableDeclaration","scope":133166,"src":"11614:23:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},"typeName":{"id":133154,"nodeType":"UserDefinedTypeName","pathNode":{"id":133153,"name":"IHyperdrive","nameLocations":["11614:11:178"],"nodeType":"IdentifierPath","referencedDeclaration":5658,"src":"11614:11:178"},"referencedDeclaration":5658,"src":"11614:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"visibility":"internal"}],"src":"11604:39:178"},"returnParameters":{"id":133159,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133158,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":133166,"src":"11667:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133157,"name":"uint256","nodeType":"ElementaryTypeName","src":"11667:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"11666:9:178"},"scope":135637,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":133191,"nodeType":"StructDefinition","src":"11739:400:178","nodes":[],"canonicalName":"HyperdriveUtils.MaxTradeParams","members":[{"constant":false,"id":133168,"mutability":"mutable","name":"shareReserves","nameLocation":"11779:13:178","nodeType":"VariableDeclaration","scope":133191,"src":"11771:21:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133167,"name":"uint256","nodeType":"ElementaryTypeName","src":"11771:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133170,"mutability":"mutable","name":"shareAdjustment","nameLocation":"11809:15:178","nodeType":"VariableDeclaration","scope":133191,"src":"11802:22:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":133169,"name":"int256","nodeType":"ElementaryTypeName","src":"11802:6:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":133172,"mutability":"mutable","name":"bondReserves","nameLocation":"11842:12:178","nodeType":"VariableDeclaration","scope":133191,"src":"11834:20:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133171,"name":"uint256","nodeType":"ElementaryTypeName","src":"11834:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133174,"mutability":"mutable","name":"longsOutstanding","nameLocation":"11872:16:178","nodeType":"VariableDeclaration","scope":133191,"src":"11864:24:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133173,"name":"uint256","nodeType":"ElementaryTypeName","src":"11864:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133176,"mutability":"mutable","name":"longExposure","nameLocation":"11906:12:178","nodeType":"VariableDeclaration","scope":133191,"src":"11898:20:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133175,"name":"uint256","nodeType":"ElementaryTypeName","src":"11898:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133178,"mutability":"mutable","name":"timeStretch","nameLocation":"11936:11:178","nodeType":"VariableDeclaration","scope":133191,"src":"11928:19:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133177,"name":"uint256","nodeType":"ElementaryTypeName","src":"11928:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133180,"mutability":"mutable","name":"sharePrice","nameLocation":"11965:10:178","nodeType":"VariableDeclaration","scope":133191,"src":"11957:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133179,"name":"uint256","nodeType":"ElementaryTypeName","src":"11957:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133182,"mutability":"mutable","name":"initialSharePrice","nameLocation":"11993:17:178","nodeType":"VariableDeclaration","scope":133191,"src":"11985:25:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133181,"name":"uint256","nodeType":"ElementaryTypeName","src":"11985:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133184,"mutability":"mutable","name":"minimumShareReserves","nameLocation":"12028:20:178","nodeType":"VariableDeclaration","scope":133191,"src":"12020:28:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133183,"name":"uint256","nodeType":"ElementaryTypeName","src":"12020:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133186,"mutability":"mutable","name":"curveFee","nameLocation":"12066:8:178","nodeType":"VariableDeclaration","scope":133191,"src":"12058:16:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133185,"name":"uint256","nodeType":"ElementaryTypeName","src":"12058:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133188,"mutability":"mutable","name":"flatFee","nameLocation":"12092:7:178","nodeType":"VariableDeclaration","scope":133191,"src":"12084:15:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133187,"name":"uint256","nodeType":"ElementaryTypeName","src":"12084:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133190,"mutability":"mutable","name":"governanceLPFee","nameLocation":"12117:15:178","nodeType":"VariableDeclaration","scope":133191,"src":"12109:23:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133189,"name":"uint256","nodeType":"ElementaryTypeName","src":"12109:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"MaxTradeParams","nameLocation":"11746:14:178","scope":135637,"visibility":"public"},{"id":133384,"nodeType":"FunctionDefinition","src":"12826:5027:178","nodes":[],"body":{"id":133383,"nodeType":"Block","src":"13034:4819:178","nodes":[],"statements":[{"assignments":[133207],"declarations":[{"constant":false,"id":133207,"mutability":"mutable","name":"effectiveShareReserves","nameLocation":"13193:22:178","nodeType":"VariableDeclaration","scope":133383,"src":"13185:30:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133206,"name":"uint256","nodeType":"ElementaryTypeName","src":"13185:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133215,"initialValue":{"arguments":[{"expression":{"id":133210,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133195,"src":"13295:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133211,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"13303:13:178","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":133168,"src":"13295:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133212,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133195,"src":"13334:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133213,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"13342:15:178","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":133170,"src":"13334:23:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":133208,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12857,"src":"13218:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$12857_$","typeString":"type(library HyperdriveMath)"}},"id":133209,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13246:31:178","memberName":"calculateEffectiveShareReserves","nodeType":"MemberAccess","referencedDeclaration":12409,"src":"13218:59:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$returns$_t_uint256_$","typeString":"function (uint256,int256) pure returns (uint256)"}},"id":133214,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13218:153:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"13185:186:178"},{"assignments":[133217],"declarations":[{"constant":false,"id":133217,"mutability":"mutable","name":"spotPrice","nameLocation":"13389:9:178","nodeType":"VariableDeclaration","scope":133383,"src":"13381:17:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133216,"name":"uint256","nodeType":"ElementaryTypeName","src":"13381:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133228,"initialValue":{"arguments":[{"id":133220,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133207,"src":"13448:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133221,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133195,"src":"13484:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133222,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"13492:12:178","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":133172,"src":"13484:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133223,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133195,"src":"13518:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133224,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"13526:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":133182,"src":"13518:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133225,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133195,"src":"13557:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133226,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"13565:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"13557:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133218,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12857,"src":"13401:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$12857_$","typeString":"type(library HyperdriveMath)"}},"id":133219,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13416:18:178","memberName":"calculateSpotPrice","nodeType":"MemberAccess","referencedDeclaration":12340,"src":"13401:33:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":133227,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13401:185:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"13381:205:178"},{"assignments":[133230],"declarations":[{"constant":false,"id":133230,"mutability":"mutable","name":"absoluteMaxBaseAmount","nameLocation":"13604:21:178","nodeType":"VariableDeclaration","scope":133383,"src":"13596:29:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133229,"name":"uint256","nodeType":"ElementaryTypeName","src":"13596:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133231,"nodeType":"VariableDeclarationStatement","src":"13596:29:178"},{"assignments":[133233],"declarations":[{"constant":false,"id":133233,"mutability":"mutable","name":"absoluteMaxBondAmount","nameLocation":"13643:21:178","nodeType":"VariableDeclaration","scope":133383,"src":"13635:29:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133232,"name":"uint256","nodeType":"ElementaryTypeName","src":"13635:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133234,"nodeType":"VariableDeclarationStatement","src":"13635:29:178"},{"id":133262,"nodeType":"Block","src":"13674:608:178","statements":[{"expression":{"id":133243,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":133235,"name":"absoluteMaxBaseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133230,"src":"13706:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133236,"name":"absoluteMaxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133233,"src":"13745:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":133237,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"13688:92:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":133239,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133195,"src":"13825:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},{"id":133240,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133207,"src":"13850:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133241,"name":"spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133217,"src":"13890:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":133238,"name":"calculateAbsoluteMaxLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133578,"src":"13783:24:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_MaxTradeParams_$133191_memory_ptr_$_t_uint256_$_t_uint256_$returns$_t_uint256_$_t_uint256_$","typeString":"function (struct HyperdriveUtils.MaxTradeParams memory,uint256,uint256) pure returns (uint256,uint256)"}},"id":133242,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13783:130:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"src":"13688:225:178","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":133244,"nodeType":"ExpressionStatement","src":"13688:225:178"},{"assignments":[null,133246],"declarations":[null,{"constant":false,"id":133246,"mutability":"mutable","name":"isSolvent_","nameLocation":"13935:10:178","nodeType":"VariableDeclaration","scope":133262,"src":"13930:15:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":133245,"name":"bool","nodeType":"ElementaryTypeName","src":"13930:4:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":133254,"initialValue":{"arguments":[{"id":133248,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133195,"src":"13993:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},{"id":133249,"name":"_checkpointExposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133197,"src":"14018:19:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":133250,"name":"absoluteMaxBaseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133230,"src":"14055:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133251,"name":"absoluteMaxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133233,"src":"14094:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133252,"name":"spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133217,"src":"14133:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":133247,"name":"calculateSolvencyAfterLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133846,"src":"13949:26:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_MaxTradeParams_$133191_memory_ptr_$_t_int256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$_t_bool_$","typeString":"function (struct HyperdriveUtils.MaxTradeParams memory,int256,uint256,uint256,uint256) pure returns (uint256,bool)"}},"id":133253,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13949:207:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"nodeType":"VariableDeclarationStatement","src":"13927:229:178"},{"condition":{"id":133255,"name":"isSolvent_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133246,"src":"14174:10:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":133261,"nodeType":"IfStatement","src":"14170:102:178","trueBody":{"id":133260,"nodeType":"Block","src":"14186:86:178","statements":[{"expression":{"components":[{"id":133256,"name":"absoluteMaxBaseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133230,"src":"14212:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133257,"name":"absoluteMaxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133233,"src":"14235:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":133258,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"14211:46:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"functionReturnParameters":133205,"id":133259,"nodeType":"Return","src":"14204:53:178"}]}}]},{"expression":{"id":133270,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":133263,"name":"maxBaseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133202,"src":"15161:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":133265,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133195,"src":"15212:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},{"id":133266,"name":"absoluteMaxBaseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133230,"src":"15233:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133267,"name":"_checkpointExposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133197,"src":"15268:19:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":133268,"name":"spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133217,"src":"15301:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":133264,"name":"calculateMaxLongGuess","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133647,"src":"15177:21:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_MaxTradeParams_$133191_memory_ptr_$_t_uint256_$_t_int256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (struct HyperdriveUtils.MaxTradeParams memory,uint256,int256,uint256) pure returns (uint256)"}},"id":133269,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15177:143:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15161:159:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133271,"nodeType":"ExpressionStatement","src":"15161:159:178"},{"expression":{"id":133279,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":133272,"name":"maxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133204,"src":"15330:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":133274,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133195,"src":"15379:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},{"id":133275,"name":"maxBaseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133202,"src":"15400:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133276,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133207,"src":"15427:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133277,"name":"spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133217,"src":"15463:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":133273,"name":"calculateLongAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133955,"src":"15346:19:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_MaxTradeParams_$133191_memory_ptr_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (struct HyperdriveUtils.MaxTradeParams memory,uint256,uint256,uint256) pure returns (uint256)"}},"id":133278,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15346:136:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15330:152:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133280,"nodeType":"ExpressionStatement","src":"15330:152:178"},{"assignments":[133282,133284],"declarations":[{"constant":false,"id":133282,"mutability":"mutable","name":"solvency_","nameLocation":"15501:9:178","nodeType":"VariableDeclaration","scope":133383,"src":"15493:17:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133281,"name":"uint256","nodeType":"ElementaryTypeName","src":"15493:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133284,"mutability":"mutable","name":"success","nameLocation":"15517:7:178","nodeType":"VariableDeclaration","scope":133383,"src":"15512:12:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":133283,"name":"bool","nodeType":"ElementaryTypeName","src":"15512:4:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":133292,"initialValue":{"arguments":[{"id":133286,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133195,"src":"15568:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},{"id":133287,"name":"_checkpointExposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133197,"src":"15589:19:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":133288,"name":"maxBaseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133202,"src":"15622:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133289,"name":"maxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133204,"src":"15649:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133290,"name":"spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133217,"src":"15676:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":133285,"name":"calculateSolvencyAfterLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133846,"src":"15528:26:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_MaxTradeParams_$133191_memory_ptr_$_t_int256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$_t_bool_$","typeString":"function (struct HyperdriveUtils.MaxTradeParams memory,int256,uint256,uint256,uint256) pure returns (uint256,bool)"}},"id":133291,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15528:167:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"nodeType":"VariableDeclarationStatement","src":"15492:203:178"},{"expression":{"arguments":[{"id":133294,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133284,"src":"15713:7:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e697469616c20677565737320696e206063616c63756c6174654d61784c6f6e676020697320696e736f6c76656e742e","id":133295,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"15722:51:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_4e6d63cecf3a70a5745c0f55ea1d84484c3dcb5e4cec0df8dd19ed87d5edc294","typeString":"literal_string \"Initial guess in `calculateMaxLong` is insolvent.\""},"value":"Initial guess in `calculateMaxLong` is insolvent."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_4e6d63cecf3a70a5745c0f55ea1d84484c3dcb5e4cec0df8dd19ed87d5edc294","typeString":"literal_string \"Initial guess in `calculateMaxLong` is insolvent.\""}],"id":133293,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"15705:7:178","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":133296,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15705:69:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":133297,"nodeType":"ExpressionStatement","src":"15705:69:178"},{"body":{"id":133377,"nodeType":"Block","src":"15829:1970:178","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133311,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133309,"name":"maxBaseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133202,"src":"16053:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":133310,"name":"absoluteMaxBaseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133230,"src":"16069:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16053:37:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"52656163686564206162736f6c757465206d617820626f6e6420616d6f756e7420696e20606765745f6d61785f6c6f6e67602e","id":133312,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"16108:53:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_f73cbb65781b5d25c319ac55965af78a368c7603f407050cca4d559a6b41dbaf","typeString":"literal_string \"Reached absolute max bond amount in `get_max_long`.\""},"value":"Reached absolute max bond amount in `get_max_long`."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_f73cbb65781b5d25c319ac55965af78a368c7603f407050cca4d559a6b41dbaf","typeString":"literal_string \"Reached absolute max bond amount in `get_max_long`.\""}],"id":133308,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"16028:7:178","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":133313,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16028:147:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":133314,"nodeType":"ExpressionStatement","src":"16028:147:178"},{"assignments":[133316],"declarations":[{"constant":false,"id":133316,"mutability":"mutable","name":"derivative","nameLocation":"16746:10:178","nodeType":"VariableDeclaration","scope":133377,"src":"16738:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133315,"name":"uint256","nodeType":"ElementaryTypeName","src":"16738:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133317,"nodeType":"VariableDeclarationStatement","src":"16738:18:178"},{"expression":{"id":133327,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":133318,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133316,"src":"16771:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133319,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133284,"src":"16783:7:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":133320,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"16770:21:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":133322,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133195,"src":"16848:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},{"id":133323,"name":"maxBaseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133202,"src":"16873:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133324,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133207,"src":"16904:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133325,"name":"spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133217,"src":"16944:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":133321,"name":"calculateSolvencyAfterLongDerivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133910,"src":"16794:36:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_MaxTradeParams_$133191_memory_ptr_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$_t_bool_$","typeString":"function (struct HyperdriveUtils.MaxTradeParams memory,uint256,uint256,uint256) pure returns (uint256,bool)"}},"id":133326,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16794:173:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"src":"16770:197:178","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":133328,"nodeType":"ExpressionStatement","src":"16770:197:178"},{"condition":{"id":133330,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"16985:8:178","subExpression":{"id":133329,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133284,"src":"16986:7:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":133333,"nodeType":"IfStatement","src":"16981:52:178","trueBody":{"id":133332,"nodeType":"Block","src":"16995:38:178","statements":[{"id":133331,"nodeType":"Break","src":"17013:5:178"}]}},{"assignments":[133335],"declarations":[{"constant":false,"id":133335,"mutability":"mutable","name":"possibleMaxBaseAmount","nameLocation":"17054:21:178","nodeType":"VariableDeclaration","scope":133377,"src":"17046:29:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133334,"name":"uint256","nodeType":"ElementaryTypeName","src":"17046:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133342,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133341,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133336,"name":"maxBaseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133202,"src":"17078:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"id":133339,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133316,"src":"17128:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133337,"name":"solvency_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133282,"src":"17110:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133338,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"17120:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"17110:17:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133340,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17110:29:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"17078:61:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"17046:93:178"},{"assignments":[133344],"declarations":[{"constant":false,"id":133344,"mutability":"mutable","name":"possibleMaxBondAmount","nameLocation":"17161:21:178","nodeType":"VariableDeclaration","scope":133377,"src":"17153:29:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133343,"name":"uint256","nodeType":"ElementaryTypeName","src":"17153:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133351,"initialValue":{"arguments":[{"id":133346,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133195,"src":"17222:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},{"id":133347,"name":"possibleMaxBaseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133335,"src":"17247:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133348,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133207,"src":"17286:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133349,"name":"spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133217,"src":"17326:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":133345,"name":"calculateLongAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133955,"src":"17185:19:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_MaxTradeParams_$133191_memory_ptr_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (struct HyperdriveUtils.MaxTradeParams memory,uint256,uint256,uint256) pure returns (uint256)"}},"id":133350,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17185:164:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"17153:196:178"},{"expression":{"id":133362,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":133352,"name":"solvency_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133282,"src":"17364:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133353,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133284,"src":"17375:7:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":133354,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"17363:20:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":133356,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133195,"src":"17430:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},{"id":133357,"name":"_checkpointExposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133197,"src":"17455:19:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":133358,"name":"possibleMaxBaseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133335,"src":"17492:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133359,"name":"possibleMaxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133344,"src":"17531:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133360,"name":"spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133217,"src":"17570:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":133355,"name":"calculateSolvencyAfterLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133846,"src":"17386:26:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_MaxTradeParams_$133191_memory_ptr_$_t_int256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$_t_bool_$","typeString":"function (struct HyperdriveUtils.MaxTradeParams memory,int256,uint256,uint256,uint256) pure returns (uint256,bool)"}},"id":133361,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"17386:207:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"src":"17363:230:178","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":133363,"nodeType":"ExpressionStatement","src":"17363:230:178"},{"condition":{"id":133364,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133284,"src":"17611:7:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":133375,"nodeType":"Block","src":"17751:38:178","statements":[{"id":133374,"nodeType":"Break","src":"17769:5:178"}]},"id":133376,"nodeType":"IfStatement","src":"17607:182:178","trueBody":{"id":133373,"nodeType":"Block","src":"17620:125:178","statements":[{"expression":{"id":133367,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":133365,"name":"maxBaseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133202,"src":"17638:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":133366,"name":"possibleMaxBaseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133335,"src":"17654:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"17638:37:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133368,"nodeType":"ExpressionStatement","src":"17638:37:178"},{"expression":{"id":133371,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":133369,"name":"maxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133204,"src":"17693:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":133370,"name":"possibleMaxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133344,"src":"17709:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"17693:37:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133372,"nodeType":"ExpressionStatement","src":"17693:37:178"}]}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133304,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133302,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133299,"src":"15804:1:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":133303,"name":"_maxIterations","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133199,"src":"15808:14:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15804:18:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":133378,"initializationExpression":{"assignments":[133299],"declarations":[{"constant":false,"id":133299,"mutability":"mutable","name":"i","nameLocation":"15797:1:178","nodeType":"VariableDeclaration","scope":133378,"src":"15789:9:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133298,"name":"uint256","nodeType":"ElementaryTypeName","src":"15789:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133301,"initialValue":{"hexValue":"30","id":133300,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15801:1:178","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"15789:13:178"},"loopExpression":{"expression":{"id":133306,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"15824:3:178","subExpression":{"id":133305,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133299,"src":"15826:1:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133307,"nodeType":"ExpressionStatement","src":"15824:3:178"},"nodeType":"ForStatement","src":"15784:2015:178"},{"expression":{"components":[{"id":133379,"name":"maxBaseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133202,"src":"17817:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133380,"name":"maxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133204,"src":"17832:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":133381,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"17816:30:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"functionReturnParameters":133205,"id":133382,"nodeType":"Return","src":"17809:37:178"}]},"documentation":{"id":133192,"nodeType":"StructuredDocumentation","src":"12145:676:178","text":"@dev Gets the max long that can be opened given a budget.\n      We start by calculating the long that brings the pool's spot price\n      to 1. If we are solvent at this point, then we're done. Otherwise,\n      we approach the max long iteratively using Newton's method.\n @param _params The parameters for the max long calculation.\n @param _checkpointExposure The exposure in the checkpoint.\n @param _maxIterations The maximum number of iterations to use in the\n                       Newton's method loop.\n @return maxBaseAmount The maximum base amount.\n @return maxBondAmount The maximum bond amount."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateMaxLong","nameLocation":"12835:16:178","parameters":{"id":133200,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133195,"mutability":"mutable","name":"_params","nameLocation":"12883:7:178","nodeType":"VariableDeclaration","scope":133384,"src":"12861:29:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"},"typeName":{"id":133194,"nodeType":"UserDefinedTypeName","pathNode":{"id":133193,"name":"MaxTradeParams","nameLocations":["12861:14:178"],"nodeType":"IdentifierPath","referencedDeclaration":133191,"src":"12861:14:178"},"referencedDeclaration":133191,"src":"12861:14:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_storage_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"}},"visibility":"internal"},{"constant":false,"id":133197,"mutability":"mutable","name":"_checkpointExposure","nameLocation":"12907:19:178","nodeType":"VariableDeclaration","scope":133384,"src":"12900:26:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":133196,"name":"int256","nodeType":"ElementaryTypeName","src":"12900:6:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":133199,"mutability":"mutable","name":"_maxIterations","nameLocation":"12944:14:178","nodeType":"VariableDeclaration","scope":133384,"src":"12936:22:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133198,"name":"uint256","nodeType":"ElementaryTypeName","src":"12936:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"12851:113:178"},"returnParameters":{"id":133205,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133202,"mutability":"mutable","name":"maxBaseAmount","nameLocation":"12996:13:178","nodeType":"VariableDeclaration","scope":133384,"src":"12988:21:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133201,"name":"uint256","nodeType":"ElementaryTypeName","src":"12988:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133204,"mutability":"mutable","name":"maxBondAmount","nameLocation":"13019:13:178","nodeType":"VariableDeclaration","scope":133384,"src":"13011:21:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133203,"name":"uint256","nodeType":"ElementaryTypeName","src":"13011:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"12987:46:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":133578,"nodeType":"FunctionDefinition","src":"18455:3641:178","nodes":[],"body":{"id":133577,"nodeType":"Block","src":"18716:3380:178","nodes":[],"statements":[{"assignments":[133400],"declarations":[{"constant":false,"id":133400,"mutability":"mutable","name":"inner","nameLocation":"19884:5:178","nodeType":"VariableDeclaration","scope":133577,"src":"19876:13:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133399,"name":"uint256","nodeType":"ElementaryTypeName","src":"19876:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133401,"nodeType":"VariableDeclarationStatement","src":"19876:13:178"},{"id":133495,"nodeType":"Block","src":"19899:772:178","statements":[{"assignments":[133403],"declarations":[{"constant":false,"id":133403,"mutability":"mutable","name":"k_","nameLocation":"19921:2:178","nodeType":"VariableDeclaration","scope":133495,"src":"19913:10:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133402,"name":"uint256","nodeType":"ElementaryTypeName","src":"19913:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133418,"initialValue":{"arguments":[{"id":133406,"name":"_effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133390,"src":"19964:23:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133407,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133388,"src":"20005:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133408,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"20013:12:178","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":133172,"src":"20005:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133412,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133409,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"20043:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":133410,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133388,"src":"20049:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133411,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"20057:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"20049:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20043:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133413,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133388,"src":"20086:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133414,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"20094:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"20086:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133415,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133388,"src":"20122:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133416,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"20130:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":133182,"src":"20122:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133404,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16293,"src":"19926:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_YieldSpaceMath_$16293_$","typeString":"type(library YieldSpaceMath)"}},"id":133405,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"19941:5:178","memberName":"kDown","nodeType":"MemberAccess","referencedDeclaration":16292,"src":"19926:20:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":133417,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19926:235:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"19913:248:178"},{"expression":{"id":133436,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":133419,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133400,"src":"20175:5:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133434,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133431,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"20258:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":133432,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133388,"src":"20264:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133433,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"20272:7:178","memberName":"flatFee","nodeType":"MemberAccess","referencedDeclaration":133188,"src":"20264:15:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20258:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133428,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":133425,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133392,"src":"20216:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133423,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"20206:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133424,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"20210:5:178","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":11627,"src":"20206:9:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133426,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20206:21:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":133427,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"20230:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20206:27:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":133420,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133388,"src":"20183:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133421,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"20191:8:178","memberName":"curveFee","nodeType":"MemberAccess","referencedDeclaration":133186,"src":"20183:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133422,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"20200:5:178","memberName":"mulUp","nodeType":"MemberAccess","referencedDeclaration":11609,"src":"20183:22:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133429,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20183:51:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133430,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"20235:5:178","memberName":"mulUp","nodeType":"MemberAccess","referencedDeclaration":11609,"src":"20183:57:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133435,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20183:110:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20175:118:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133437,"nodeType":"ExpressionStatement","src":"20175:118:178"},{"expression":{"id":133449,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":133438,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133400,"src":"20307:5:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133447,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133444,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"20335:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":133445,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133388,"src":"20341:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133446,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"20349:7:178","memberName":"flatFee","nodeType":"MemberAccess","referencedDeclaration":133188,"src":"20341:15:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20335:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133441,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133439,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"20316:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":133440,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133400,"src":"20322:5:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20316:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":133442,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"20315:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133443,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"20329:5:178","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":11627,"src":"20315:19:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133448,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20315:42:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20307:50:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133450,"nodeType":"ExpressionStatement","src":"20307:50:178"},{"expression":{"id":133464,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":133451,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133400,"src":"20371:5:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"expression":{"id":133460,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133388,"src":"20442:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133461,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"20450:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"20442:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133457,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133454,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"20407:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":133455,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133388,"src":"20413:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133456,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"20421:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"20413:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20407:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":133458,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"20406:27:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133459,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"20434:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"20406:35:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133462,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20406:56:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133452,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133400,"src":"20379:5:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133453,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"20385:3:178","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":11686,"src":"20379:9:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133463,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20379:97:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20371:105:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133465,"nodeType":"ExpressionStatement","src":"20371:105:178"},{"expression":{"id":133473,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":133466,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133400,"src":"20490:5:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"arguments":[{"expression":{"id":133470,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133388,"src":"20524:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133471,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"20532:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":133182,"src":"20524:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":133467,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133388,"src":"20499:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133468,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"20507:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"20499:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133469,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"20518:5:178","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":11627,"src":"20499:24:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133472,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20499:51:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20490:60:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133474,"nodeType":"ExpressionStatement","src":"20490:60:178"},{"expression":{"id":133480,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":133475,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133400,"src":"20564:5:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":133478,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133400,"src":"20583:5:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133476,"name":"k_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133403,"src":"20572:2:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133477,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"20575:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"20572:10:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133479,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20572:17:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20564:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133481,"nodeType":"ExpressionStatement","src":"20564:25:178"},{"expression":{"id":133493,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":133482,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133400,"src":"20603:5:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133490,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133487,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"20633:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":133488,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133388,"src":"20639:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133489,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"20647:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"20639:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20633:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133485,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"20621:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133486,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"20625:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"20621:11:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133491,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20621:38:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133483,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133400,"src":"20611:5:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133484,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"20617:3:178","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":11686,"src":"20611:9:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133492,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20611:49:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20603:57:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133494,"nodeType":"ExpressionStatement","src":"20603:57:178"}]},{"assignments":[133497],"declarations":[{"constant":false,"id":133497,"mutability":"mutable","name":"targetShareReserves","nameLocation":"20688:19:178","nodeType":"VariableDeclaration","scope":133577,"src":"20680:27:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133496,"name":"uint256","nodeType":"ElementaryTypeName","src":"20680:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133503,"initialValue":{"arguments":[{"expression":{"id":133500,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133388,"src":"20724:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133501,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"20732:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":133182,"src":"20724:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133498,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133400,"src":"20710:5:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133499,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"20716:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"20710:13:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133502,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20710:40:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"20680:70:178"},{"assignments":[133505],"declarations":[{"constant":false,"id":133505,"mutability":"mutable","name":"targetBondReserves","nameLocation":"21113:18:178","nodeType":"VariableDeclaration","scope":133577,"src":"21105:26:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133504,"name":"uint256","nodeType":"ElementaryTypeName","src":"21105:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133506,"nodeType":"VariableDeclarationStatement","src":"21105:26:178"},{"id":133550,"nodeType":"Block","src":"21141:356:178","statements":[{"assignments":[133508],"declarations":[{"constant":false,"id":133508,"mutability":"mutable","name":"feeAdjustment","nameLocation":"21163:13:178","nodeType":"VariableDeclaration","scope":133550,"src":"21155:21:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133507,"name":"uint256","nodeType":"ElementaryTypeName","src":"21155:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133525,"initialValue":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133523,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133520,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"21294:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":133521,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133388,"src":"21300:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133522,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"21308:7:178","memberName":"flatFee","nodeType":"MemberAccess","referencedDeclaration":133188,"src":"21300:15:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"21294:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133517,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":133514,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133392,"src":"21250:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133512,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"21238:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133513,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"21242:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"21238:11:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133515,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"21238:23:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":133516,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"21264:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"21238:29:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":133509,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133388,"src":"21179:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133510,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"21204:8:178","memberName":"curveFee","nodeType":"MemberAccess","referencedDeclaration":133186,"src":"21179:33:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133511,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"21230:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"21179:58:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133518,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"21179:89:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133519,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"21286:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"21179:114:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133524,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"21179:137:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"21155:161:178"},{"expression":{"id":133548,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":133526,"name":"targetBondReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133505,"src":"21330:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":133546,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133400,"src":"21480:5:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"arguments":[{"expression":{"id":133541,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133388,"src":"21450:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133542,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"21458:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"21450:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133539,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"21440:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133540,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"21444:5:178","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":11627,"src":"21440:9:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133543,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"21440:30:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133535,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133532,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"21399:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":133533,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133388,"src":"21405:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133534,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"21413:7:178","memberName":"flatFee","nodeType":"MemberAccess","referencedDeclaration":133188,"src":"21405:15:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"21399:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133529,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133527,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"21370:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":133528,"name":"feeAdjustment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133508,"src":"21376:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"21370:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":133530,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"21369:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133531,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"21391:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"21369:29:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133536,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"21369:52:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":133537,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"21351:84:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133538,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"21436:3:178","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":11686,"src":"21351:88:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133544,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"21351:120:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133545,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"21472:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"21351:128:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133547,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"21351:135:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"21330:156:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133549,"nodeType":"ExpressionStatement","src":"21330:156:178"}]},{"expression":{"id":133560,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":133551,"name":"absoluteMaxBaseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133395,"src":"21620:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":133557,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133388,"src":"21713:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133558,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"21721:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"21713:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133554,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133552,"name":"targetShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133497,"src":"21645:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":133553,"name":"_effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133390,"src":"21667:23:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"21645:45:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":133555,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"21644:47:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133556,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"21705:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"21644:68:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133559,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"21644:88:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"21620:112:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133561,"nodeType":"ExpressionStatement","src":"21620:112:178"},{"expression":{"id":133575,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":133562,"name":"absoluteMaxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133397,"src":"21859:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133574,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133566,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":133563,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133388,"src":"21896:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133564,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"21904:12:178","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":133172,"src":"21896:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":133565,"name":"targetBondReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133505,"src":"21919:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"21896:41:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":133567,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"21895:43:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"id":133569,"name":"absoluteMaxBaseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133395,"src":"21992:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133570,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133392,"src":"22031:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133571,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133388,"src":"22059:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133572,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"22067:8:178","memberName":"curveFee","nodeType":"MemberAccess","referencedDeclaration":133186,"src":"22059:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":133568,"name":"calculateLongCurveFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134105,"src":"21953:21:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":133573,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"21953:136:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"21895:194:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"21859:230:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133576,"nodeType":"ExpressionStatement","src":"21859:230:178"}]},"documentation":{"id":133385,"nodeType":"StructuredDocumentation","src":"17859:591:178","text":"@dev Calculates the largest long that can be opened without buying bonds\n      at a negative interest rate. This calculation does not take\n      Hyperdrive's solvency constraints into account and shouldn't be\n      used directly.\n @param _params The parameters for the max long calculation.\n @param _effectiveShareReserves The pool's effective share reserves.\n @param _spotPrice The pool's spot price.\n @return absoluteMaxBaseAmount The absolute maximum base amount.\n @return absoluteMaxBondAmount The absolute maximum bond amount."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateAbsoluteMaxLong","nameLocation":"18464:24:178","parameters":{"id":133393,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133388,"mutability":"mutable","name":"_params","nameLocation":"18520:7:178","nodeType":"VariableDeclaration","scope":133578,"src":"18498:29:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"},"typeName":{"id":133387,"nodeType":"UserDefinedTypeName","pathNode":{"id":133386,"name":"MaxTradeParams","nameLocations":["18498:14:178"],"nodeType":"IdentifierPath","referencedDeclaration":133191,"src":"18498:14:178"},"referencedDeclaration":133191,"src":"18498:14:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_storage_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"}},"visibility":"internal"},{"constant":false,"id":133390,"mutability":"mutable","name":"_effectiveShareReserves","nameLocation":"18545:23:178","nodeType":"VariableDeclaration","scope":133578,"src":"18537:31:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133389,"name":"uint256","nodeType":"ElementaryTypeName","src":"18537:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133392,"mutability":"mutable","name":"_spotPrice","nameLocation":"18586:10:178","nodeType":"VariableDeclaration","scope":133578,"src":"18578:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133391,"name":"uint256","nodeType":"ElementaryTypeName","src":"18578:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"18488:114:178"},"returnParameters":{"id":133398,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133395,"mutability":"mutable","name":"absoluteMaxBaseAmount","nameLocation":"18658:21:178","nodeType":"VariableDeclaration","scope":133578,"src":"18650:29:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133394,"name":"uint256","nodeType":"ElementaryTypeName","src":"18650:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133397,"mutability":"mutable","name":"absoluteMaxBondAmount","nameLocation":"18689:21:178","nodeType":"VariableDeclaration","scope":133578,"src":"18681:29:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133396,"name":"uint256","nodeType":"ElementaryTypeName","src":"18681:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"18649:62:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":133647,"nodeType":"FunctionDefinition","src":"22746:1484:178","nodes":[],"body":{"id":133646,"nodeType":"Block","src":"22958:1272:178","nodes":[],"statements":[{"assignments":[133594],"declarations":[{"constant":false,"id":133594,"mutability":"mutable","name":"guess","nameLocation":"23089:5:178","nodeType":"VariableDeclaration","scope":133646,"src":"23081:13:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133593,"name":"uint256","nodeType":"ElementaryTypeName","src":"23081:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133601,"initialValue":{"arguments":[{"id":133596,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133582,"src":"23135:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},{"id":133597,"name":"_checkpointExposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133586,"src":"23156:19:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":133598,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133588,"src":"23189:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133599,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133588,"src":"23213:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":133595,"name":"calculateMaxLongEstimate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133738,"src":"23097:24:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_MaxTradeParams_$133191_memory_ptr_$_t_int256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (struct HyperdriveUtils.MaxTradeParams memory,int256,uint256,uint256) pure returns (uint256)"}},"id":133600,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"23097:136:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"23081:152:178"},{"assignments":[133603],"declarations":[{"constant":false,"id":133603,"mutability":"mutable","name":"t","nameLocation":"23685:1:178","nodeType":"VariableDeclaration","scope":133646,"src":"23677:9:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133602,"name":"uint256","nodeType":"ElementaryTypeName","src":"23677:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133620,"initialValue":{"arguments":[{"hexValue":"302e38653138","id":133618,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"23816:6:178","typeDescriptions":{"typeIdentifier":"t_rational_800000000000000000_by_1","typeString":"int_const 800000000000000000"},"value":"0.8e18"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_800000000000000000_by_1","typeString":"int_const 800000000000000000"}],"expression":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133614,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133611,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"23767:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":133612,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133582,"src":"23773:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133613,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"23781:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"23773:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"23767:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133609,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"23757:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133610,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"23761:5:178","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":11627,"src":"23757:9:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133615,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"23757:36:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":133606,"name":"_absoluteMaxBaseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133584,"src":"23716:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133604,"name":"guess","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133594,"src":"23689:5:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133605,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"23708:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"23689:26:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133607,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"23689:50:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133608,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"23753:3:178","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":11686,"src":"23689:67:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133616,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"23689:105:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133617,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"23808:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"23689:126:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133619,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"23689:134:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"23677:146:178"},{"assignments":[133622],"declarations":[{"constant":false,"id":133622,"mutability":"mutable","name":"estimateSpotPrice","nameLocation":"23841:17:178","nodeType":"VariableDeclaration","scope":133646,"src":"23833:25:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133621,"name":"uint256","nodeType":"ElementaryTypeName","src":"23833:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133634,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133633,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133627,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133625,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"23880:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":133626,"name":"t","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133603,"src":"23886:1:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"23880:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133623,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133588,"src":"23861:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133624,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"23872:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"23861:18:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133628,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"23861:27:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"id":133631,"name":"t","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133603,"src":"23915:1:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133629,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"23903:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133630,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"23907:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"23903:11:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133632,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"23903:14:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"23861:56:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"23833:84:178"},{"expression":{"id":133642,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":133635,"name":"guess","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133594,"src":"24049:5:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":133637,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133582,"src":"24095:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},{"id":133638,"name":"_checkpointExposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133586,"src":"24116:19:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":133639,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133588,"src":"24149:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133640,"name":"estimateSpotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133622,"src":"24173:17:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":133636,"name":"calculateMaxLongEstimate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133738,"src":"24057:24:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_MaxTradeParams_$133191_memory_ptr_$_t_int256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (struct HyperdriveUtils.MaxTradeParams memory,int256,uint256,uint256) pure returns (uint256)"}},"id":133641,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"24057:143:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"24049:151:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133643,"nodeType":"ExpressionStatement","src":"24049:151:178"},{"expression":{"id":133644,"name":"guess","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133594,"src":"24218:5:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":133592,"id":133645,"nodeType":"Return","src":"24211:12:178"}]},"documentation":{"id":133579,"nodeType":"StructuredDocumentation","src":"22102:639:178","text":"@dev Calculates an initial guess of the max long that can be opened.\n      This is a reasonable estimate that is guaranteed to be less than\n      the true max long. We use this to get a reasonable starting point\n      for Newton's method.\n @param _params The max long calculation parameters.\n @param _absoluteMaxBaseAmount The absolute max base amount that can be\n        used to open a long.\n @param _checkpointExposure The exposure in the checkpoint.\n @param _spotPrice The spot price of the pool.\n @return A conservative estimate of the max long that the pool can open."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateMaxLongGuess","nameLocation":"22755:21:178","parameters":{"id":133589,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133582,"mutability":"mutable","name":"_params","nameLocation":"22808:7:178","nodeType":"VariableDeclaration","scope":133647,"src":"22786:29:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"},"typeName":{"id":133581,"nodeType":"UserDefinedTypeName","pathNode":{"id":133580,"name":"MaxTradeParams","nameLocations":["22786:14:178"],"nodeType":"IdentifierPath","referencedDeclaration":133191,"src":"22786:14:178"},"referencedDeclaration":133191,"src":"22786:14:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_storage_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"}},"visibility":"internal"},{"constant":false,"id":133584,"mutability":"mutable","name":"_absoluteMaxBaseAmount","nameLocation":"22833:22:178","nodeType":"VariableDeclaration","scope":133647,"src":"22825:30:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133583,"name":"uint256","nodeType":"ElementaryTypeName","src":"22825:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133586,"mutability":"mutable","name":"_checkpointExposure","nameLocation":"22872:19:178","nodeType":"VariableDeclaration","scope":133647,"src":"22865:26:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":133585,"name":"int256","nodeType":"ElementaryTypeName","src":"22865:6:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":133588,"mutability":"mutable","name":"_spotPrice","nameLocation":"22909:10:178","nodeType":"VariableDeclaration","scope":133647,"src":"22901:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133587,"name":"uint256","nodeType":"ElementaryTypeName","src":"22901:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"22776:149:178"},"returnParameters":{"id":133592,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133591,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":133647,"src":"22949:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133590,"name":"uint256","nodeType":"ElementaryTypeName","src":"22949:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"22948:9:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":133738,"nodeType":"FunctionDefinition","src":"26164:886:178","nodes":[],"body":{"id":133737,"nodeType":"Block","src":"26371:679:178","nodes":[],"statements":[{"assignments":[133663],"declarations":[{"constant":false,"id":133663,"mutability":"mutable","name":"checkpointExposure","nameLocation":"26389:18:178","nodeType":"VariableDeclaration","scope":133737,"src":"26381:26:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133662,"name":"uint256","nodeType":"ElementaryTypeName","src":"26381:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133672,"initialValue":{"arguments":[{"id":133670,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"26418:27:178","subExpression":{"arguments":[{"hexValue":"30","id":133668,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"26443:1:178","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"expression":{"id":133666,"name":"_checkpointExposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133653,"src":"26419:19:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":133667,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"26439:3:178","memberName":"min","nodeType":"MemberAccess","referencedDeclaration":12274,"src":"26419:23:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$attached_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":133669,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26419:26:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":133665,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"26410:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":133664,"name":"uint256","nodeType":"ElementaryTypeName","src":"26410:7:178","typeDescriptions":{}}},"id":133671,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26410:36:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"26381:65:178"},{"assignments":[133674],"declarations":[{"constant":false,"id":133674,"mutability":"mutable","name":"estimate","nameLocation":"26464:8:178","nodeType":"VariableDeclaration","scope":133737,"src":"26456:16:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133673,"name":"uint256","nodeType":"ElementaryTypeName","src":"26456:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133699,"initialValue":{"arguments":[{"expression":{"id":133695,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133651,"src":"26677:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133696,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26685:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"26677:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"32653138","id":133697,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"26697:4:178","typeDescriptions":{"typeIdentifier":"t_rational_2000000000000000000_by_1","typeString":"int_const 2000000000000000000"},"value":"2e18"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_2000000000000000000_by_1","typeString":"int_const 2000000000000000000"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133692,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133689,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133682,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":133675,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133651,"src":"26476:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133676,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26484:13:178","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":133168,"src":"26476:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"expression":{"id":133679,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133651,"src":"26539:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133680,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26547:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"26539:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133677,"name":"checkpointExposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133663,"src":"26512:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133678,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"26531:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"26512:26:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133681,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26512:46:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"26476:82:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"expression":{"id":133686,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133651,"src":"26602:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133687,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26610:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"26602:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":133683,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133651,"src":"26573:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133684,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26581:12:178","memberName":"longExposure","nodeType":"MemberAccess","referencedDeclaration":133176,"src":"26573:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133685,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"26594:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"26573:28:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133688,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26573:48:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"26476:145:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":133690,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133651,"src":"26636:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133691,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26644:20:178","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":133184,"src":"26636:28:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"26476:188:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":133693,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"26475:190:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133694,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"26666:10:178","memberName":"mulDivDown","nodeType":"MemberAccess","referencedDeclaration":11541,"src":"26475:201:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":133698,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26475:227:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"26456:246:178"},{"expression":{"id":133733,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":133700,"name":"estimate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133674,"src":"26712:8:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133731,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133720,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133718,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":133705,"name":"_estimatePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133657,"src":"26765:14:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133703,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"26753:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133704,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"26757:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"26753:11:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133706,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26753:27:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133716,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133714,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"26878:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":133715,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133655,"src":"26884:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"26878:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"expression":{"id":133710,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133651,"src":"26831:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133711,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26839:8:178","memberName":"curveFee","nodeType":"MemberAccess","referencedDeclaration":133186,"src":"26831:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":133707,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133651,"src":"26799:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133708,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26807:15:178","memberName":"governanceLPFee","nodeType":"MemberAccess","referencedDeclaration":133190,"src":"26799:23:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133709,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"26823:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"26799:31:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133712,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26799:49:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133713,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"26849:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"26799:57:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133717,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26799:113:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"26753:159:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":133719,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"26931:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"26753:181:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133729,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":133726,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133655,"src":"26990:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133724,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"26978:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133725,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"26982:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"26978:11:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133727,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26978:23:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":133728,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"27004:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"26978:29:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":133721,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133651,"src":"26953:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133722,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26961:8:178","memberName":"curveFee","nodeType":"MemberAccess","referencedDeclaration":133186,"src":"26953:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133723,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"26970:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"26953:24:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133730,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26953:55:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"26753:255:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133701,"name":"estimate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133674,"src":"26723:8:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133702,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"26732:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"26723:16:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133732,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26723:295:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"26712:306:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133734,"nodeType":"ExpressionStatement","src":"26712:306:178"},{"expression":{"id":133735,"name":"estimate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133674,"src":"27035:8:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":133661,"id":133736,"nodeType":"Return","src":"27028:15:178"}]},"documentation":{"id":133648,"nodeType":"StructuredDocumentation","src":"24236:1923:178","text":"@dev Estimates the max long based on the pool's current solvency and a\n      conservative price estimate, $p_r$.\n      We can use our estimate price $p_r$ to approximate $y(x)$ as\n      $y(x) \\approx p_r^{-1} \\cdot x - c(x)$. Plugging this into our\n      solvency function $s(x)$, we can calculate the share reserves and\n      exposure after opening a long with $x$ base as:\n      \\begin{aligned}\n      z(x) &= z_0 + \\tfrac{x - g(x)}{c} - z_{min} \\\\\n      e(x) &= e_0 + min(exposure_{c}, 0) + 2 \\cdot y(x) - x + g(x) \\\\\n           &= e_0 + min(exposure_{c}, 0) + 2 \\cdot p_r^{-1} \\cdot x -\n                  2 \\cdot c(x) - x + g(x)\n      \\end{aligned}\n      We debit and negative checkpoint exposure from $e_0$ since the\n      global exposure doesn't take into account the negative exposure\n      from non-netted shorts in the checkpoint. These formulas allow us\n      to calculate the approximate ending solvency of:\n      $$\n      s(x) \\approx z(x) - \\tfrac{e(x)}{c} - z_{min}\n      $$\n      If we let the initial solvency be given by $s_0$, we can solve for\n      $x$ as:\n      $$\n      x = \\frac{c}{2} \\cdot \\frac{s_0 + min(exposure_{c}, 0)}{\n              p_r^{-1} +\n              \\phi_{g} \\cdot \\phi_{c} \\cdot \\left( 1 - p \\right) -\n              1 -\n              \\phi_{c} \\cdot \\left( p^{-1} - 1 \\right)\n          }\n      $$\n @param _params The max long calculation parameters.\n @param _checkpointExposure The exposure in the checkpoint.\n @param _spotPrice The spot price of the pool.\n @param _estimatePrice The estimated realized price the max long will pay.\n @return A conservative estimate of the max long that the pool can open."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateMaxLongEstimate","nameLocation":"26173:24:178","parameters":{"id":133658,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133651,"mutability":"mutable","name":"_params","nameLocation":"26229:7:178","nodeType":"VariableDeclaration","scope":133738,"src":"26207:29:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"},"typeName":{"id":133650,"nodeType":"UserDefinedTypeName","pathNode":{"id":133649,"name":"MaxTradeParams","nameLocations":["26207:14:178"],"nodeType":"IdentifierPath","referencedDeclaration":133191,"src":"26207:14:178"},"referencedDeclaration":133191,"src":"26207:14:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_storage_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"}},"visibility":"internal"},{"constant":false,"id":133653,"mutability":"mutable","name":"_checkpointExposure","nameLocation":"26253:19:178","nodeType":"VariableDeclaration","scope":133738,"src":"26246:26:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":133652,"name":"int256","nodeType":"ElementaryTypeName","src":"26246:6:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":133655,"mutability":"mutable","name":"_spotPrice","nameLocation":"26290:10:178","nodeType":"VariableDeclaration","scope":133738,"src":"26282:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133654,"name":"uint256","nodeType":"ElementaryTypeName","src":"26282:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133657,"mutability":"mutable","name":"_estimatePrice","nameLocation":"26318:14:178","nodeType":"VariableDeclaration","scope":133738,"src":"26310:22:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133656,"name":"uint256","nodeType":"ElementaryTypeName","src":"26310:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"26197:141:178"},"returnParameters":{"id":133661,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133660,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":133738,"src":"26362:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133659,"name":"uint256","nodeType":"ElementaryTypeName","src":"26362:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"26361:9:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":133846,"nodeType":"FunctionDefinition","src":"28926:1245:178","nodes":[],"body":{"id":133845,"nodeType":"Block","src":"29167:1004:178","nodes":[],"statements":[{"assignments":[133758],"declarations":[{"constant":false,"id":133758,"mutability":"mutable","name":"governanceFee","nameLocation":"29185:13:178","nodeType":"VariableDeclaration","scope":133845,"src":"29177:21:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133757,"name":"uint256","nodeType":"ElementaryTypeName","src":"29177:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133767,"initialValue":{"arguments":[{"id":133760,"name":"_baseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133746,"src":"29241:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133761,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133750,"src":"29266:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133762,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133742,"src":"29290:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133763,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"29298:8:178","memberName":"curveFee","nodeType":"MemberAccess","referencedDeclaration":133186,"src":"29290:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133764,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133742,"src":"29320:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133765,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"29328:15:178","memberName":"governanceLPFee","nodeType":"MemberAccess","referencedDeclaration":133190,"src":"29320:23:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":133759,"name":"calculateLongGovernanceFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134132,"src":"29201:26:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":133766,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"29201:152:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"29177:176:178"},{"assignments":[133769],"declarations":[{"constant":false,"id":133769,"mutability":"mutable","name":"shareReserves","nameLocation":"29371:13:178","nodeType":"VariableDeclaration","scope":133845,"src":"29363:21:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133768,"name":"uint256","nodeType":"ElementaryTypeName","src":"29363:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133784,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133783,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133777,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":133770,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133742,"src":"29387:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133771,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"29395:13:178","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":133168,"src":"29387:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"expression":{"id":133774,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133742,"src":"29443:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133775,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"29451:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"29443:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133772,"name":"_baseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133746,"src":"29423:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133773,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"29435:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"29423:19:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133776,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"29423:39:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"29387:75:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"expression":{"id":133780,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133742,"src":"29499:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133781,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"29507:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"29499:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133778,"name":"governanceFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133758,"src":"29477:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133779,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"29491:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"29477:21:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133782,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"29477:41:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"29387:131:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"29363:155:178"},{"assignments":[133786],"declarations":[{"constant":false,"id":133786,"mutability":"mutable","name":"exposure","nameLocation":"29536:8:178","nodeType":"VariableDeclaration","scope":133845,"src":"29528:16:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133785,"name":"uint256","nodeType":"ElementaryTypeName","src":"29528:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133791,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133790,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":133787,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133742,"src":"29547:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133788,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"29555:12:178","memberName":"longExposure","nodeType":"MemberAccess","referencedDeclaration":133176,"src":"29547:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":133789,"name":"_bondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133748,"src":"29570:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"29547:34:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"29528:53:178"},{"assignments":[133793],"declarations":[{"constant":false,"id":133793,"mutability":"mutable","name":"checkpointExposure","nameLocation":"29599:18:178","nodeType":"VariableDeclaration","scope":133845,"src":"29591:26:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133792,"name":"uint256","nodeType":"ElementaryTypeName","src":"29591:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133802,"initialValue":{"arguments":[{"id":133800,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"29628:27:178","subExpression":{"arguments":[{"hexValue":"30","id":133798,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"29653:1:178","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"expression":{"id":133796,"name":"_checkpointExposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133744,"src":"29629:19:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":133797,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"29649:3:178","memberName":"min","nodeType":"MemberAccess","referencedDeclaration":12274,"src":"29629:23:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$attached_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":133799,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"29629:26:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":133795,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"29620:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":133794,"name":"uint256","nodeType":"ElementaryTypeName","src":"29620:7:178","typeDescriptions":{}}},"id":133801,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"29620:36:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"29591:65:178"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133818,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133809,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133803,"name":"shareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133769,"src":"29683:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"expression":{"id":133806,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133742,"src":"29726:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133807,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"29734:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"29726:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133804,"name":"checkpointExposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133793,"src":"29699:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133805,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"29718:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"29699:26:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133808,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"29699:46:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"29683:62:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133817,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"expression":{"id":133812,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133742,"src":"29778:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133813,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"29786:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"29778:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133810,"name":"exposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133786,"src":"29761:8:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133811,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"29770:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"29761:16:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133814,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"29761:36:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"expression":{"id":133815,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133742,"src":"29800:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133816,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"29808:20:178","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":133184,"src":"29800:28:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"29761:67:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"29683:145:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":133843,"nodeType":"Block","src":"30123:42:178","statements":[{"expression":{"components":[{"hexValue":"30","id":133839,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"30145:1:178","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"66616c7365","id":133840,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"30148:5:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"id":133841,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"30144:10:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_bool_$","typeString":"tuple(int_const 0,bool)"}},"functionReturnParameters":133756,"id":133842,"nodeType":"Return","src":"30137:17:178"}]},"id":133844,"nodeType":"IfStatement","src":"29666:499:178","trueBody":{"id":133838,"nodeType":"Block","src":"29839:278:178","statements":[{"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133834,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133831,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133825,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133819,"name":"shareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133769,"src":"29878:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"expression":{"id":133822,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133742,"src":"29941:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133823,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"29949:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"29941:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133820,"name":"checkpointExposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133793,"src":"29914:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133821,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"29933:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"29914:26:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133824,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"29914:46:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"29878:82:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"expression":{"id":133828,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133742,"src":"30000:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133829,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"30008:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"30000:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133826,"name":"exposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133786,"src":"29983:8:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133827,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"29992:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"29983:16:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133830,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"29983:36:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"29878:141:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":133832,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133742,"src":"30042:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133833,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"30050:20:178","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":133184,"src":"30042:28:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"29878:192:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":133835,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"30088:4:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"id":133836,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"29860:246:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"functionReturnParameters":133756,"id":133837,"nodeType":"Return","src":"29853:253:178"}]}}]},"documentation":{"id":133739,"nodeType":"StructuredDocumentation","src":"27056:1865:178","text":"@dev Gets the solvency of the pool $S(x)$ after a long is opened with a\n      base amount $x$.\n      Since longs can net out with shorts in this checkpoint, we decrease\n      the global exposure variable by any negative exposure we have\n      in the checkpoint. The pool's solvency is calculated as:\n      $$\n      s = z - \\tfrac{exposure + min(exposure_{checkpoint}, 0)}{c} - z_{min}\n      $$\n      When a long is opened, the share reserves $z$ increase by:\n      $$\n      \\Delta z = \\tfrac{x - g(x)}{c}\n      $$\n      Opening the long increases the non-netted longs by the bond amount.\n      From this, the change in the exposure is given by:\n      $$\n      \\Delta exposure = y(x)\n      $$\n      From this, we can calculate $S(x)$ as:\n      $$\n      S(x) = \\left( z + \\Delta z \\right) - \\left(\n                 \\tfrac{\n                     exposure +\n                     min(exposure_{checkpoint}, 0) +\n                     \\Delta exposure\n                 }{c}\n             \\right) - z_{min}\n      $$\n      It's possible that the pool is insolvent after opening a long. In\n      this case, we return `None` since the fixed point library can't\n      represent negative numbers.\n @param _params The max long calculation parameters.\n @param _checkpointExposure The exposure in the checkpoint.\n @param _baseAmount The base amount.\n @param _bondAmount The bond amount.\n @param _spotPrice The spot price.\n @return The solvency of the pool.\n @return A flag indicating that the pool is solvent if true and insolvent\n         if false."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateSolvencyAfterLong","nameLocation":"28935:26:178","parameters":{"id":133751,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133742,"mutability":"mutable","name":"_params","nameLocation":"28993:7:178","nodeType":"VariableDeclaration","scope":133846,"src":"28971:29:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"},"typeName":{"id":133741,"nodeType":"UserDefinedTypeName","pathNode":{"id":133740,"name":"MaxTradeParams","nameLocations":["28971:14:178"],"nodeType":"IdentifierPath","referencedDeclaration":133191,"src":"28971:14:178"},"referencedDeclaration":133191,"src":"28971:14:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_storage_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"}},"visibility":"internal"},{"constant":false,"id":133744,"mutability":"mutable","name":"_checkpointExposure","nameLocation":"29017:19:178","nodeType":"VariableDeclaration","scope":133846,"src":"29010:26:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":133743,"name":"int256","nodeType":"ElementaryTypeName","src":"29010:6:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":133746,"mutability":"mutable","name":"_baseAmount","nameLocation":"29054:11:178","nodeType":"VariableDeclaration","scope":133846,"src":"29046:19:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133745,"name":"uint256","nodeType":"ElementaryTypeName","src":"29046:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133748,"mutability":"mutable","name":"_bondAmount","nameLocation":"29083:11:178","nodeType":"VariableDeclaration","scope":133846,"src":"29075:19:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133747,"name":"uint256","nodeType":"ElementaryTypeName","src":"29075:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133750,"mutability":"mutable","name":"_spotPrice","nameLocation":"29112:10:178","nodeType":"VariableDeclaration","scope":133846,"src":"29104:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133749,"name":"uint256","nodeType":"ElementaryTypeName","src":"29104:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"28961:167:178"},"returnParameters":{"id":133756,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133753,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":133846,"src":"29152:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133752,"name":"uint256","nodeType":"ElementaryTypeName","src":"29152:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133755,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":133846,"src":"29161:4:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":133754,"name":"bool","nodeType":"ElementaryTypeName","src":"29161:4:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"29151:15:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":133910,"nodeType":"FunctionDefinition","src":"31556:924:178","nodes":[],"body":{"id":133909,"nodeType":"Block","src":"31802:678:178","nodes":[],"statements":[{"expression":{"id":133872,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":133863,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133859,"src":"31968:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133864,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133861,"src":"31980:7:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":133865,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"31967:21:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":133867,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133850,"src":"32034:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},{"id":133868,"name":"_baseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133852,"src":"32055:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133869,"name":"_effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133854,"src":"32080:23:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133870,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133856,"src":"32117:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":133866,"name":"calculateLongAmountDerivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134079,"src":"31991:29:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_MaxTradeParams_$133191_memory_ptr_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$_t_bool_$","typeString":"function (struct HyperdriveUtils.MaxTradeParams memory,uint256,uint256,uint256) pure returns (uint256,bool)"}},"id":133871,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"31991:146:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"src":"31967:170:178","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":133873,"nodeType":"ExpressionStatement","src":"31967:170:178"},{"condition":{"id":133875,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"32151:8:178","subExpression":{"id":133874,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133861,"src":"32152:7:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":133881,"nodeType":"IfStatement","src":"32147:58:178","trueBody":{"id":133880,"nodeType":"Block","src":"32161:44:178","statements":[{"expression":{"components":[{"hexValue":"30","id":133876,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"32183:1:178","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"id":133877,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133861,"src":"32186:7:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":133878,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"32182:12:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_bool_$","typeString":"tuple(int_const 0,bool)"}},"functionReturnParameters":133862,"id":133879,"nodeType":"Return","src":"32175:19:178"}]}},{"expression":{"id":133894,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":133882,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133859,"src":"32259:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133892,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133890,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"32344:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":133891,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133856,"src":"32350:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"32344:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"expression":{"id":133886,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133850,"src":"32305:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133887,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"32313:8:178","memberName":"curveFee","nodeType":"MemberAccess","referencedDeclaration":133186,"src":"32305:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":133883,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133850,"src":"32273:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133884,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"32281:15:178","memberName":"governanceLPFee","nodeType":"MemberAccess","referencedDeclaration":133190,"src":"32273:23:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133885,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"32297:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"32273:31:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133888,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"32273:49:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133889,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"32323:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"32273:57:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133893,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"32273:97:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"32259:111:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133895,"nodeType":"ExpressionStatement","src":"32259:111:178"},{"expression":{"id":133898,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":133896,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133859,"src":"32380:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"-=","rightHandSide":{"id":133897,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"32394:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"32380:17:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133899,"nodeType":"ExpressionStatement","src":"32380:17:178"},{"expression":{"components":[{"arguments":[{"hexValue":"31653138","id":133902,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"32438:4:178","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"value":"1e18"},{"expression":{"id":133903,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133850,"src":"32444:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133904,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"32452:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"32444:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133900,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133859,"src":"32416:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133901,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"32427:10:178","memberName":"mulDivDown","nodeType":"MemberAccess","referencedDeclaration":11541,"src":"32416:21:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":133905,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"32416:47:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133906,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133861,"src":"32465:7:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":133907,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"32415:58:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"functionReturnParameters":133862,"id":133908,"nodeType":"Return","src":"32408:65:178"}]},"documentation":{"id":133847,"nodeType":"StructuredDocumentation","src":"30177:1374:178","text":"@dev Gets the negation of the derivative of the pool's solvency with\n      respect to the base amount that the long pays.\n      The derivative of the pool's solvency $S(x)$ with respect to the\n      base amount that the long pays is given by:\n      $$\n      S'(x) = \\tfrac{1}{c} \\cdot \\left(\n                  1 - y'(x) - \\phi_{g} \\cdot p \\cdot c'(x)\n              \\right) \\\\\n            = \\tfrac{1}{c} \\cdot \\left(\n                  1 - y'(x) - \\phi_{g} \\cdot \\phi_{c} \\cdot \\left(\n                      1 - p\n                  \\right)\n              \\right)\n      $$\n      This derivative is negative since solvency decreases as more longs\n      are opened. We use the negation of the derivative to stay in the\n      positive domain, which allows us to use the fixed point library.\n @param _params The max long calculation parameters.\n @param _baseAmount The base amount.\n @param _effectiveShareReserves The effective share reserves.\n @param _spotPrice The spot price.\n @return derivative The negation of the derivative of the pool's solvency\n         w.r.t the base amount.\n @return success A flag indicating whether or not the derivative was\n         successfully calculated."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateSolvencyAfterLongDerivative","nameLocation":"31565:36:178","parameters":{"id":133857,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133850,"mutability":"mutable","name":"_params","nameLocation":"31633:7:178","nodeType":"VariableDeclaration","scope":133910,"src":"31611:29:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"},"typeName":{"id":133849,"nodeType":"UserDefinedTypeName","pathNode":{"id":133848,"name":"MaxTradeParams","nameLocations":["31611:14:178"],"nodeType":"IdentifierPath","referencedDeclaration":133191,"src":"31611:14:178"},"referencedDeclaration":133191,"src":"31611:14:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_storage_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"}},"visibility":"internal"},{"constant":false,"id":133852,"mutability":"mutable","name":"_baseAmount","nameLocation":"31658:11:178","nodeType":"VariableDeclaration","scope":133910,"src":"31650:19:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133851,"name":"uint256","nodeType":"ElementaryTypeName","src":"31650:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133854,"mutability":"mutable","name":"_effectiveShareReserves","nameLocation":"31687:23:178","nodeType":"VariableDeclaration","scope":133910,"src":"31679:31:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133853,"name":"uint256","nodeType":"ElementaryTypeName","src":"31679:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133856,"mutability":"mutable","name":"_spotPrice","nameLocation":"31728:10:178","nodeType":"VariableDeclaration","scope":133910,"src":"31720:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133855,"name":"uint256","nodeType":"ElementaryTypeName","src":"31720:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"31601:143:178"},"returnParameters":{"id":133862,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133859,"mutability":"mutable","name":"derivative","nameLocation":"31776:10:178","nodeType":"VariableDeclaration","scope":133910,"src":"31768:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133858,"name":"uint256","nodeType":"ElementaryTypeName","src":"31768:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133861,"mutability":"mutable","name":"success","nameLocation":"31793:7:178","nodeType":"VariableDeclaration","scope":133910,"src":"31788:12:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":133860,"name":"bool","nodeType":"ElementaryTypeName","src":"31788:4:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"31767:34:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":133955,"nodeType":"FunctionDefinition","src":"33493:630:178","nodes":[],"body":{"id":133954,"nodeType":"Block","src":"33697:426:178","nodes":[],"statements":[{"assignments":[133926],"declarations":[{"constant":false,"id":133926,"mutability":"mutable","name":"longAmount","nameLocation":"33715:10:178","nodeType":"VariableDeclaration","scope":133954,"src":"33707:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133925,"name":"uint256","nodeType":"ElementaryTypeName","src":"33707:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133944,"initialValue":{"arguments":[{"id":133929,"name":"_effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133918,"src":"33774:23:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133930,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133914,"src":"33811:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133931,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"33819:12:178","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":133172,"src":"33811:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[{"expression":{"id":133934,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133914,"src":"33865:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133935,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"33873:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"33865:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133932,"name":"_baseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133916,"src":"33845:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133933,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"33857:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"33845:19:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133936,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"33845:39:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133937,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133914,"src":"33898:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133938,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"33906:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"33898:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133939,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133914,"src":"33931:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133940,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"33939:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"33931:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133941,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133914,"src":"33963:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133942,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"33971:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":133182,"src":"33963:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133927,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12857,"src":"33728:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$12857_$","typeString":"type(library HyperdriveMath)"}},"id":133928,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"33743:17:178","memberName":"calculateOpenLong","nodeType":"MemberAccess","referencedDeclaration":12591,"src":"33728:32:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":133943,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"33728:270:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"33707:291:178"},{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133952,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133945,"name":"longAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133926,"src":"34027:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"id":133947,"name":"_baseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133916,"src":"34074:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":133948,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133920,"src":"34087:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133949,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133914,"src":"34099:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133950,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"34107:8:178","memberName":"curveFee","nodeType":"MemberAccess","referencedDeclaration":133186,"src":"34099:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":133946,"name":"calculateLongCurveFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134105,"src":"34052:21:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":133951,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"34052:64:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"34027:89:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":133924,"id":133953,"nodeType":"Return","src":"34008:108:178"}]},"documentation":{"id":133911,"nodeType":"StructuredDocumentation","src":"32486:1002:178","text":"@dev Gets the long amount that will be opened for a given base amount.\n      The long amount $y(x)$ that a trader will receive is given by:\n      $$\n      y(x) = y_{*}(x) - c(x)\n      $$\n      Where $y_{*}(x)$ is the amount of long that would be opened if there\n      was no curve fee and [$c(x)$](long_curve_fee) is the curve fee.\n      $y_{*}(x)$ is given by:\n      $$\n      y_{*}(x) = y - \\left(\n                     k - \\tfrac{c}{\\mu} \\cdot \\left(\n                         \\mu \\cdot \\left( z - \\zeta + \\tfrac{x}{c}\n                     \\right) \\right)^{1 - t_s}\n                 \\right)^{\\tfrac{1}{1 - t_s}}\n      $$\n @param _params The max long calculation parameters.\n @param _baseAmount The base amount.\n @param _effectiveShareReserves The effective share reserves.\n @param _spotPrice The spot price.\n @return The long amount."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateLongAmount","nameLocation":"33502:19:178","parameters":{"id":133921,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133914,"mutability":"mutable","name":"_params","nameLocation":"33553:7:178","nodeType":"VariableDeclaration","scope":133955,"src":"33531:29:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"},"typeName":{"id":133913,"nodeType":"UserDefinedTypeName","pathNode":{"id":133912,"name":"MaxTradeParams","nameLocations":["33531:14:178"],"nodeType":"IdentifierPath","referencedDeclaration":133191,"src":"33531:14:178"},"referencedDeclaration":133191,"src":"33531:14:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_storage_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"}},"visibility":"internal"},{"constant":false,"id":133916,"mutability":"mutable","name":"_baseAmount","nameLocation":"33578:11:178","nodeType":"VariableDeclaration","scope":133955,"src":"33570:19:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133915,"name":"uint256","nodeType":"ElementaryTypeName","src":"33570:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133918,"mutability":"mutable","name":"_effectiveShareReserves","nameLocation":"33607:23:178","nodeType":"VariableDeclaration","scope":133955,"src":"33599:31:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133917,"name":"uint256","nodeType":"ElementaryTypeName","src":"33599:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133920,"mutability":"mutable","name":"_spotPrice","nameLocation":"33648:10:178","nodeType":"VariableDeclaration","scope":133955,"src":"33640:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133919,"name":"uint256","nodeType":"ElementaryTypeName","src":"33640:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"33521:143:178"},"returnParameters":{"id":133924,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133923,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":133955,"src":"33688:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133922,"name":"uint256","nodeType":"ElementaryTypeName","src":"33688:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"33687:9:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":134079,"nodeType":"FunctionDefinition","src":"35561:1464:178","nodes":[],"body":{"id":134078,"nodeType":"Block","src":"35792:1233:178","nodes":[],"statements":[{"assignments":[133973],"declarations":[{"constant":false,"id":133973,"mutability":"mutable","name":"shareAmount","nameLocation":"35863:11:178","nodeType":"VariableDeclaration","scope":134078,"src":"35855:19:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133972,"name":"uint256","nodeType":"ElementaryTypeName","src":"35855:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133979,"initialValue":{"arguments":[{"expression":{"id":133976,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133959,"src":"35897:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133977,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"35905:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"35897:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133974,"name":"_baseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133961,"src":"35877:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133975,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"35889:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"35877:19:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133978,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"35877:39:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"35855:61:178"},{"assignments":[133981],"declarations":[{"constant":false,"id":133981,"mutability":"mutable","name":"inner","nameLocation":"35934:5:178","nodeType":"VariableDeclaration","scope":134078,"src":"35926:13:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133980,"name":"uint256","nodeType":"ElementaryTypeName","src":"35926:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":133989,"initialValue":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":133987,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133985,"name":"_effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133963,"src":"35989:23:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":133986,"name":"shareAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133973,"src":"36015:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"35989:37:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":133982,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133959,"src":"35942:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133983,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"35950:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":133182,"src":"35942:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":133984,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"35968:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"35942:33:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":133988,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"35942:94:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"35926:110:178"},{"assignments":[133991],"declarations":[{"constant":false,"id":133991,"mutability":"mutable","name":"k_","nameLocation":"36054:2:178","nodeType":"VariableDeclaration","scope":134078,"src":"36046:10:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133990,"name":"uint256","nodeType":"ElementaryTypeName","src":"36046:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134006,"initialValue":{"arguments":[{"id":133994,"name":"_effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133963,"src":"36093:23:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":133995,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133959,"src":"36130:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133996,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"36138:12:178","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":133172,"src":"36130:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134000,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":133997,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"36164:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":133998,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133959,"src":"36170:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":133999,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"36178:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"36170:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"36164:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134001,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133959,"src":"36203:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134002,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"36211:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"36203:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134003,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133959,"src":"36235:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134004,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"36243:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":133182,"src":"36235:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":133992,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16293,"src":"36059:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_YieldSpaceMath_$16293_$","typeString":"type(library YieldSpaceMath)"}},"id":133993,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"36074:5:178","memberName":"kDown","nodeType":"MemberAccess","referencedDeclaration":16292,"src":"36059:20:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":134005,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"36059:211:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"36046:224:178"},{"expression":{"id":134016,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":134007,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133968,"src":"36280:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"expression":{"id":134012,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133959,"src":"36315:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134013,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"36323:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"36315:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134010,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133981,"src":"36305:5:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134011,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"36311:3:178","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":11686,"src":"36305:9:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134014,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"36305:30:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134008,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"36293:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134009,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"36297:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"36293:11:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134015,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"36293:43:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"36280:56:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134017,"nodeType":"ExpressionStatement","src":"36280:56:178"},{"assignments":[134019],"declarations":[{"constant":false,"id":134019,"mutability":"mutable","name":"rhs","nameLocation":"36532:3:178","nodeType":"VariableDeclaration","scope":134078,"src":"36524:11:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134018,"name":"uint256","nodeType":"ElementaryTypeName","src":"36524:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134031,"initialValue":{"arguments":[{"arguments":[{"expression":{"id":134025,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133959,"src":"36591:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134026,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"36599:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"36591:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134023,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133981,"src":"36581:5:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134024,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"36587:3:178","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":11686,"src":"36581:9:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134027,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"36581:30:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134028,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133959,"src":"36625:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134029,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"36633:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":133182,"src":"36625:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":134020,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133959,"src":"36538:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134021,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"36546:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"36538:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134022,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"36557:10:178","memberName":"mulDivDown","nodeType":"MemberAccess","referencedDeclaration":11541,"src":"36538:29:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":134030,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"36538:122:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"36524:136:178"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134034,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134032,"name":"k_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133991,"src":"36674:2:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":134033,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134019,"src":"36679:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"36674:8:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":134040,"nodeType":"IfStatement","src":"36670:56:178","trueBody":{"id":134039,"nodeType":"Block","src":"36684:42:178","statements":[{"expression":{"components":[{"hexValue":"30","id":134035,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"36706:1:178","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"66616c7365","id":134036,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"36709:5:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"id":134037,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"36705:10:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_bool_$","typeString":"tuple(int_const 0,bool)"}},"functionReturnParameters":133971,"id":134038,"nodeType":"Return","src":"36698:17:178"}]}},{"expression":{"id":134059,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":134041,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133968,"src":"36735:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134055,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134052,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"36821:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":134053,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133959,"src":"36827:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134054,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"36835:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"36827:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"36821:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":134049,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133959,"src":"36795:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134050,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"36803:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"36795:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134051,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"36815:5:178","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":11627,"src":"36795:25:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134056,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"36795:52:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134046,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134044,"name":"k_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133991,"src":"36781:2:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":134045,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134019,"src":"36786:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"36781:8:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":134047,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"36780:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134048,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"36791:3:178","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":11686,"src":"36780:14:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134057,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"36780:68:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134042,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133968,"src":"36748:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134043,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"36759:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"36748:18:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134058,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"36748:110:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"36735:123:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134060,"nodeType":"ExpressionStatement","src":"36735:123:178"},{"expression":{"id":134072,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":134061,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133968,"src":"36913:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"-=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134070,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":134067,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133965,"src":"36964:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134065,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"36952:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134066,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"36956:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"36952:11:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134068,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"36952:23:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":134069,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"36978:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"36952:29:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":134062,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133959,"src":"36927:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134063,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"36935:8:178","memberName":"curveFee","nodeType":"MemberAccess","referencedDeclaration":133186,"src":"36927:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134064,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"36944:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"36927:24:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134071,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"36927:55:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"36913:69:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134073,"nodeType":"ExpressionStatement","src":"36913:69:178"},{"expression":{"components":[{"id":134074,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":133968,"src":"37001:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":134075,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"37013:4:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"id":134076,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"37000:18:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"functionReturnParameters":133971,"id":134077,"nodeType":"Return","src":"36993:25:178"}]},"documentation":{"id":133956,"nodeType":"StructuredDocumentation","src":"34129:1427:178","text":"@dev Gets the derivative of [long_amount](long_amount) with respect to\n      the base amount.\n      We calculate the derivative of the long amount $y(x)$ as:\n      $$\n      y'(x) = y_{*}'(x) - c'(x)\n      $$\n      Where $y_{*}'(x)$ is the derivative of $y_{*}(x)$ and $c'(x)$ is the\n      derivative of [$c(x)$](long_curve_fee). $y_{*}'(x)$ is given by:\n      $$\n      y_{*}'(x) = \\left( \\mu \\cdot (z - \\zeta + \\tfrac{x}{c}) \\right)^{-t_s}\n                  \\left(\n                      k - \\tfrac{c}{\\mu} \\cdot\n                      \\left(\n                          \\mu \\cdot (z - \\zeta + \\tfrac{x}{c}\n                      \\right)^{1 - t_s}\n                  \\right)^{\\tfrac{t_s}{1 - t_s}}\n      $$\n      and $c'(x)$ is given by:\n      $$\n      c'(x) = \\phi_{c} \\cdot \\left( \\tfrac{1}{p} - 1 \\right)\n      $$\n @param _params The max long calculation parameters.\n @param _baseAmount The base amount.\n @param _spotPrice The spot price.\n @param _effectiveShareReserves The effective share reserves.\n @return derivative The derivative of the long amount w.r.t. the base\n         amount.\n @return A flag indicating whether or not the derivative was\n         successfully calculated."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateLongAmountDerivative","nameLocation":"35570:29:178","parameters":{"id":133966,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133959,"mutability":"mutable","name":"_params","nameLocation":"35631:7:178","nodeType":"VariableDeclaration","scope":134079,"src":"35609:29:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"},"typeName":{"id":133958,"nodeType":"UserDefinedTypeName","pathNode":{"id":133957,"name":"MaxTradeParams","nameLocations":["35609:14:178"],"nodeType":"IdentifierPath","referencedDeclaration":133191,"src":"35609:14:178"},"referencedDeclaration":133191,"src":"35609:14:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_storage_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"}},"visibility":"internal"},{"constant":false,"id":133961,"mutability":"mutable","name":"_baseAmount","nameLocation":"35656:11:178","nodeType":"VariableDeclaration","scope":134079,"src":"35648:19:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133960,"name":"uint256","nodeType":"ElementaryTypeName","src":"35648:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133963,"mutability":"mutable","name":"_effectiveShareReserves","nameLocation":"35685:23:178","nodeType":"VariableDeclaration","scope":134079,"src":"35677:31:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133962,"name":"uint256","nodeType":"ElementaryTypeName","src":"35677:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133965,"mutability":"mutable","name":"_spotPrice","nameLocation":"35726:10:178","nodeType":"VariableDeclaration","scope":134079,"src":"35718:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133964,"name":"uint256","nodeType":"ElementaryTypeName","src":"35718:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"35599:143:178"},"returnParameters":{"id":133971,"nodeType":"ParameterList","parameters":[{"constant":false,"id":133968,"mutability":"mutable","name":"derivative","nameLocation":"35774:10:178","nodeType":"VariableDeclaration","scope":134079,"src":"35766:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":133967,"name":"uint256","nodeType":"ElementaryTypeName","src":"35766:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":133970,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":134079,"src":"35786:4:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":133969,"name":"bool","nodeType":"ElementaryTypeName","src":"35786:4:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"35765:26:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":134105,"nodeType":"FunctionDefinition","src":"37434:330:178","nodes":[],"body":{"id":134104,"nodeType":"Block","src":"37587:177:178","nodes":[],"statements":[{"expression":{"arguments":[{"id":134101,"name":"_baseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134082,"src":"37732:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134098,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":134095,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134084,"src":"37688:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134093,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"37676:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134094,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"37680:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"37676:11:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134096,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"37676:23:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":134097,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"37702:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"37676:29:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134091,"name":"_curveFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134086,"src":"37658:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134092,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"37668:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"37658:17:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134099,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"37658:48:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134100,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"37707:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"37658:56:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134102,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"37658:99:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":134090,"id":134103,"nodeType":"Return","src":"37639:118:178"}]},"documentation":{"id":134080,"nodeType":"StructuredDocumentation","src":"37031:398:178","text":"@dev Gets the curve fee paid by longs for a given base amount.\n      The curve fee $c(x)$ paid by longs is given by:\n      $$\n      c(x) = \\phi_{c} \\cdot \\left( \\tfrac{1}{p} - 1 \\right) \\cdot x\n      $$\n @param _baseAmount The base amount, $x$.\n @param _spotPrice The spot price, $p$.\n @param _curveFee The curve fee, $\\phi_{c}$."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateLongCurveFee","nameLocation":"37443:21:178","parameters":{"id":134087,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134082,"mutability":"mutable","name":"_baseAmount","nameLocation":"37482:11:178","nodeType":"VariableDeclaration","scope":134105,"src":"37474:19:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134081,"name":"uint256","nodeType":"ElementaryTypeName","src":"37474:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134084,"mutability":"mutable","name":"_spotPrice","nameLocation":"37511:10:178","nodeType":"VariableDeclaration","scope":134105,"src":"37503:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134083,"name":"uint256","nodeType":"ElementaryTypeName","src":"37503:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134086,"mutability":"mutable","name":"_curveFee","nameLocation":"37539:9:178","nodeType":"VariableDeclaration","scope":134105,"src":"37531:17:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134085,"name":"uint256","nodeType":"ElementaryTypeName","src":"37531:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"37464:90:178"},"returnParameters":{"id":134090,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134089,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":134105,"src":"37578:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134088,"name":"uint256","nodeType":"ElementaryTypeName","src":"37578:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"37577:9:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":134132,"nodeType":"FunctionDefinition","src":"38345:361:178","nodes":[],"body":{"id":134131,"nodeType":"Block","src":"38537:169:178","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[{"id":134125,"name":"_baseAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134108,"src":"38650:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134126,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134110,"src":"38663:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134127,"name":"_curveFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134112,"src":"38675:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":134124,"name":"calculateLongCurveFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134105,"src":"38628:21:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":134128,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"38628:57:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":134121,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134110,"src":"38591:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134119,"name":"_governanceLPFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134114,"src":"38566:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134120,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"38583:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"38566:24:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134122,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"38566:36:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134123,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"38603:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"38566:44:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134129,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"38566:133:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":134118,"id":134130,"nodeType":"Return","src":"38547:152:178"}]},"documentation":{"id":134106,"nodeType":"StructuredDocumentation","src":"37770:570:178","text":"@dev Gets the governance fee paid by longs for a given base amount.\n      Unlike the [curve fee](long_curve_fee) which is paid in bonds, the\n      governance fee is paid in base. The governance fee $g(x)$ paid by\n      longs is given by:\n      $$\n      g(x) = \\phi_{g} \\cdot p \\cdot c(x)\n      $$\n @param _baseAmount The base amount, $x$.\n @param _spotPrice The spot price, $p$.\n @param _curveFee The curve fee, $\\phi_{c}$.\n @param _governanceLPFee The governance fee, $\\phi_{g}$."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateLongGovernanceFee","nameLocation":"38354:26:178","parameters":{"id":134115,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134108,"mutability":"mutable","name":"_baseAmount","nameLocation":"38398:11:178","nodeType":"VariableDeclaration","scope":134132,"src":"38390:19:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134107,"name":"uint256","nodeType":"ElementaryTypeName","src":"38390:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134110,"mutability":"mutable","name":"_spotPrice","nameLocation":"38427:10:178","nodeType":"VariableDeclaration","scope":134132,"src":"38419:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134109,"name":"uint256","nodeType":"ElementaryTypeName","src":"38419:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134112,"mutability":"mutable","name":"_curveFee","nameLocation":"38455:9:178","nodeType":"VariableDeclaration","scope":134132,"src":"38447:17:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134111,"name":"uint256","nodeType":"ElementaryTypeName","src":"38447:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134114,"mutability":"mutable","name":"_governanceLPFee","nameLocation":"38482:16:178","nodeType":"VariableDeclaration","scope":134132,"src":"38474:24:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134113,"name":"uint256","nodeType":"ElementaryTypeName","src":"38474:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"38380:124:178"},"returnParameters":{"id":134118,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134117,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":134132,"src":"38528:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134116,"name":"uint256","nodeType":"ElementaryTypeName","src":"38528:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"38527:9:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":134139,"nodeType":"StructDefinition","src":"38846:107:178","nodes":[],"canonicalName":"HyperdriveUtils.MaxShortInternal","members":[{"constant":false,"id":134134,"mutability":"mutable","name":"solvency","nameLocation":"38888:8:178","nodeType":"VariableDeclaration","scope":134139,"src":"38880:16:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134133,"name":"uint256","nodeType":"ElementaryTypeName","src":"38880:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134136,"mutability":"mutable","name":"derivative","nameLocation":"38914:10:178","nodeType":"VariableDeclaration","scope":134139,"src":"38906:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134135,"name":"uint256","nodeType":"ElementaryTypeName","src":"38906:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134138,"mutability":"mutable","name":"success","nameLocation":"38939:7:178","nodeType":"VariableDeclaration","scope":134139,"src":"38934:12:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":134137,"name":"bool","nodeType":"ElementaryTypeName","src":"38934:4:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"name":"MaxShortInternal","nameLocation":"38853:16:178","scope":135637,"visibility":"public"},{"id":134313,"nodeType":"FunctionDefinition","src":"39241:4487:178","nodes":[],"body":{"id":134312,"nodeType":"Block","src":"39413:4315:178","nodes":[],"statements":[{"assignments":[134154],"declarations":[{"constant":false,"id":134154,"mutability":"mutable","name":"internal_","nameLocation":"39704:9:178","nodeType":"VariableDeclaration","scope":134312,"src":"39680:33:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_MaxShortInternal_$134139_memory_ptr","typeString":"struct HyperdriveUtils.MaxShortInternal"},"typeName":{"id":134153,"nodeType":"UserDefinedTypeName","pathNode":{"id":134152,"name":"MaxShortInternal","nameLocations":["39680:16:178"],"nodeType":"IdentifierPath","referencedDeclaration":134139,"src":"39680:16:178"},"referencedDeclaration":134139,"src":"39680:16:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxShortInternal_$134139_storage_ptr","typeString":"struct HyperdriveUtils.MaxShortInternal"}},"visibility":"internal"}],"id":134155,"nodeType":"VariableDeclarationStatement","src":"39680:33:178"},{"assignments":[134157],"declarations":[{"constant":false,"id":134157,"mutability":"mutable","name":"effectiveShareReserves","nameLocation":"39731:22:178","nodeType":"VariableDeclaration","scope":134312,"src":"39723:30:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134156,"name":"uint256","nodeType":"ElementaryTypeName","src":"39723:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134165,"initialValue":{"arguments":[{"expression":{"id":134160,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134143,"src":"39833:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134161,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"39841:13:178","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":133168,"src":"39833:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134162,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134143,"src":"39872:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134163,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"39880:15:178","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":133170,"src":"39872:23:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":134158,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12857,"src":"39756:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$12857_$","typeString":"type(library HyperdriveMath)"}},"id":134159,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"39784:31:178","memberName":"calculateEffectiveShareReserves","nodeType":"MemberAccess","referencedDeclaration":12409,"src":"39756:59:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$returns$_t_uint256_$","typeString":"function (uint256,int256) pure returns (uint256)"}},"id":134164,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"39756:153:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"39723:186:178"},{"assignments":[134167],"declarations":[{"constant":false,"id":134167,"mutability":"mutable","name":"spotPrice","nameLocation":"39927:9:178","nodeType":"VariableDeclaration","scope":134312,"src":"39919:17:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134166,"name":"uint256","nodeType":"ElementaryTypeName","src":"39919:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134178,"initialValue":{"arguments":[{"id":134170,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134157,"src":"39986:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134171,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134143,"src":"40022:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134172,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"40030:12:178","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":133172,"src":"40022:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134173,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134143,"src":"40056:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134174,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"40064:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":133182,"src":"40056:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134175,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134143,"src":"40095:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134176,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"40103:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"40095:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134168,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12857,"src":"39939:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$12857_$","typeString":"type(library HyperdriveMath)"}},"id":134169,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"39954:18:178","memberName":"calculateSpotPrice","nodeType":"MemberAccess","referencedDeclaration":12340,"src":"39939:33:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":134177,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"39939:185:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"39919:205:178"},{"assignments":[134180],"declarations":[{"constant":false,"id":134180,"mutability":"mutable","name":"absoluteMaxBondAmount","nameLocation":"40142:21:178","nodeType":"VariableDeclaration","scope":134312,"src":"40134:29:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134179,"name":"uint256","nodeType":"ElementaryTypeName","src":"40134:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134185,"initialValue":{"arguments":[{"id":134182,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134143,"src":"40207:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},{"id":134183,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134157,"src":"40228:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":134181,"name":"calculateMaxShortUpperBound","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134408,"src":"40166:27:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_MaxTradeParams_$133191_memory_ptr_$_t_uint256_$returns$_t_uint256_$","typeString":"function (struct HyperdriveUtils.MaxTradeParams memory,uint256) pure returns (uint256)"}},"id":134184,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"40166:94:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"40134:126:178"},{"expression":{"id":134199,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"expression":{"id":134186,"name":"internal_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134154,"src":"40271:9:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxShortInternal_$134139_memory_ptr","typeString":"struct HyperdriveUtils.MaxShortInternal memory"}},"id":134188,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"40281:8:178","memberName":"solvency","nodeType":"MemberAccess","referencedDeclaration":134134,"src":"40271:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134189,"name":"internal_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134154,"src":"40291:9:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxShortInternal_$134139_memory_ptr","typeString":"struct HyperdriveUtils.MaxShortInternal memory"}},"id":134190,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"40301:7:178","memberName":"success","nodeType":"MemberAccess","referencedDeclaration":134138,"src":"40291:17:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":134191,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"40270:39:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":134193,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134143,"src":"40353:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},{"id":134194,"name":"absoluteMaxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134180,"src":"40374:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134195,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134157,"src":"40409:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134196,"name":"spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134167,"src":"40445:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134197,"name":"_checkpointExposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134145,"src":"40468:19:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":134192,"name":"calculateSolvencyAfterShort","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134599,"src":"40312:27:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_MaxTradeParams_$133191_memory_ptr_$_t_uint256_$_t_uint256_$_t_uint256_$_t_int256_$returns$_t_uint256_$_t_bool_$","typeString":"function (struct HyperdriveUtils.MaxTradeParams memory,uint256,uint256,uint256,int256) pure returns (uint256,bool)"}},"id":134198,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"40312:185:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"src":"40270:227:178","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":134200,"nodeType":"ExpressionStatement","src":"40270:227:178"},{"condition":{"expression":{"id":134201,"name":"internal_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134154,"src":"40511:9:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxShortInternal_$134139_memory_ptr","typeString":"struct HyperdriveUtils.MaxShortInternal memory"}},"id":134202,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"40521:7:178","memberName":"success","nodeType":"MemberAccess","referencedDeclaration":134138,"src":"40511:17:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":134206,"nodeType":"IfStatement","src":"40507:76:178","trueBody":{"id":134205,"nodeType":"Block","src":"40530:53:178","statements":[{"expression":{"id":134203,"name":"absoluteMaxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134180,"src":"40551:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":134151,"id":134204,"nodeType":"Return","src":"40544:28:178"}]}},{"assignments":[134208],"declarations":[{"constant":false,"id":134208,"mutability":"mutable","name":"maxBondAmount","nameLocation":"41485:13:178","nodeType":"VariableDeclaration","scope":134312,"src":"41477:21:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134207,"name":"uint256","nodeType":"ElementaryTypeName","src":"41477:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134214,"initialValue":{"arguments":[{"id":134210,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134143,"src":"41537:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},{"id":134211,"name":"spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134167,"src":"41558:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134212,"name":"_checkpointExposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134145,"src":"41581:19:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":134209,"name":"calculateMaxShortGuess","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134482,"src":"41501:22:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_MaxTradeParams_$133191_memory_ptr_$_t_uint256_$_t_int256_$returns$_t_uint256_$","typeString":"function (struct HyperdriveUtils.MaxTradeParams memory,uint256,int256) pure returns (uint256)"}},"id":134213,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"41501:109:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"41477:133:178"},{"expression":{"id":134228,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"expression":{"id":134215,"name":"internal_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134154,"src":"41621:9:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxShortInternal_$134139_memory_ptr","typeString":"struct HyperdriveUtils.MaxShortInternal memory"}},"id":134217,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"41631:8:178","memberName":"solvency","nodeType":"MemberAccess","referencedDeclaration":134134,"src":"41621:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134218,"name":"internal_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134154,"src":"41641:9:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxShortInternal_$134139_memory_ptr","typeString":"struct HyperdriveUtils.MaxShortInternal memory"}},"id":134219,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"41651:7:178","memberName":"success","nodeType":"MemberAccess","referencedDeclaration":134138,"src":"41641:17:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":134220,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"41620:39:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":134222,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134143,"src":"41703:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},{"id":134223,"name":"maxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134208,"src":"41724:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134224,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134157,"src":"41751:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134225,"name":"spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134167,"src":"41787:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134226,"name":"_checkpointExposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134145,"src":"41810:19:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":134221,"name":"calculateSolvencyAfterShort","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134599,"src":"41662:27:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_MaxTradeParams_$133191_memory_ptr_$_t_uint256_$_t_uint256_$_t_uint256_$_t_int256_$returns$_t_uint256_$_t_bool_$","typeString":"function (struct HyperdriveUtils.MaxTradeParams memory,uint256,uint256,uint256,int256) pure returns (uint256,bool)"}},"id":134227,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"41662:177:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"src":"41620:219:178","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":134229,"nodeType":"ExpressionStatement","src":"41620:219:178"},{"expression":{"arguments":[{"expression":{"id":134231,"name":"internal_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134154,"src":"41870:9:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxShortInternal_$134139_memory_ptr","typeString":"struct HyperdriveUtils.MaxShortInternal memory"}},"id":134232,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"41880:7:178","memberName":"success","nodeType":"MemberAccess","referencedDeclaration":134138,"src":"41870:17:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e697469616c20677565737320696e206063616c63756c6174654d617853686f72746020697320696e736f6c76656e74","id":134233,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"41901:51:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_69d37a589c0b0e15423d2257480eeb8ca78f6563e04484f780925f7fdf966b65","typeString":"literal_string \"Initial guess in `calculateMaxShort` is insolvent\""},"value":"Initial guess in `calculateMaxShort` is insolvent"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_69d37a589c0b0e15423d2257480eeb8ca78f6563e04484f780925f7fdf966b65","typeString":"literal_string \"Initial guess in `calculateMaxShort` is insolvent\""}],"id":134230,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"41849:7:178","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":134234,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"41849:113:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":134235,"nodeType":"ExpressionStatement","src":"41849:113:178"},{"body":{"id":134308,"nodeType":"Block","src":"42017:1674:178","statements":[{"expression":{"id":134258,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"expression":{"id":134246,"name":"internal_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134154,"src":"42520:9:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxShortInternal_$134139_memory_ptr","typeString":"struct HyperdriveUtils.MaxShortInternal memory"}},"id":134248,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"42530:10:178","memberName":"derivative","nodeType":"MemberAccess","referencedDeclaration":134136,"src":"42520:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134249,"name":"internal_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134154,"src":"42558:9:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxShortInternal_$134139_memory_ptr","typeString":"struct HyperdriveUtils.MaxShortInternal memory"}},"id":134250,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"42568:7:178","memberName":"success","nodeType":"MemberAccess","referencedDeclaration":134138,"src":"42558:17:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":134251,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"42502:87:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":134253,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134143,"src":"42647:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},{"id":134254,"name":"maxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134208,"src":"42672:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134255,"name":"spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134167,"src":"42703:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134256,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134157,"src":"42730:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":134252,"name":"calculateSolvencyAfterShortDerivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134661,"src":"42592:37:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_MaxTradeParams_$133191_memory_ptr_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$_t_bool_$","typeString":"function (struct HyperdriveUtils.MaxTradeParams memory,uint256,uint256,uint256) pure returns (uint256,bool)"}},"id":134257,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"42592:174:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"src":"42502:264:178","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":134259,"nodeType":"ExpressionStatement","src":"42502:264:178"},{"condition":{"id":134262,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"42784:18:178","subExpression":{"expression":{"id":134260,"name":"internal_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134154,"src":"42785:9:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxShortInternal_$134139_memory_ptr","typeString":"struct HyperdriveUtils.MaxShortInternal memory"}},"id":134261,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"42795:7:178","memberName":"success","nodeType":"MemberAccess","referencedDeclaration":134138,"src":"42785:17:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":134265,"nodeType":"IfStatement","src":"42780:62:178","trueBody":{"id":134264,"nodeType":"Block","src":"42804:38:178","statements":[{"id":134263,"nodeType":"Break","src":"42822:5:178"}]}},{"assignments":[134267],"declarations":[{"constant":false,"id":134267,"mutability":"mutable","name":"possibleMaxBondAmount","nameLocation":"42863:21:178","nodeType":"VariableDeclaration","scope":134308,"src":"42855:29:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134266,"name":"uint256","nodeType":"ElementaryTypeName","src":"42855:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134276,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134275,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134268,"name":"maxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134208,"src":"42887:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"expression":{"id":134272,"name":"internal_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134154,"src":"42946:9:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxShortInternal_$134139_memory_ptr","typeString":"struct HyperdriveUtils.MaxShortInternal memory"}},"id":134273,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"42956:10:178","memberName":"derivative","nodeType":"MemberAccess","referencedDeclaration":134136,"src":"42946:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":134269,"name":"internal_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134154,"src":"42919:9:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxShortInternal_$134139_memory_ptr","typeString":"struct HyperdriveUtils.MaxShortInternal memory"}},"id":134270,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"42929:8:178","memberName":"solvency","nodeType":"MemberAccess","referencedDeclaration":134134,"src":"42919:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134271,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"42938:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"42919:26:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134274,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"42919:48:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"42887:80:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"42855:112:178"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134279,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134277,"name":"possibleMaxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134267,"src":"42985:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":134278,"name":"absoluteMaxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134180,"src":"43009:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"42985:45:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":134282,"nodeType":"IfStatement","src":"42981:89:178","trueBody":{"id":134281,"nodeType":"Block","src":"43032:38:178","statements":[{"id":134280,"nodeType":"Break","src":"43050:5:178"}]}},{"expression":{"id":134296,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"expression":{"id":134283,"name":"internal_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134154,"src":"43251:9:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxShortInternal_$134139_memory_ptr","typeString":"struct HyperdriveUtils.MaxShortInternal memory"}},"id":134285,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"43261:8:178","memberName":"solvency","nodeType":"MemberAccess","referencedDeclaration":134134,"src":"43251:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134286,"name":"internal_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134154,"src":"43287:9:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxShortInternal_$134139_memory_ptr","typeString":"struct HyperdriveUtils.MaxShortInternal memory"}},"id":134287,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"43297:7:178","memberName":"success","nodeType":"MemberAccess","referencedDeclaration":134138,"src":"43287:17:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":134288,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"43233:85:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":134290,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134143,"src":"43366:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},{"id":134291,"name":"possibleMaxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134267,"src":"43391:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134292,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134157,"src":"43430:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134293,"name":"spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134167,"src":"43470:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134294,"name":"_checkpointExposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134145,"src":"43497:19:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":134289,"name":"calculateSolvencyAfterShort","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134599,"src":"43321:27:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_MaxTradeParams_$133191_memory_ptr_$_t_uint256_$_t_uint256_$_t_uint256_$_t_int256_$returns$_t_uint256_$_t_bool_$","typeString":"function (struct HyperdriveUtils.MaxTradeParams memory,uint256,uint256,uint256,int256) pure returns (uint256,bool)"}},"id":134295,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"43321:209:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"src":"43233:297:178","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":134297,"nodeType":"ExpressionStatement","src":"43233:297:178"},{"condition":{"expression":{"id":134298,"name":"internal_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134154,"src":"43548:9:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxShortInternal_$134139_memory_ptr","typeString":"struct HyperdriveUtils.MaxShortInternal memory"}},"id":134299,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"43558:7:178","memberName":"success","nodeType":"MemberAccess","referencedDeclaration":134138,"src":"43548:17:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":134306,"nodeType":"Block","src":"43643:38:178","statements":[{"id":134305,"nodeType":"Break","src":"43661:5:178"}]},"id":134307,"nodeType":"IfStatement","src":"43544:137:178","trueBody":{"id":134304,"nodeType":"Block","src":"43567:70:178","statements":[{"expression":{"id":134302,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":134300,"name":"maxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134208,"src":"43585:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":134301,"name":"possibleMaxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134267,"src":"43601:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"43585:37:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134303,"nodeType":"ExpressionStatement","src":"43585:37:178"}]}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134242,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134240,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134237,"src":"41992:1:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":134241,"name":"_maxIterations","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134147,"src":"41996:14:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"41992:18:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":134309,"initializationExpression":{"assignments":[134237],"declarations":[{"constant":false,"id":134237,"mutability":"mutable","name":"i","nameLocation":"41985:1:178","nodeType":"VariableDeclaration","scope":134309,"src":"41977:9:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134236,"name":"uint256","nodeType":"ElementaryTypeName","src":"41977:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134239,"initialValue":{"hexValue":"30","id":134238,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"41989:1:178","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"41977:13:178"},"loopExpression":{"expression":{"id":134244,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"42012:3:178","subExpression":{"id":134243,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134237,"src":"42014:1:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134245,"nodeType":"ExpressionStatement","src":"42012:3:178"},"nodeType":"ForStatement","src":"41972:1719:178"},{"expression":{"id":134310,"name":"maxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134208,"src":"43708:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":134151,"id":134311,"nodeType":"Return","src":"43701:20:178"}]},"documentation":{"id":134140,"nodeType":"StructuredDocumentation","src":"38959:277:178","text":"@dev Gets the absolute max short that can be opened without violating\n      the pool's solvency constraints.\n @param _checkpointExposure The long exposure in the current checkpoint.\n @return The maximum amount of shares that can be used to open shorts."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateMaxShort","nameLocation":"39250:17:178","parameters":{"id":134148,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134143,"mutability":"mutable","name":"_params","nameLocation":"39299:7:178","nodeType":"VariableDeclaration","scope":134313,"src":"39277:29:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"},"typeName":{"id":134142,"nodeType":"UserDefinedTypeName","pathNode":{"id":134141,"name":"MaxTradeParams","nameLocations":["39277:14:178"],"nodeType":"IdentifierPath","referencedDeclaration":133191,"src":"39277:14:178"},"referencedDeclaration":133191,"src":"39277:14:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_storage_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"}},"visibility":"internal"},{"constant":false,"id":134145,"mutability":"mutable","name":"_checkpointExposure","nameLocation":"39323:19:178","nodeType":"VariableDeclaration","scope":134313,"src":"39316:26:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":134144,"name":"int256","nodeType":"ElementaryTypeName","src":"39316:6:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":134147,"mutability":"mutable","name":"_maxIterations","nameLocation":"39360:14:178","nodeType":"VariableDeclaration","scope":134313,"src":"39352:22:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134146,"name":"uint256","nodeType":"ElementaryTypeName","src":"39352:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"39267:113:178"},"returnParameters":{"id":134151,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134150,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":134313,"src":"39404:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134149,"name":"uint256","nodeType":"ElementaryTypeName","src":"39404:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"39403:9:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":134408,"nodeType":"FunctionDefinition","src":"44153:2020:178","nodes":[],"body":{"id":134407,"nodeType":"Block","src":"44308:1865:178","nodes":[],"statements":[{"assignments":[134325],"declarations":[{"constant":false,"id":134325,"mutability":"mutable","name":"optimalShareReserves","nameLocation":"44744:20:178","nodeType":"VariableDeclaration","scope":134407,"src":"44736:28:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134324,"name":"uint256","nodeType":"ElementaryTypeName","src":"44736:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134344,"initialValue":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":134341,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":134334,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134317,"src":"44846:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134335,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"44854:15:178","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":133170,"src":"44846:23:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"expression":{"id":134338,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134317,"src":"44879:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134339,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"44887:20:178","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":133184,"src":"44879:28:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":134337,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"44872:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":134336,"name":"int256","nodeType":"ElementaryTypeName","src":"44872:6:178","typeDescriptions":{}}},"id":134340,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"44872:36:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"44846:62:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"arguments":[{"expression":{"id":134330,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134317,"src":"44795:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134331,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"44803:20:178","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":133184,"src":"44795:28:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":134329,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"44788:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":134328,"name":"int256","nodeType":"ElementaryTypeName","src":"44788:6:178","typeDescriptions":{}}},"id":134332,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"44788:36:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":134333,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"44825:3:178","memberName":"max","nodeType":"MemberAccess","referencedDeclaration":12292,"src":"44788:40:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$attached_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":134342,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"44788:134:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":134327,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"44767:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":134326,"name":"uint256","nodeType":"ElementaryTypeName","src":"44767:7:178","typeDescriptions":{}}},"id":134343,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"44767:165:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"44736:196:178"},{"assignments":[134346],"declarations":[{"constant":false,"id":134346,"mutability":"mutable","name":"k_","nameLocation":"45344:2:178","nodeType":"VariableDeclaration","scope":134407,"src":"45336:10:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134345,"name":"uint256","nodeType":"ElementaryTypeName","src":"45336:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134361,"initialValue":{"arguments":[{"id":134349,"name":"_effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134319,"src":"45383:23:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134350,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134317,"src":"45420:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134351,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"45428:12:178","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":133172,"src":"45420:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134355,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134352,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"45454:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":134353,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134317,"src":"45460:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134354,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"45468:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"45460:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"45454:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134356,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134317,"src":"45493:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134357,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"45501:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"45493:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134358,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134317,"src":"45525:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134359,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"45533:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":133182,"src":"45525:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134347,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16293,"src":"45349:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_YieldSpaceMath_$16293_$","typeString":"type(library YieldSpaceMath)"}},"id":134348,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"45364:5:178","memberName":"kDown","nodeType":"MemberAccess","referencedDeclaration":16292,"src":"45349:20:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":134360,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"45349:211:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"45336:224:178"},{"assignments":[134363],"declarations":[{"constant":false,"id":134363,"mutability":"mutable","name":"optimalBondReserves","nameLocation":"45578:19:178","nodeType":"VariableDeclaration","scope":134407,"src":"45570:27:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134362,"name":"uint256","nodeType":"ElementaryTypeName","src":"45570:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134401,"initialValue":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134398,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134395,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"46079:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":134396,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134317,"src":"46085:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134397,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"46093:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"46085:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"46079:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134393,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"46069:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134394,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"46073:5:178","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":11627,"src":"46069:9:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134399,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"46069:36:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134390,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134364,"name":"k_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134346,"src":"45601:2:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134387,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134384,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"46023:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":134385,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134317,"src":"46029:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134386,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"46037:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"46029:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"46023:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"arguments":[{"id":134378,"name":"optimalShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134325,"src":"45876:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134379,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134317,"src":"45926:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134380,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"45934:15:178","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":133170,"src":"45926:23:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":134376,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12857,"src":"45800:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$12857_$","typeString":"type(library HyperdriveMath)"}},"id":134377,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"45815:31:178","memberName":"calculateEffectiveShareReserves","nodeType":"MemberAccess","referencedDeclaration":12409,"src":"45800:46:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$returns$_t_uint256_$","typeString":"function (uint256,int256) pure returns (uint256)"}},"id":134381,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"45800:175:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":134373,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134317,"src":"45699:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134374,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"45728:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":133182,"src":"45699:46:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134375,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"45767:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"45699:75:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134382,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"45699:298:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134383,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"46019:3:178","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":11686,"src":"45699:323:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134388,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"45699:350:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"arguments":[{"expression":{"id":134368,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134317,"src":"45646:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134369,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"45654:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":133182,"src":"45646:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":134365,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134317,"src":"45619:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134366,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"45627:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"45619:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134367,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"45638:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"45619:26:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134370,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"45619:53:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":134371,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"45618:55:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134372,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"45674:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"45618:63:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134389,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"45618:445:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"45601:462:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":134391,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"45600:464:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134392,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"46065:3:178","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":11686,"src":"45600:468:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134400,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"45600:506:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"45570:536:178"},{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134405,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134402,"name":"optimalBondReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134363,"src":"46124:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":134403,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134317,"src":"46146:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134404,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"46154:12:178","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":133172,"src":"46146:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"46124:42:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":134323,"id":134406,"nodeType":"Return","src":"46117:49:178"}]},"documentation":{"id":134314,"nodeType":"StructuredDocumentation","src":"43734:414:178","text":"@dev Calculates the max short that can be opened on the YieldSpace curve\n      without considering solvency constraints.\n @param _params Information about the market state and pool configuration\n        used to compute the maximum trade.\n @param _effectiveShareReserves The effective share reserves.\n @return The max short YieldSpace can support without considering solvency."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateMaxShortUpperBound","nameLocation":"44162:27:178","parameters":{"id":134320,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134317,"mutability":"mutable","name":"_params","nameLocation":"44221:7:178","nodeType":"VariableDeclaration","scope":134408,"src":"44199:29:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"},"typeName":{"id":134316,"nodeType":"UserDefinedTypeName","pathNode":{"id":134315,"name":"MaxTradeParams","nameLocations":["44199:14:178"],"nodeType":"IdentifierPath","referencedDeclaration":133191,"src":"44199:14:178"},"referencedDeclaration":133191,"src":"44199:14:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_storage_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"}},"visibility":"internal"},{"constant":false,"id":134319,"mutability":"mutable","name":"_effectiveShareReserves","nameLocation":"44246:23:178","nodeType":"VariableDeclaration","scope":134408,"src":"44238:31:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134318,"name":"uint256","nodeType":"ElementaryTypeName","src":"44238:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"44189:86:178"},"returnParameters":{"id":134323,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134322,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":134408,"src":"44299:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134321,"name":"uint256","nodeType":"ElementaryTypeName","src":"44299:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"44298:9:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":134482,"nodeType":"FunctionDefinition","src":"47630:851:178","nodes":[],"body":{"id":134481,"nodeType":"Block","src":"47803:678:178","nodes":[],"statements":[{"assignments":[134422],"declarations":[{"constant":false,"id":134422,"mutability":"mutable","name":"estimatePrice","nameLocation":"47821:13:178","nodeType":"VariableDeclaration","scope":134481,"src":"47813:21:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134421,"name":"uint256","nodeType":"ElementaryTypeName","src":"47813:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134424,"initialValue":{"id":134423,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134414,"src":"47837:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"47813:34:178"},{"assignments":[134426],"declarations":[{"constant":false,"id":134426,"mutability":"mutable","name":"guess","nameLocation":"47865:5:178","nodeType":"VariableDeclaration","scope":134481,"src":"47857:13:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134425,"name":"uint256","nodeType":"ElementaryTypeName","src":"47857:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134455,"initialValue":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134453,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134450,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134443,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":134430,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134412,"src":"47913:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134431,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"47921:13:178","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":133168,"src":"47913:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"expression":{"id":134440,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134412,"src":"48018:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134441,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"48026:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"48018:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"arguments":[{"hexValue":"30","id":134436,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"47985:1:178","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"expression":{"id":134434,"name":"_checkpointExposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134416,"src":"47961:19:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":134435,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"47981:3:178","memberName":"max","nodeType":"MemberAccess","referencedDeclaration":12292,"src":"47961:23:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$attached_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":134437,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"47961:26:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":134433,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"47953:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":134432,"name":"uint256","nodeType":"ElementaryTypeName","src":"47953:7:178","typeDescriptions":{}}},"id":134438,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"47953:35:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134439,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"47989:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"47953:43:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134442,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"47953:101:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"47913:141:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"expression":{"id":134447,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134412,"src":"48102:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134448,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"48110:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"48102:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":134444,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134412,"src":"48073:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134445,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"48081:12:178","memberName":"longExposure","nodeType":"MemberAccess","referencedDeclaration":133176,"src":"48073:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134446,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"48094:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"48073:28:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134449,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"48073:48:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"47913:208:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":134451,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134412,"src":"48140:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134452,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"48148:20:178","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":133184,"src":"48140:28:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"47913:255:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":134427,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134412,"src":"47873:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134428,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"47881:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"47873:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134429,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"47892:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"47873:26:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134454,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"47873:305:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"47857:321:178"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134478,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134466,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134458,"name":"estimatePrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134422,"src":"48238:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134464,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134462,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"48299:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":134463,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134414,"src":"48305:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"48299:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":134459,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134412,"src":"48274:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134460,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"48282:8:178","memberName":"curveFee","nodeType":"MemberAccess","referencedDeclaration":133186,"src":"48274:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134461,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"48291:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"48274:24:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134465,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"48274:42:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"48238:78:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134476,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134474,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"48422:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":134475,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134414,"src":"48428:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"48422:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"expression":{"id":134470,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134412,"src":"48371:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134471,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"48379:8:178","memberName":"curveFee","nodeType":"MemberAccess","referencedDeclaration":133186,"src":"48371:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":134467,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134412,"src":"48339:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134468,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"48347:15:178","memberName":"governanceLPFee","nodeType":"MemberAccess","referencedDeclaration":133190,"src":"48339:23:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134469,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"48363:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"48339:31:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134472,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"48339:49:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134473,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"48389:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"48339:57:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134477,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"48339:121:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"48238:222:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134456,"name":"guess","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134426,"src":"48207:5:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134457,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"48213:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"48207:13:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134479,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"48207:267:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":134420,"id":134480,"nodeType":"Return","src":"48188:286:178"}]},"documentation":{"id":134409,"nodeType":"StructuredDocumentation","src":"46179:1446:178","text":"@dev Gets an initial guess for the absolute max short. This is a\n      conservative guess that will be less than the true absolute max\n      short, which is what we need to start Newton's method.\n      To calculate our guess, we assume an unrealistically good realized\n      price $p_r$ for opening the short. This allows us to approximate\n      $P(x) \\approx \\tfrac{1}{c} \\cdot p_r \\cdot x$. Plugging this\n      into our solvency function $s(x)$, we get an approximation of our\n      solvency as:\n      $$\n      S(x) \\approx (z_0 - \\tfrac{1}{c} \\cdot (\n                       p_r - \\phi_{c} \\cdot (1 - p) + \\phi_{g} \\cdot \\phi_{c} \\cdot (1 - p)\n                   ) \\cdot x) - \\tfrac{e_0 - max(e_{c}, 0)}{c} - z_{min}\n      $$\n      Setting this equal to zero, we can solve for our initial guess:\n      $$\n      x = \\frac{c \\cdot (s_0 + \\tfrac{max(e_{c}, 0)}{c})}{\n              p_r - \\phi_{c} \\cdot (1 - p) + \\phi_{g} \\cdot \\phi_{c} \\cdot (1 - p)\n          }\n      $$\n @param _params Information about the market state and pool configuration\n        used to compute the maximum trade.\n @param _spotPrice The spot price.\n @param _checkpointExposure The exposure from the current checkpoint.\n @return The initial guess for the max short calculation."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateMaxShortGuess","nameLocation":"47639:22:178","parameters":{"id":134417,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134412,"mutability":"mutable","name":"_params","nameLocation":"47693:7:178","nodeType":"VariableDeclaration","scope":134482,"src":"47671:29:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"},"typeName":{"id":134411,"nodeType":"UserDefinedTypeName","pathNode":{"id":134410,"name":"MaxTradeParams","nameLocations":["47671:14:178"],"nodeType":"IdentifierPath","referencedDeclaration":133191,"src":"47671:14:178"},"referencedDeclaration":133191,"src":"47671:14:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_storage_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"}},"visibility":"internal"},{"constant":false,"id":134414,"mutability":"mutable","name":"_spotPrice","nameLocation":"47718:10:178","nodeType":"VariableDeclaration","scope":134482,"src":"47710:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134413,"name":"uint256","nodeType":"ElementaryTypeName","src":"47710:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134416,"mutability":"mutable","name":"_checkpointExposure","nameLocation":"47745:19:178","nodeType":"VariableDeclaration","scope":134482,"src":"47738:26:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":134415,"name":"int256","nodeType":"ElementaryTypeName","src":"47738:6:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"47661:109:178"},"returnParameters":{"id":134420,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134419,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":134482,"src":"47794:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134418,"name":"uint256","nodeType":"ElementaryTypeName","src":"47794:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"47793:9:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":134599,"nodeType":"FunctionDefinition","src":"50244:1891:178","nodes":[],"body":{"id":134598,"nodeType":"Block","src":"50499:1636:178","nodes":[],"statements":[{"assignments":[134502,134504],"declarations":[{"constant":false,"id":134502,"mutability":"mutable","name":"shareAmount","nameLocation":"50754:11:178","nodeType":"VariableDeclaration","scope":134598,"src":"50746:19:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134501,"name":"uint256","nodeType":"ElementaryTypeName","src":"50746:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134504,"mutability":"mutable","name":"success","nameLocation":"50772:7:178","nodeType":"VariableDeclaration","scope":134598,"src":"50767:12:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":134503,"name":"bool","nodeType":"ElementaryTypeName","src":"50767:4:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":134520,"initialValue":{"arguments":[{"id":134507,"name":"_effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134490,"src":"50867:23:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134508,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134486,"src":"50908:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134509,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"50916:12:178","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":133172,"src":"50908:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134510,"name":"_shortAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134488,"src":"50946:12:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134514,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134511,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"50976:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":134512,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134486,"src":"50982:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134513,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"50990:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"50982:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"50976:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134515,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134486,"src":"51019:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134516,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51027:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"51019:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134517,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134486,"src":"51055:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134518,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51063:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":133182,"src":"51055:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134505,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16293,"src":"50783:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_YieldSpaceMath_$16293_$","typeString":"type(library YieldSpaceMath)"}},"id":134506,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"50811:38:178","memberName":"calculateSharesOutGivenBondsInDownSafe","nodeType":"MemberAccess","referencedDeclaration":15966,"src":"50783:66:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$_t_bool_$","typeString":"function (uint256,uint256,uint256,uint256,uint256,uint256) pure returns (uint256,bool)"}},"id":134519,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"50783:311:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"nodeType":"VariableDeclarationStatement","src":"50745:349:178"},{"condition":{"id":134522,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"51108:8:178","subExpression":{"id":134521,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134504,"src":"51109:7:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":134528,"nodeType":"IfStatement","src":"51104:56:178","trueBody":{"id":134527,"nodeType":"Block","src":"51118:42:178","statements":[{"expression":{"components":[{"hexValue":"30","id":134523,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"51140:1:178","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"66616c7365","id":134524,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"51143:5:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"id":134525,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"51139:10:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_bool_$","typeString":"tuple(int_const 0,bool)"}},"functionReturnParameters":134500,"id":134526,"nodeType":"Return","src":"51132:17:178"}]}},{"assignments":[134530],"declarations":[{"constant":false,"id":134530,"mutability":"mutable","name":"shareReserves","nameLocation":"51244:13:178","nodeType":"VariableDeclaration","scope":134598,"src":"51236:21:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134529,"name":"uint256","nodeType":"ElementaryTypeName","src":"51236:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134557,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134556,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":134531,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134486,"src":"51260:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134532,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51268:13:178","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":133168,"src":"51260:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134554,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134533,"name":"shareAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134502,"src":"51297:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"expression":{"id":134551,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134486,"src":"51719:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134552,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51727:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"51719:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134548,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":134535,"name":"_shortAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134488,"src":"51372:12:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134536,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134492,"src":"51406:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134537,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134486,"src":"51438:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134538,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51446:8:178","memberName":"curveFee","nodeType":"MemberAccess","referencedDeclaration":133186,"src":"51438:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":134534,"name":"calculateShortCurveFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134773,"src":"51328:22:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":134539,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"51328:144:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"id":134541,"name":"_shortAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134488,"src":"51548:12:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134542,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134492,"src":"51586:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134543,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134486,"src":"51622:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134544,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51630:8:178","memberName":"curveFee","nodeType":"MemberAccess","referencedDeclaration":133186,"src":"51622:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134545,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134486,"src":"51664:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134546,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51672:15:178","memberName":"governanceLPFee","nodeType":"MemberAccess","referencedDeclaration":133190,"src":"51664:23:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":134540,"name":"calculateShortGovernanceFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134797,"src":"51495:27:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":134547,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"51495:214:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"51328:381:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":134549,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"51327:383:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134550,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"51711:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"51327:391:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134553,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"51327:411:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"51297:441:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":134555,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"51296:443:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"51260:479:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"51236:503:178"},{"assignments":[134559],"declarations":[{"constant":false,"id":134559,"mutability":"mutable","name":"exposure","nameLocation":"51757:8:178","nodeType":"VariableDeclaration","scope":134598,"src":"51749:16:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134558,"name":"uint256","nodeType":"ElementaryTypeName","src":"51749:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134575,"initialValue":{"arguments":[{"expression":{"id":134572,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134486,"src":"51849:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134573,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51857:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"51849:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134569,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":134560,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134486,"src":"51769:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134561,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51777:12:178","memberName":"longExposure","nodeType":"MemberAccess","referencedDeclaration":133176,"src":"51769:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"arguments":[{"hexValue":"30","id":134566,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"51836:1:178","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"expression":{"id":134564,"name":"_checkpointExposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134494,"src":"51812:19:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":134565,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"51832:3:178","memberName":"max","nodeType":"MemberAccess","referencedDeclaration":12292,"src":"51812:23:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$attached_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":134567,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"51812:26:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":134563,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"51804:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":134562,"name":"uint256","nodeType":"ElementaryTypeName","src":"51804:7:178","typeDescriptions":{}}},"id":134568,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"51804:35:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"51769:70:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":134570,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"51768:72:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134571,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"51841:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"51768:80:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134574,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"51768:100:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"51749:119:178"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134581,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134576,"name":"shareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134530,"src":"51882:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134580,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134577,"name":"exposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134559,"src":"51899:8:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"expression":{"id":134578,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134486,"src":"51910:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134579,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51918:20:178","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":133184,"src":"51910:28:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"51899:39:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"51882:56:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":134596,"nodeType":"Block","src":"52087:42:178","statements":[{"expression":{"components":[{"hexValue":"30","id":134592,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"52109:1:178","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"66616c7365","id":134593,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"52112:5:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"id":134594,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"52108:10:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_bool_$","typeString":"tuple(int_const 0,bool)"}},"functionReturnParameters":134500,"id":134595,"nodeType":"Return","src":"52101:17:178"}]},"id":134597,"nodeType":"IfStatement","src":"51878:251:178","trueBody":{"id":134591,"nodeType":"Block","src":"51940:141:178","statements":[{"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134587,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134584,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134582,"name":"shareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134530,"src":"51979:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":134583,"name":"exposure","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134559,"src":"51995:8:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"51979:24:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":134585,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134486,"src":"52006:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134586,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"52014:20:178","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":133184,"src":"52006:28:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"51979:55:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":134588,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"52052:4:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"id":134589,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"51961:109:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"functionReturnParameters":134500,"id":134590,"nodeType":"Return","src":"51954:116:178"}]}}]},"documentation":{"id":134483,"nodeType":"StructuredDocumentation","src":"48487:1752:178","text":"@dev Gets the pool's solvency after opening a short.\n      We can express the pool's solvency after opening a short of $x$\n      bonds as:\n      $$\n      s(x) = z(x) - \\tfrac{e(x)}{c} - z_{min}\n      $$\n      where $z(x)$ represents the pool's share reserves after opening the\n      short:\n      $$\n      z(x) = z_0 - \\left(\n                 P(x) - \\left( \\tfrac{c(x)}{c} - \\tfrac{g(x)}{c} \\right)\n             \\right)\n      $$\n      and $e(x)$ represents the pool's exposure after opening the short:\n      $$\n      e(x) = e_0 - min(x, max(e_{c}, 0))\n      $$\n      We simplify our $e(x)$ formula by noting that the max short is only\n      constrained by solvency when $x > max(e_{c}, 0)$ since $x$ grows\n      faster than\n      $P(x) - \\tfrac{\\phi_{c}}{c} \\cdot \\left( 1 - p \\right) \\cdot x$.\n      With this in mind, $min(x, max(e_{c}, 0)) = max(e_{c}, 0)$\n      whenever solvency is actually a constraint, so we can write:\n      $$\n      e(x) = e_0 - max(e_{c}, 0)\n      $$\n @param _params Information about the market state and pool configuration\n        used to compute the maximum trade.\n @param _shortAmount The short amount.\n @param _effectiveShareReserves The effective share reserves.\n @param _spotPrice The spot price.\n @param _checkpointExposure The exposure in the current checkpoint.\n @return The pool's solvency after a short is opened.\n @return A flag indicating whether or not the derivative was\n         successfully calculated."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateSolvencyAfterShort","nameLocation":"50253:27:178","parameters":{"id":134495,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134486,"mutability":"mutable","name":"_params","nameLocation":"50312:7:178","nodeType":"VariableDeclaration","scope":134599,"src":"50290:29:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"},"typeName":{"id":134485,"nodeType":"UserDefinedTypeName","pathNode":{"id":134484,"name":"MaxTradeParams","nameLocations":["50290:14:178"],"nodeType":"IdentifierPath","referencedDeclaration":133191,"src":"50290:14:178"},"referencedDeclaration":133191,"src":"50290:14:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_storage_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"}},"visibility":"internal"},{"constant":false,"id":134488,"mutability":"mutable","name":"_shortAmount","nameLocation":"50337:12:178","nodeType":"VariableDeclaration","scope":134599,"src":"50329:20:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134487,"name":"uint256","nodeType":"ElementaryTypeName","src":"50329:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134490,"mutability":"mutable","name":"_effectiveShareReserves","nameLocation":"50367:23:178","nodeType":"VariableDeclaration","scope":134599,"src":"50359:31:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134489,"name":"uint256","nodeType":"ElementaryTypeName","src":"50359:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134492,"mutability":"mutable","name":"_spotPrice","nameLocation":"50408:10:178","nodeType":"VariableDeclaration","scope":134599,"src":"50400:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134491,"name":"uint256","nodeType":"ElementaryTypeName","src":"50400:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134494,"mutability":"mutable","name":"_checkpointExposure","nameLocation":"50435:19:178","nodeType":"VariableDeclaration","scope":134599,"src":"50428:26:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":134493,"name":"int256","nodeType":"ElementaryTypeName","src":"50428:6:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"50280:180:178"},"returnParameters":{"id":134500,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134497,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":134599,"src":"50484:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134496,"name":"uint256","nodeType":"ElementaryTypeName","src":"50484:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134499,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":134599,"src":"50493:4:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":134498,"name":"bool","nodeType":"ElementaryTypeName","src":"50493:4:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"50483:15:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":134661,"nodeType":"FunctionDefinition","src":"53019:694:178","nodes":[],"body":{"id":134660,"nodeType":"Block","src":"53248:465:178","nodes":[],"statements":[{"assignments":[134617],"declarations":[{"constant":false,"id":134617,"mutability":"mutable","name":"lhs","nameLocation":"53266:3:178","nodeType":"VariableDeclaration","scope":134660,"src":"53258:11:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134616,"name":"uint256","nodeType":"ElementaryTypeName","src":"53258:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134623,"initialValue":{"arguments":[{"id":134619,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134603,"src":"53319:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},{"id":134620,"name":"_shortAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134605,"src":"53340:12:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134621,"name":"_effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134609,"src":"53366:23:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":134618,"name":"calculateShortPrincipalDerivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134750,"src":"53272:33:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_MaxTradeParams_$133191_memory_ptr_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (struct HyperdriveUtils.MaxTradeParams memory,uint256,uint256) pure returns (uint256)"}},"id":134622,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"53272:127:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"53258:141:178"},{"assignments":[134625],"declarations":[{"constant":false,"id":134625,"mutability":"mutable","name":"rhs","nameLocation":"53417:3:178","nodeType":"VariableDeclaration","scope":134660,"src":"53409:11:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134624,"name":"uint256","nodeType":"ElementaryTypeName","src":"53409:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134643,"initialValue":{"arguments":[{"expression":{"id":134640,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134603,"src":"53565:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134641,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"53573:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"53565:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134637,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134634,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"53513:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":134635,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134603,"src":"53519:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134636,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"53527:15:178","memberName":"governanceLPFee","nodeType":"MemberAccess","referencedDeclaration":133190,"src":"53519:23:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"53513:29:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134631,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134629,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"53474:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":134630,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134607,"src":"53480:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"53474:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":134626,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134603,"src":"53423:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134627,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"53444:8:178","memberName":"curveFee","nodeType":"MemberAccess","referencedDeclaration":133186,"src":"53423:29:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134628,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"53466:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"53423:50:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134632,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"53423:68:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134633,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"53505:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"53423:89:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134638,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"53423:120:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134639,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"53557:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"53423:141:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134642,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"53423:161:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"53409:175:178"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134646,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134644,"name":"lhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134617,"src":"53598:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":134645,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134625,"src":"53605:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"53598:10:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":134658,"nodeType":"Block","src":"53665:42:178","statements":[{"expression":{"components":[{"hexValue":"30","id":134654,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"53687:1:178","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"66616c7365","id":134655,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"53690:5:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"id":134656,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"53686:10:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_bool_$","typeString":"tuple(int_const 0,bool)"}},"functionReturnParameters":134615,"id":134657,"nodeType":"Return","src":"53679:17:178"}]},"id":134659,"nodeType":"IfStatement","src":"53594:113:178","trueBody":{"id":134653,"nodeType":"Block","src":"53610:49:178","statements":[{"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134649,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134647,"name":"lhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134617,"src":"53632:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":134648,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134625,"src":"53638:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"53632:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":134650,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"53643:4:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"id":134651,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"53631:17:178","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"functionReturnParameters":134615,"id":134652,"nodeType":"Return","src":"53624:24:178"}]}}]},"documentation":{"id":134600,"nodeType":"StructuredDocumentation","src":"52141:873:178","text":"@dev Gets the derivative of the pool's solvency w.r.t. the short amount.\n      The derivative is calculated as:\n      \\begin{aligned}\n      s'(x) &= z'(x) - 0 - 0\n            &= 0 - \\left( P'(x) - \\frac{(c'(x) - g'(x))}{c} \\right)\n            &= -P'(x) + \\frac{\n                   \\phi_{c} \\cdot (1 - p) \\cdot (1 - \\phi_{g})\n               }{c}\n      \\end{aligned}\n      Since solvency decreases as the short amount increases, we negate\n      the derivative. This avoids issues with the fixed point library\n      which doesn't support negative values.\n @return The derivative of the solvency after short function w.r.t. the\n         bond amount.\n @return A flag indicating whether or not the derivative was\n         successfully calculated."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateSolvencyAfterShortDerivative","nameLocation":"53028:37:178","parameters":{"id":134610,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134603,"mutability":"mutable","name":"_params","nameLocation":"53097:7:178","nodeType":"VariableDeclaration","scope":134661,"src":"53075:29:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"},"typeName":{"id":134602,"nodeType":"UserDefinedTypeName","pathNode":{"id":134601,"name":"MaxTradeParams","nameLocations":["53075:14:178"],"nodeType":"IdentifierPath","referencedDeclaration":133191,"src":"53075:14:178"},"referencedDeclaration":133191,"src":"53075:14:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_storage_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"}},"visibility":"internal"},{"constant":false,"id":134605,"mutability":"mutable","name":"_shortAmount","nameLocation":"53122:12:178","nodeType":"VariableDeclaration","scope":134661,"src":"53114:20:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134604,"name":"uint256","nodeType":"ElementaryTypeName","src":"53114:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134607,"mutability":"mutable","name":"_spotPrice","nameLocation":"53152:10:178","nodeType":"VariableDeclaration","scope":134661,"src":"53144:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134606,"name":"uint256","nodeType":"ElementaryTypeName","src":"53144:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134609,"mutability":"mutable","name":"_effectiveShareReserves","nameLocation":"53180:23:178","nodeType":"VariableDeclaration","scope":134661,"src":"53172:31:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134608,"name":"uint256","nodeType":"ElementaryTypeName","src":"53172:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"53065:144:178"},"returnParameters":{"id":134615,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134612,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":134661,"src":"53233:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134611,"name":"uint256","nodeType":"ElementaryTypeName","src":"53233:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134614,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":134661,"src":"53242:4:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":134613,"name":"bool","nodeType":"ElementaryTypeName","src":"53242:4:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"53232:15:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":134750,"nodeType":"FunctionDefinition","src":"54380:1008:178","nodes":[],"body":{"id":134749,"nodeType":"Block","src":"54571:817:178","nodes":[],"statements":[{"assignments":[134675],"declarations":[{"constant":false,"id":134675,"mutability":"mutable","name":"k_","nameLocation":"54589:2:178","nodeType":"VariableDeclaration","scope":134749,"src":"54581:10:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134674,"name":"uint256","nodeType":"ElementaryTypeName","src":"54581:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134690,"initialValue":{"arguments":[{"id":134678,"name":"_effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134669,"src":"54628:23:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134679,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134665,"src":"54665:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134680,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"54673:12:178","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":133172,"src":"54665:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134684,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134681,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"54699:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":134682,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134665,"src":"54705:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134683,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"54713:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"54705:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"54699:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134685,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134665,"src":"54738:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134686,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"54746:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"54738:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134687,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134665,"src":"54770:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134688,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"54778:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":133182,"src":"54770:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134676,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16293,"src":"54594:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_YieldSpaceMath_$16293_$","typeString":"type(library YieldSpaceMath)"}},"id":134677,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"54609:5:178","memberName":"kDown","nodeType":"MemberAccess","referencedDeclaration":16292,"src":"54594:20:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":134689,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"54594:211:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"54581:224:178"},{"assignments":[134692],"declarations":[{"constant":false,"id":134692,"mutability":"mutable","name":"lhs","nameLocation":"54823:3:178","nodeType":"VariableDeclaration","scope":134749,"src":"54815:11:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134691,"name":"uint256","nodeType":"ElementaryTypeName","src":"54815:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134709,"initialValue":{"arguments":[{"arguments":[{"arguments":[{"expression":{"id":134704,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134665,"src":"54938:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134705,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"54946:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"54938:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134701,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":134698,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134665,"src":"54897:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134699,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"54905:12:178","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":133172,"src":"54897:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":134700,"name":"_shortAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134667,"src":"54920:12:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"54897:35:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":134702,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"54896:37:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134703,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"54934:3:178","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":11686,"src":"54896:41:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134706,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"54896:62:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":134695,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134665,"src":"54854:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134696,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"54862:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"54854:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134697,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"54873:5:178","memberName":"mulUp","nodeType":"MemberAccess","referencedDeclaration":11609,"src":"54854:24:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134707,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"54854:118:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134693,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"54829:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134694,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"54833:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"54829:11:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134708,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"54829:153:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"54815:167:178"},{"assignments":[134711],"declarations":[{"constant":false,"id":134711,"mutability":"mutable","name":"rhs","nameLocation":"55000:3:178","nodeType":"VariableDeclaration","scope":134749,"src":"54992:11:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134710,"name":"uint256","nodeType":"ElementaryTypeName","src":"54992:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134743,"initialValue":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134740,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134737,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"55321:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":134738,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134665,"src":"55327:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134739,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55335:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"55327:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"55321:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":134734,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134665,"src":"55295:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134735,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55303:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"55295:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134736,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"55315:5:178","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":11627,"src":"55295:25:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134741,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"55295:52:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134731,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134719,"name":"k_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134675,"src":"55124:2:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134729,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134726,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"55216:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":134727,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134665,"src":"55222:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134728,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55230:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":133178,"src":"55222:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"55216:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134723,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":134720,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134665,"src":"55150:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134721,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55158:12:178","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":133172,"src":"55150:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":134722,"name":"_shortAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134667,"src":"55173:12:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"55150:35:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":134724,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"55149:37:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134725,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"55187:3:178","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":11686,"src":"55149:41:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134730,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"55149:114:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"55124:139:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"expression":{"id":134715,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134665,"src":"55066:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134716,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55074:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":133180,"src":"55066:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":134712,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134665,"src":"55006:7:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams memory"}},"id":134713,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55027:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":133182,"src":"55006:38:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134714,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"55058:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"55006:59:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134717,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"55006:79:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134718,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"55099:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"55006:100:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134732,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"55006:271:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134733,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"55291:3:178","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":11686,"src":"55006:288:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134742,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"55006:342:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"54992:356:178"},{"expression":{"arguments":[{"id":134746,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134711,"src":"55377:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134744,"name":"lhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134692,"src":"55365:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134745,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"55369:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"55365:11:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134747,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"55365:16:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":134673,"id":134748,"nodeType":"Return","src":"55358:23:178"}]},"documentation":{"id":134662,"nodeType":"StructuredDocumentation","src":"53719:656:178","text":"@dev Gets the derivative of the short principal $P(x)$ w.r.t. the amount\n      of bonds that are shorted $x$.\n      The derivative is calculated as:\n      $$\n      P'(x) = \\tfrac{1}{c} \\cdot (y + x)^{-t_s} \\cdot \\left(\n                  \\tfrac{\\mu}{c} \\cdot (k - (y + x)^{1 - t_s})\n              \\right)^{\\tfrac{t_s}{1 - t_s}}\n      $$\n @param _params The max long calculation parameters.\n @param _shortAmount The base amount.\n @param _effectiveShareReserves The effective share reserves.\n @return The derivative of the short principal w.r.t. the bond amount."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateShortPrincipalDerivative","nameLocation":"54389:33:178","parameters":{"id":134670,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134665,"mutability":"mutable","name":"_params","nameLocation":"54454:7:178","nodeType":"VariableDeclaration","scope":134750,"src":"54432:29:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_memory_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"},"typeName":{"id":134664,"nodeType":"UserDefinedTypeName","pathNode":{"id":134663,"name":"MaxTradeParams","nameLocations":["54432:14:178"],"nodeType":"IdentifierPath","referencedDeclaration":133191,"src":"54432:14:178"},"referencedDeclaration":133191,"src":"54432:14:178","typeDescriptions":{"typeIdentifier":"t_struct$_MaxTradeParams_$133191_storage_ptr","typeString":"struct HyperdriveUtils.MaxTradeParams"}},"visibility":"internal"},{"constant":false,"id":134667,"mutability":"mutable","name":"_shortAmount","nameLocation":"54479:12:178","nodeType":"VariableDeclaration","scope":134750,"src":"54471:20:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134666,"name":"uint256","nodeType":"ElementaryTypeName","src":"54471:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134669,"mutability":"mutable","name":"_effectiveShareReserves","nameLocation":"54509:23:178","nodeType":"VariableDeclaration","scope":134750,"src":"54501:31:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134668,"name":"uint256","nodeType":"ElementaryTypeName","src":"54501:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"54422:116:178"},"returnParameters":{"id":134673,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134672,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":134750,"src":"54562:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134671,"name":"uint256","nodeType":"ElementaryTypeName","src":"54562:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"54561:9:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":134773,"nodeType":"FunctionDefinition","src":"55636:234:178","nodes":[],"body":{"id":134772,"nodeType":"Block","src":"55790:80:178","nodes":[],"statements":[{"expression":{"arguments":[{"id":134769,"name":"_bondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134753,"src":"55851:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134766,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":134764,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"55825:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":134765,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134755,"src":"55831:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"55825:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134762,"name":"_curveFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134757,"src":"55807:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134763,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"55817:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"55807:17:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134767,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"55807:35:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134768,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"55843:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"55807:43:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134770,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"55807:56:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":134761,"id":134771,"nodeType":"Return","src":"55800:63:178"}]},"documentation":{"id":134751,"nodeType":"StructuredDocumentation","src":"55394:237:178","text":"@dev Gets the curve fee paid by the trader when they open a short.\n @param _bondAmount The bond amount.\n @param _spotPrice The spot price.\n @param _curveFee The curve fee parameter.\n @return The curve fee."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateShortCurveFee","nameLocation":"55645:22:178","parameters":{"id":134758,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134753,"mutability":"mutable","name":"_bondAmount","nameLocation":"55685:11:178","nodeType":"VariableDeclaration","scope":134773,"src":"55677:19:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134752,"name":"uint256","nodeType":"ElementaryTypeName","src":"55677:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134755,"mutability":"mutable","name":"_spotPrice","nameLocation":"55714:10:178","nodeType":"VariableDeclaration","scope":134773,"src":"55706:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134754,"name":"uint256","nodeType":"ElementaryTypeName","src":"55706:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134757,"mutability":"mutable","name":"_curveFee","nameLocation":"55742:9:178","nodeType":"VariableDeclaration","scope":134773,"src":"55734:17:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134756,"name":"uint256","nodeType":"ElementaryTypeName","src":"55734:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"55667:90:178"},"returnParameters":{"id":134761,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134760,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":134773,"src":"55781:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134759,"name":"uint256","nodeType":"ElementaryTypeName","src":"55781:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"55780:9:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":134797,"nodeType":"FunctionDefinition","src":"56190:343:178","nodes":[],"body":{"id":134796,"nodeType":"Block","src":"56383:150:178","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[{"id":134790,"name":"_bondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134776,"src":"56477:11:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134791,"name":"_spotPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134778,"src":"56490:10:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134792,"name":"_curveFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134780,"src":"56502:9:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":134789,"name":"calculateShortCurveFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134773,"src":"56454:22:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":134793,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"56454:58:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134787,"name":"_governanceLPFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134782,"src":"56412:16:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134788,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"56429:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"56412:24:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134794,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"56412:114:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":134786,"id":134795,"nodeType":"Return","src":"56393:133:178"}]},"documentation":{"id":134774,"nodeType":"StructuredDocumentation","src":"55876:309:178","text":"@dev Gets the governance fee paid by the trader when they open a short.\n @param _bondAmount The bond amount.\n @param _spotPrice The spot price.\n @param _curveFee The curve fee parameter.\n @param _governanceLPFee The governance fee parameter.\n @return The governance fee."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateShortGovernanceFee","nameLocation":"56199:27:178","parameters":{"id":134783,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134776,"mutability":"mutable","name":"_bondAmount","nameLocation":"56244:11:178","nodeType":"VariableDeclaration","scope":134797,"src":"56236:19:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134775,"name":"uint256","nodeType":"ElementaryTypeName","src":"56236:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134778,"mutability":"mutable","name":"_spotPrice","nameLocation":"56273:10:178","nodeType":"VariableDeclaration","scope":134797,"src":"56265:18:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134777,"name":"uint256","nodeType":"ElementaryTypeName","src":"56265:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134780,"mutability":"mutable","name":"_curveFee","nameLocation":"56301:9:178","nodeType":"VariableDeclaration","scope":134797,"src":"56293:17:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134779,"name":"uint256","nodeType":"ElementaryTypeName","src":"56293:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":134782,"mutability":"mutable","name":"_governanceLPFee","nameLocation":"56328:16:178","nodeType":"VariableDeclaration","scope":134797,"src":"56320:24:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134781,"name":"uint256","nodeType":"ElementaryTypeName","src":"56320:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"56226:124:178"},"returnParameters":{"id":134786,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134785,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":134797,"src":"56374:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134784,"name":"uint256","nodeType":"ElementaryTypeName","src":"56374:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"56373:9:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":134870,"nodeType":"FunctionDefinition","src":"56561:1268:178","nodes":[],"body":{"id":134869,"nodeType":"Block","src":"56687:1142:178","nodes":[],"statements":[{"assignments":[134811],"declarations":[{"constant":false,"id":134811,"mutability":"mutable","name":"poolConfig","nameLocation":"56727:10:178","nodeType":"VariableDeclaration","scope":134869,"src":"56697:40:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig"},"typeName":{"id":134810,"nodeType":"UserDefinedTypeName","pathNode":{"id":134809,"name":"IHyperdrive.PoolConfig","nameLocations":["56697:11:178","56709:10:178"],"nodeType":"IdentifierPath","referencedDeclaration":5427,"src":"56697:22:178"},"referencedDeclaration":5427,"src":"56697:22:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_storage_ptr","typeString":"struct IHyperdrive.PoolConfig"}},"visibility":"internal"}],"id":134815,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":134812,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134801,"src":"56740:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":134813,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"56751:13:178","memberName":"getPoolConfig","nodeType":"MemberAccess","referencedDeclaration":5923,"src":"56740:24:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolConfig_$5427_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolConfig memory)"}},"id":134814,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"56740:26:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"nodeType":"VariableDeclarationStatement","src":"56697:69:178"},{"assignments":[134820],"declarations":[{"constant":false,"id":134820,"mutability":"mutable","name":"poolInfo","nameLocation":"56804:8:178","nodeType":"VariableDeclaration","scope":134869,"src":"56776:36:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo"},"typeName":{"id":134819,"nodeType":"UserDefinedTypeName","pathNode":{"id":134818,"name":"IHyperdrive.PoolInfo","nameLocations":["56776:11:178","56788:8:178"],"nodeType":"IdentifierPath","referencedDeclaration":5473,"src":"56776:20:178"},"referencedDeclaration":5473,"src":"56776:20:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_storage_ptr","typeString":"struct IHyperdrive.PoolInfo"}},"visibility":"internal"}],"id":134824,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":134821,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134801,"src":"56815:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":134822,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"56826:11:178","memberName":"getPoolInfo","nodeType":"MemberAccess","referencedDeclaration":5940,"src":"56815:22:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolInfo_$5473_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolInfo memory)"}},"id":134823,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"56815:24:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"nodeType":"VariableDeclarationStatement","src":"56776:63:178"},{"expression":{"arguments":[{"expression":{"id":134827,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134820,"src":"56927:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":134828,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"56936:13:178","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":5430,"src":"56927:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134829,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134820,"src":"56984:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":134830,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"56993:15:178","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":5433,"src":"56984:24:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"id":134831,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134820,"src":"57040:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":134832,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57049:12:178","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":5442,"src":"57040:21:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134833,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134820,"src":"57091:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":134834,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57100:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":5448,"src":"57091:19:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134835,"name":"poolConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134811,"src":"57147:10:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":134836,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57158:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":5401,"src":"57147:28:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134837,"name":"poolConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134811,"src":"57215:10:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":134838,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57226:20:178","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":5404,"src":"57215:31:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134839,"name":"poolConfig","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134811,"src":"57277:10:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":134840,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57288:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":5416,"src":"57277:22:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134841,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134820,"src":"57335:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":134842,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57344:16:178","memberName":"longsOutstanding","nodeType":"MemberAccess","referencedDeclaration":5451,"src":"57335:25:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[{"id":134844,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134801,"src":"57448:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},{"arguments":[{"hexValue":"31653336","id":134851,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"57528:4:178","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000000000000000000000_by_1","typeString":"int_const 1000...(29 digits omitted)...0000"},"value":"1e36"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_1000000000000000000000000000000000000_by_1","typeString":"int_const 1000...(29 digits omitted)...0000"}],"expression":{"arguments":[{"expression":{"id":134847,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134820,"src":"57488:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":134848,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57497:23:178","memberName":"longAverageMaturityTime","nodeType":"MemberAccess","referencedDeclaration":5454,"src":"57488:32:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":134846,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"57480:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":134845,"name":"uint256","nodeType":"ElementaryTypeName","src":"57480:7:178","typeDescriptions":{}}},"id":134849,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"57480:41:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134850,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"57522:5:178","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":11627,"src":"57480:47:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134852,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"57480:53:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":134843,"name":"calculateTimeRemaining","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132572,"src":"57404:22:178","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IHyperdrive_$5658_$_t_uint256_$returns$_t_uint256_$","typeString":"function (contract IHyperdrive,uint256) view returns (uint256)"}},"id":134853,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"57404:147:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134854,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134820,"src":"57588:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":134855,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57597:17:178","memberName":"shortsOutstanding","nodeType":"MemberAccess","referencedDeclaration":5457,"src":"57588:26:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[{"id":134857,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134801,"src":"57703:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},{"arguments":[{"hexValue":"31653336","id":134864,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"57784:4:178","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000000000000000000000_by_1","typeString":"int_const 1000...(29 digits omitted)...0000"},"value":"1e36"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_1000000000000000000000000000000000000_by_1","typeString":"int_const 1000...(29 digits omitted)...0000"}],"expression":{"arguments":[{"expression":{"id":134860,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134820,"src":"57743:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":134861,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57752:24:178","memberName":"shortAverageMaturityTime","nodeType":"MemberAccess","referencedDeclaration":5460,"src":"57743:33:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":134859,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"57735:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":134858,"name":"uint256","nodeType":"ElementaryTypeName","src":"57735:7:178","typeDescriptions":{}}},"id":134862,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"57735:42:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134863,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"57778:5:178","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":11627,"src":"57735:48:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134865,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"57735:54:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":134856,"name":"calculateTimeRemaining","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132572,"src":"57659:22:178","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IHyperdrive_$5658_$_t_uint256_$returns$_t_uint256_$","typeString":"function (contract IHyperdrive,uint256) view returns (uint256)"}},"id":134866,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"57659:148:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134825,"name":"LPMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15435,"src":"56868:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_LPMath_$15435_$","typeString":"type(library LPMath)"}},"id":134826,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"56875:18:178","memberName":"PresentValueParams","nodeType":"MemberAccess","referencedDeclaration":13030,"src":"56868:25:178","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_PresentValueParams_$13030_storage_ptr_$","typeString":"type(struct LPMath.PresentValueParams storage pointer)"}},"id":134867,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":["56912:13:178","56967:15:178","57026:12:178","57079:10:178","57128:17:178","57193:20:178","57264:11:178","57317:16:178","57378:24:178","57569:17:178","57632:25:178"],"names":["shareReserves","shareAdjustment","bondReserves","sharePrice","initialSharePrice","minimumShareReserves","timeStretch","longsOutstanding","longAverageTimeRemaining","shortsOutstanding","shortAverageTimeRemaining"],"nodeType":"FunctionCall","src":"56868:954:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"functionReturnParameters":134806,"id":134868,"nodeType":"Return","src":"56849:973:178"}]},"documentation":{"id":134798,"nodeType":"StructuredDocumentation","src":"56539:17:178","text":"LP Utils ///"},"implemented":true,"kind":"function","modifiers":[],"name":"getPresentValueParams","nameLocation":"56570:21:178","parameters":{"id":134802,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134801,"mutability":"mutable","name":"hyperdrive","nameLocation":"56613:10:178","nodeType":"VariableDeclaration","scope":134870,"src":"56601:22:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},"typeName":{"id":134800,"nodeType":"UserDefinedTypeName","pathNode":{"id":134799,"name":"IHyperdrive","nameLocations":["56601:11:178"],"nodeType":"IdentifierPath","referencedDeclaration":5658,"src":"56601:11:178"},"referencedDeclaration":5658,"src":"56601:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"visibility":"internal"}],"src":"56591:38:178"},"returnParameters":{"id":134806,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134805,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":134870,"src":"56653:32:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams"},"typeName":{"id":134804,"nodeType":"UserDefinedTypeName","pathNode":{"id":134803,"name":"LPMath.PresentValueParams","nameLocations":["56653:6:178","56660:18:178"],"nodeType":"IdentifierPath","referencedDeclaration":13030,"src":"56653:25:178"},"referencedDeclaration":13030,"src":"56653:25:178","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_storage_ptr","typeString":"struct LPMath.PresentValueParams"}},"visibility":"internal"}],"src":"56652:34:178"},"scope":135637,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":134959,"nodeType":"FunctionDefinition","src":"57835:1628:178","nodes":[],"body":{"id":134958,"nodeType":"Block","src":"57977:1486:178","nodes":[],"statements":[{"assignments":[134883],"declarations":[{"constant":false,"id":134883,"mutability":"mutable","name":"poolInfo","nameLocation":"58015:8:178","nodeType":"VariableDeclaration","scope":134958,"src":"57987:36:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo"},"typeName":{"id":134882,"nodeType":"UserDefinedTypeName","pathNode":{"id":134881,"name":"IHyperdrive.PoolInfo","nameLocations":["57987:11:178","57999:8:178"],"nodeType":"IdentifierPath","referencedDeclaration":5473,"src":"57987:20:178"},"referencedDeclaration":5473,"src":"57987:20:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_storage_ptr","typeString":"struct IHyperdrive.PoolInfo"}},"visibility":"internal"}],"id":134887,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":134884,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134873,"src":"58026:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":134885,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"58037:11:178","memberName":"getPoolInfo","nodeType":"MemberAccess","referencedDeclaration":5940,"src":"58026:22:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolInfo_$5473_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolInfo memory)"}},"id":134886,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"58026:24:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"nodeType":"VariableDeclarationStatement","src":"57987:63:178"},{"assignments":[134892],"declarations":[{"constant":false,"id":134892,"mutability":"mutable","name":"presentValueParams","nameLocation":"58093:18:178","nodeType":"VariableDeclaration","scope":134958,"src":"58060:51:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams"},"typeName":{"id":134891,"nodeType":"UserDefinedTypeName","pathNode":{"id":134890,"name":"LPMath.PresentValueParams","nameLocations":["58060:6:178","58067:18:178"],"nodeType":"IdentifierPath","referencedDeclaration":13030,"src":"58060:25:178"},"referencedDeclaration":13030,"src":"58060:25:178","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_storage_ptr","typeString":"struct LPMath.PresentValueParams"}},"visibility":"internal"}],"id":134896,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":134893,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134873,"src":"58114:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":134894,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"58138:21:178","memberName":"getPresentValueParams","nodeType":"MemberAccess","referencedDeclaration":134870,"src":"58114:45:178","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IHyperdrive_$5658_$returns$_t_struct$_PresentValueParams_$13030_memory_ptr_$attached_to$_t_contract$_IHyperdrive_$5658_$","typeString":"function (contract IHyperdrive) view returns (struct LPMath.PresentValueParams memory)"}},"id":134895,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"58114:47:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"nodeType":"VariableDeclarationStatement","src":"58060:101:178"},{"assignments":[134898],"declarations":[{"constant":false,"id":134898,"mutability":"mutable","name":"startingPresentValue","nameLocation":"58179:20:178","nodeType":"VariableDeclaration","scope":134958,"src":"58171:28:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134897,"name":"uint256","nodeType":"ElementaryTypeName","src":"58171:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":134903,"initialValue":{"arguments":[{"id":134901,"name":"presentValueParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134892,"src":"58244:18:178","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}],"expression":{"id":134899,"name":"LPMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15435,"src":"58202:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_LPMath_$15435_$","typeString":"type(library LPMath)"}},"id":134900,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"58209:21:178","memberName":"calculatePresentValue","nodeType":"MemberAccess","referencedDeclaration":13059,"src":"58202:28:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_PresentValueParams_$13030_memory_ptr_$returns$_t_uint256_$","typeString":"function (struct LPMath.PresentValueParams memory) pure returns (uint256)"}},"id":134902,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"58202:70:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"58171:101:178"},{"assignments":[134905],"declarations":[{"constant":false,"id":134905,"mutability":"mutable","name":"netCurveTrade","nameLocation":"58289:13:178","nodeType":"VariableDeclaration","scope":134958,"src":"58282:20:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":134904,"name":"int256","nodeType":"ElementaryTypeName","src":"58282:6:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":134925,"initialValue":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":134924,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"expression":{"id":134911,"name":"presentValueParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134892,"src":"58386:18:178","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":134912,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"58405:24:178","memberName":"longAverageTimeRemaining","nodeType":"MemberAccess","referencedDeclaration":13025,"src":"58386:43:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":134908,"name":"presentValueParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134892,"src":"58325:18:178","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":134909,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"58344:16:178","memberName":"longsOutstanding","nodeType":"MemberAccess","referencedDeclaration":13023,"src":"58325:35:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134910,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"58361:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"58325:43:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134913,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"58325:118:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":134907,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"58305:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":134906,"name":"int256","nodeType":"ElementaryTypeName","src":"58305:6:178","typeDescriptions":{}}},"id":134914,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"58305:148:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"arguments":[{"expression":{"id":134920,"name":"presentValueParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134892,"src":"58558:18:178","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":134921,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"58577:25:178","memberName":"shortAverageTimeRemaining","nodeType":"MemberAccess","referencedDeclaration":13029,"src":"58558:44:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":134917,"name":"presentValueParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134892,"src":"58492:18:178","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":134918,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"58511:17:178","memberName":"shortsOutstanding","nodeType":"MemberAccess","referencedDeclaration":13027,"src":"58492:36:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134919,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"58529:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"58492:44:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134922,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"58492:128:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":134916,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"58468:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":134915,"name":"int256","nodeType":"ElementaryTypeName","src":"58468:6:178","typeDescriptions":{}}},"id":134923,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"58468:166:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"58305:329:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"58282:352:178"},{"expression":{"arguments":[{"id":134928,"name":"presentValueParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134892,"src":"58735:18:178","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},{"id":134929,"name":"startingPresentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134898,"src":"58793:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[{"expression":{"id":134932,"name":"AssetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11509,"src":"58896:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AssetId_$11509_$","typeString":"type(library AssetId)"}},"id":134933,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"58904:12:178","memberName":"_LP_ASSET_ID","nodeType":"MemberAccess","referencedDeclaration":11201,"src":"58896:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134930,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134873,"src":"58852:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":134931,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"58863:11:178","memberName":"totalSupply","nodeType":"MemberAccess","referencedDeclaration":6272,"src":"58852:22:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":134934,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"58852:82:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":134942,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"expression":{"id":134937,"name":"AssetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11509,"src":"59025:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AssetId_$11509_$","typeString":"type(library AssetId)"}},"id":134938,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"59033:26:178","memberName":"_WITHDRAWAL_SHARE_ASSET_ID","nodeType":"MemberAccess","referencedDeclaration":11210,"src":"59025:34:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134935,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134873,"src":"58981:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":134936,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"58992:11:178","memberName":"totalSupply","nodeType":"MemberAccess","referencedDeclaration":6272,"src":"58981:22:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":134939,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"58981:96:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":134940,"name":"poolInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134883,"src":"59080:8:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":134941,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"59089:31:178","memberName":"withdrawalSharesReadyToWithdraw","nodeType":"MemberAccess","referencedDeclaration":5463,"src":"59080:40:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"58981:139:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":134945,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134873,"src":"59152:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":134946,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"59163:8:178","memberName":"solvency","nodeType":"MemberAccess","referencedDeclaration":135099,"src":"59152:19:178","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IHyperdrive_$5658_$returns$_t_int256_$attached_to$_t_contract$_IHyperdrive_$5658_$","typeString":"function (contract IHyperdrive) view returns (int256)"}},"id":134947,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"59152:21:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":134944,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"59144:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":134943,"name":"uint256","nodeType":"ElementaryTypeName","src":"59144:7:178","typeDescriptions":{}}},"id":134948,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"59144:30:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":134949,"name":"netCurveTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134905,"src":"59207:13:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"id":134950,"name":"presentValueParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134892,"src":"59261:18:178","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":134951,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"59280:13:178","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":13009,"src":"59261:32:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":134952,"name":"presentValueParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134892,"src":"59336:18:178","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":134953,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"59355:15:178","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":13011,"src":"59336:34:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"id":134954,"name":"presentValueParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134892,"src":"59410:18:178","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":134955,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"59429:12:178","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":13013,"src":"59410:31:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":134926,"name":"LPMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15435,"src":"58663:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_LPMath_$15435_$","typeString":"type(library LPMath)"}},"id":134927,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"58670:26:178","memberName":"DistributeExcessIdleParams","nodeType":"MemberAccess","referencedDeclaration":13433,"src":"58663:33:178","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_DistributeExcessIdleParams_$13433_storage_ptr_$","typeString":"type(struct LPMath.DistributeExcessIdleParams storage pointer)"}},"id":134956,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":["58715:18:178","58771:20:178","58831:19:178","58952:27:178","59138:4:178","59192:13:178","59238:21:178","59311:23:178","59388:20:178"],"names":["presentValueParams","startingPresentValue","activeLpTotalSupply","withdrawalSharesTotalSupply","idle","netCurveTrade","originalShareReserves","originalShareAdjustment","originalBondReserves"],"nodeType":"FunctionCall","src":"58663:793:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$13433_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"functionReturnParameters":134878,"id":134957,"nodeType":"Return","src":"58644:812:178"}]},"implemented":true,"kind":"function","modifiers":[],"name":"getDistributeExcessIdleParams","nameLocation":"57844:29:178","parameters":{"id":134874,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134873,"mutability":"mutable","name":"hyperdrive","nameLocation":"57895:10:178","nodeType":"VariableDeclaration","scope":134959,"src":"57883:22:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},"typeName":{"id":134872,"nodeType":"UserDefinedTypeName","pathNode":{"id":134871,"name":"IHyperdrive","nameLocations":["57883:11:178"],"nodeType":"IdentifierPath","referencedDeclaration":5658,"src":"57883:11:178"},"referencedDeclaration":5658,"src":"57883:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"visibility":"internal"}],"src":"57873:38:178"},"returnParameters":{"id":134878,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134877,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":134959,"src":"57935:40:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$13433_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"},"typeName":{"id":134876,"nodeType":"UserDefinedTypeName","pathNode":{"id":134875,"name":"LPMath.DistributeExcessIdleParams","nameLocations":["57935:6:178","57942:26:178"],"nodeType":"IdentifierPath","referencedDeclaration":13433,"src":"57935:33:178"},"referencedDeclaration":13433,"src":"57935:33:178","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$13433_storage_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"}},"visibility":"internal"}],"src":"57934:42:178"},"scope":135637,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":134981,"nodeType":"FunctionDefinition","src":"59469:271:178","nodes":[],"body":{"id":134980,"nodeType":"Block","src":"59561:179:178","nodes":[],"statements":[{"expression":{"arguments":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":134974,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134962,"src":"59697:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":134975,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"59708:11:178","memberName":"getPoolInfo","nodeType":"MemberAccess","referencedDeclaration":5940,"src":"59697:22:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolInfo_$5473_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolInfo memory)"}},"id":134976,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"59697:24:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":134977,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"59722:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":5448,"src":"59697:35:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":134969,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134962,"src":"59636:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":134970,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"59647:21:178","memberName":"getPresentValueParams","nodeType":"MemberAccess","referencedDeclaration":134870,"src":"59636:32:178","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IHyperdrive_$5658_$returns$_t_struct$_PresentValueParams_$13030_memory_ptr_$attached_to$_t_contract$_IHyperdrive_$5658_$","typeString":"function (contract IHyperdrive) view returns (struct LPMath.PresentValueParams memory)"}},"id":134971,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"59636:34:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_PresentValueParams_$13030_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}],"expression":{"id":134967,"name":"LPMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15435,"src":"59590:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_LPMath_$15435_$","typeString":"type(library LPMath)"}},"id":134968,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"59614:21:178","memberName":"calculatePresentValue","nodeType":"MemberAccess","referencedDeclaration":13059,"src":"59590:45:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_PresentValueParams_$13030_memory_ptr_$returns$_t_uint256_$","typeString":"function (struct LPMath.PresentValueParams memory) pure returns (uint256)"}},"id":134972,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"59590:81:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134973,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"59689:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"59590:106:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134978,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"59590:143:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":134966,"id":134979,"nodeType":"Return","src":"59571:162:178"}]},"implemented":true,"kind":"function","modifiers":[],"name":"presentValue","nameLocation":"59478:12:178","parameters":{"id":134963,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134962,"mutability":"mutable","name":"hyperdrive","nameLocation":"59512:10:178","nodeType":"VariableDeclaration","scope":134981,"src":"59500:22:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},"typeName":{"id":134961,"nodeType":"UserDefinedTypeName","pathNode":{"id":134960,"name":"IHyperdrive","nameLocations":["59500:11:178"],"nodeType":"IdentifierPath","referencedDeclaration":5658,"src":"59500:11:178"},"referencedDeclaration":5658,"src":"59500:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"visibility":"internal"}],"src":"59490:38:178"},"returnParameters":{"id":134966,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134965,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":134981,"src":"59552:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134964,"name":"uint256","nodeType":"ElementaryTypeName","src":"59552:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"59551:9:178"},"scope":135637,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":134999,"nodeType":"FunctionDefinition","src":"59746:177:178","nodes":[],"body":{"id":134998,"nodeType":"Block","src":"59838:85:178","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":134993,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134984,"src":"59889:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":134994,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"59900:13:178","memberName":"lpTotalSupply","nodeType":"MemberAccess","referencedDeclaration":135025,"src":"59889:24:178","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IHyperdrive_$5658_$returns$_t_uint256_$attached_to$_t_contract$_IHyperdrive_$5658_$","typeString":"function (contract IHyperdrive) view returns (uint256)"}},"id":134995,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"59889:26:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":134989,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134984,"src":"59855:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":134990,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"59866:12:178","memberName":"presentValue","nodeType":"MemberAccess","referencedDeclaration":134981,"src":"59855:23:178","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IHyperdrive_$5658_$returns$_t_uint256_$attached_to$_t_contract$_IHyperdrive_$5658_$","typeString":"function (contract IHyperdrive) view returns (uint256)"}},"id":134991,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"59855:25:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":134992,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"59881:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"59855:33:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":134996,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"59855:61:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":134988,"id":134997,"nodeType":"Return","src":"59848:68:178"}]},"implemented":true,"kind":"function","modifiers":[],"name":"lpSharePrice","nameLocation":"59755:12:178","parameters":{"id":134985,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134984,"mutability":"mutable","name":"hyperdrive","nameLocation":"59789:10:178","nodeType":"VariableDeclaration","scope":134999,"src":"59777:22:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},"typeName":{"id":134983,"nodeType":"UserDefinedTypeName","pathNode":{"id":134982,"name":"IHyperdrive","nameLocations":["59777:11:178"],"nodeType":"IdentifierPath","referencedDeclaration":5658,"src":"59777:11:178"},"referencedDeclaration":5658,"src":"59777:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"visibility":"internal"}],"src":"59767:38:178"},"returnParameters":{"id":134988,"nodeType":"ParameterList","parameters":[{"constant":false,"id":134987,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":134999,"src":"59829:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":134986,"name":"uint256","nodeType":"ElementaryTypeName","src":"59829:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"59828:9:178"},"scope":135637,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":135025,"nodeType":"FunctionDefinition","src":"59929:317:178","nodes":[],"body":{"id":135024,"nodeType":"Block","src":"60022:224:178","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":135022,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":135017,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"expression":{"id":135009,"name":"AssetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11509,"src":"60074:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AssetId_$11509_$","typeString":"type(library AssetId)"}},"id":135010,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"60082:12:178","memberName":"_LP_ASSET_ID","nodeType":"MemberAccess","referencedDeclaration":11201,"src":"60074:20:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":135007,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135002,"src":"60051:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":135008,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"60062:11:178","memberName":"totalSupply","nodeType":"MemberAccess","referencedDeclaration":6272,"src":"60051:22:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":135011,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"60051:44:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"expression":{"id":135014,"name":"AssetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11509,"src":"60133:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AssetId_$11509_$","typeString":"type(library AssetId)"}},"id":135015,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"60141:26:178","memberName":"_WITHDRAWAL_SHARE_ASSET_ID","nodeType":"MemberAccess","referencedDeclaration":11210,"src":"60133:34:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":135012,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135002,"src":"60110:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":135013,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"60121:11:178","memberName":"totalSupply","nodeType":"MemberAccess","referencedDeclaration":6272,"src":"60110:22:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":135016,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"60110:58:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"60051:117:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":135018,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135002,"src":"60183:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":135019,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"60194:11:178","memberName":"getPoolInfo","nodeType":"MemberAccess","referencedDeclaration":5940,"src":"60183:22:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolInfo_$5473_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolInfo memory)"}},"id":135020,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"60183:24:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":135021,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"60208:31:178","memberName":"withdrawalSharesReadyToWithdraw","nodeType":"MemberAccess","referencedDeclaration":5463,"src":"60183:56:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"60051:188:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":135006,"id":135023,"nodeType":"Return","src":"60032:207:178"}]},"implemented":true,"kind":"function","modifiers":[],"name":"lpTotalSupply","nameLocation":"59938:13:178","parameters":{"id":135003,"nodeType":"ParameterList","parameters":[{"constant":false,"id":135002,"mutability":"mutable","name":"hyperdrive","nameLocation":"59973:10:178","nodeType":"VariableDeclaration","scope":135025,"src":"59961:22:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},"typeName":{"id":135001,"nodeType":"UserDefinedTypeName","pathNode":{"id":135000,"name":"IHyperdrive","nameLocations":["59961:11:178"],"nodeType":"IdentifierPath","referencedDeclaration":5658,"src":"59961:11:178"},"referencedDeclaration":5658,"src":"59961:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"visibility":"internal"}],"src":"59951:38:178"},"returnParameters":{"id":135006,"nodeType":"ParameterList","parameters":[{"constant":false,"id":135005,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":135025,"src":"60013:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":135004,"name":"uint256","nodeType":"ElementaryTypeName","src":"60013:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"60012:9:178"},"scope":135637,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":135050,"nodeType":"FunctionDefinition","src":"60252:218:178","nodes":[],"body":{"id":135049,"nodeType":"Block","src":"60322:148:178","nodes":[],"statements":[{"expression":{"arguments":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":135043,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135028,"src":"60414:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":135044,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"60425:11:178","memberName":"getPoolInfo","nodeType":"MemberAccess","referencedDeclaration":5940,"src":"60414:22:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolInfo_$5473_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolInfo memory)"}},"id":135045,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"60414:24:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":135046,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"60439:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":5448,"src":"60414:35:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"arguments":[{"hexValue":"30","id":135039,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"60385:1:178","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":135035,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135028,"src":"60359:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":135036,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"60370:8:178","memberName":"solvency","nodeType":"MemberAccess","referencedDeclaration":135099,"src":"60359:19:178","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_contract$_IHyperdrive_$5658_$returns$_t_int256_$attached_to$_t_contract$_IHyperdrive_$5658_$","typeString":"function (contract IHyperdrive) view returns (int256)"}},"id":135037,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"60359:21:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":135038,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"60381:3:178","memberName":"max","nodeType":"MemberAccess","referencedDeclaration":12292,"src":"60359:25:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$attached_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":135040,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"60359:28:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":135034,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"60351:7:178","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":135033,"name":"uint256","nodeType":"ElementaryTypeName","src":"60351:7:178","typeDescriptions":{}}},"id":135041,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"60351:37:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":135042,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"60389:7:178","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":11559,"src":"60351:45:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":135047,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"60351:112:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":135032,"id":135048,"nodeType":"Return","src":"60332:131:178"}]},"implemented":true,"kind":"function","modifiers":[],"name":"idle","nameLocation":"60261:4:178","parameters":{"id":135029,"nodeType":"ParameterList","parameters":[{"constant":false,"id":135028,"mutability":"mutable","name":"hyperdrive","nameLocation":"60278:10:178","nodeType":"VariableDeclaration","scope":135050,"src":"60266:22:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},"typeName":{"id":135027,"nodeType":"UserDefinedTypeName","pathNode":{"id":135026,"name":"IHyperdrive","nameLocations":["60266:11:178"],"nodeType":"IdentifierPath","referencedDeclaration":5658,"src":"60266:11:178"},"referencedDeclaration":5658,"src":"60266:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"visibility":"internal"}],"src":"60265:24:178"},"returnParameters":{"id":135032,"nodeType":"ParameterList","parameters":[{"constant":false,"id":135031,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":135050,"src":"60313:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":135030,"name":"uint256","nodeType":"ElementaryTypeName","src":"60313:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"60312:9:178"},"scope":135637,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":135099,"nodeType":"FunctionDefinition","src":"60476:394:178","nodes":[],"body":{"id":135098,"nodeType":"Block","src":"60549:321:178","nodes":[],"statements":[{"assignments":[135062],"declarations":[{"constant":false,"id":135062,"mutability":"mutable","name":"config","nameLocation":"60589:6:178","nodeType":"VariableDeclaration","scope":135098,"src":"60559:36:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig"},"typeName":{"id":135061,"nodeType":"UserDefinedTypeName","pathNode":{"id":135060,"name":"IHyperdrive.PoolConfig","nameLocations":["60559:11:178","60571:10:178"],"nodeType":"IdentifierPath","referencedDeclaration":5427,"src":"60559:22:178"},"referencedDeclaration":5427,"src":"60559:22:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_storage_ptr","typeString":"struct IHyperdrive.PoolConfig"}},"visibility":"internal"}],"id":135066,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":135063,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135053,"src":"60598:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":135064,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"60609:13:178","memberName":"getPoolConfig","nodeType":"MemberAccess","referencedDeclaration":5923,"src":"60598:24:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolConfig_$5427_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolConfig memory)"}},"id":135065,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"60598:26:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"nodeType":"VariableDeclarationStatement","src":"60559:65:178"},{"assignments":[135071],"declarations":[{"constant":false,"id":135071,"mutability":"mutable","name":"info","nameLocation":"60662:4:178","nodeType":"VariableDeclaration","scope":135098,"src":"60634:32:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo"},"typeName":{"id":135070,"nodeType":"UserDefinedTypeName","pathNode":{"id":135069,"name":"IHyperdrive.PoolInfo","nameLocations":["60634:11:178","60646:8:178"],"nodeType":"IdentifierPath","referencedDeclaration":5473,"src":"60634:20:178"},"referencedDeclaration":5473,"src":"60634:20:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_storage_ptr","typeString":"struct IHyperdrive.PoolInfo"}},"visibility":"internal"}],"id":135075,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":135072,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135053,"src":"60669:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":135073,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"60680:11:178","memberName":"getPoolInfo","nodeType":"MemberAccess","referencedDeclaration":5940,"src":"60669:22:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolInfo_$5473_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolInfo memory)"}},"id":135074,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"60669:24:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"nodeType":"VariableDeclarationStatement","src":"60634:59:178"},{"expression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":135096,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":135090,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"expression":{"id":135078,"name":"info","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135071,"src":"60729:4:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":135079,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"60734:13:178","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":5430,"src":"60729:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":135077,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"60722:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":135076,"name":"int256","nodeType":"ElementaryTypeName","src":"60722:6:178","typeDescriptions":{}}},"id":135080,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"60722:26:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"arguments":[{"expression":{"id":135086,"name":"info","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135071,"src":"60796:4:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":135087,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"60801:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":5448,"src":"60796:15:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":135083,"name":"info","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135071,"src":"60770:4:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":135084,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"60775:12:178","memberName":"longExposure","nodeType":"MemberAccess","referencedDeclaration":5472,"src":"60770:17:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":135085,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"60788:7:178","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":11577,"src":"60770:25:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":135088,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"60770:42:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":135082,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"60763:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":135081,"name":"int256","nodeType":"ElementaryTypeName","src":"60763:6:178","typeDescriptions":{}}},"id":135089,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"60763:50:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"60722:91:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"expression":{"id":135093,"name":"config","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135062,"src":"60835:6:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":135094,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"60842:20:178","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":5404,"src":"60835:27:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":135092,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"60828:6:178","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":135091,"name":"int256","nodeType":"ElementaryTypeName","src":"60828:6:178","typeDescriptions":{}}},"id":135095,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"60828:35:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"60722:141:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"functionReturnParameters":135057,"id":135097,"nodeType":"Return","src":"60703:160:178"}]},"implemented":true,"kind":"function","modifiers":[],"name":"solvency","nameLocation":"60485:8:178","parameters":{"id":135054,"nodeType":"ParameterList","parameters":[{"constant":false,"id":135053,"mutability":"mutable","name":"hyperdrive","nameLocation":"60506:10:178","nodeType":"VariableDeclaration","scope":135099,"src":"60494:22:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},"typeName":{"id":135052,"nodeType":"UserDefinedTypeName","pathNode":{"id":135051,"name":"IHyperdrive","nameLocations":["60494:11:178"],"nodeType":"IdentifierPath","referencedDeclaration":5658,"src":"60494:11:178"},"referencedDeclaration":5658,"src":"60494:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"visibility":"internal"}],"src":"60493:24:178"},"returnParameters":{"id":135057,"nodeType":"ParameterList","parameters":[{"constant":false,"id":135056,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":135099,"src":"60541:6:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":135055,"name":"int256","nodeType":"ElementaryTypeName","src":"60541:6:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"60540:8:178"},"scope":135637,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":135147,"nodeType":"FunctionDefinition","src":"60876:597:178","nodes":[],"body":{"id":135146,"nodeType":"Block","src":"60943:530:178","nodes":[],"statements":[{"assignments":[135111],"declarations":[{"constant":false,"id":135111,"mutability":"mutable","name":"config","nameLocation":"60983:6:178","nodeType":"VariableDeclaration","scope":135146,"src":"60953:36:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig"},"typeName":{"id":135110,"nodeType":"UserDefinedTypeName","pathNode":{"id":135109,"name":"IHyperdrive.PoolConfig","nameLocations":["60953:11:178","60965:10:178"],"nodeType":"IdentifierPath","referencedDeclaration":5427,"src":"60953:22:178"},"referencedDeclaration":5427,"src":"60953:22:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_storage_ptr","typeString":"struct IHyperdrive.PoolConfig"}},"visibility":"internal"}],"id":135115,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":135112,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135102,"src":"60992:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":135113,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"61003:13:178","memberName":"getPoolConfig","nodeType":"MemberAccess","referencedDeclaration":5923,"src":"60992:24:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolConfig_$5427_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolConfig memory)"}},"id":135114,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"60992:26:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"nodeType":"VariableDeclarationStatement","src":"60953:65:178"},{"assignments":[135120],"declarations":[{"constant":false,"id":135120,"mutability":"mutable","name":"info","nameLocation":"61056:4:178","nodeType":"VariableDeclaration","scope":135146,"src":"61028:32:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo"},"typeName":{"id":135119,"nodeType":"UserDefinedTypeName","pathNode":{"id":135118,"name":"IHyperdrive.PoolInfo","nameLocations":["61028:11:178","61040:8:178"],"nodeType":"IdentifierPath","referencedDeclaration":5473,"src":"61028:20:178"},"referencedDeclaration":5473,"src":"61028:20:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_storage_ptr","typeString":"struct IHyperdrive.PoolInfo"}},"visibility":"internal"}],"id":135124,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":135121,"name":"hyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135102,"src":"61063:10:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"id":135122,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"61074:11:178","memberName":"getPoolInfo","nodeType":"MemberAccess","referencedDeclaration":5940,"src":"61063:22:178","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_struct$_PoolInfo_$5473_memory_ptr_$","typeString":"function () view external returns (struct IHyperdrive.PoolInfo memory)"}},"id":135123,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"61063:24:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"nodeType":"VariableDeclarationStatement","src":"61028:59:178"},{"expression":{"arguments":[{"arguments":[{"expression":{"id":135129,"name":"info","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135120,"src":"61222:4:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":135130,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61227:13:178","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":5430,"src":"61222:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":135131,"name":"info","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135120,"src":"61262:4:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":135132,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61267:15:178","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":5433,"src":"61262:20:178","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":135127,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12857,"src":"61154:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$12857_$","typeString":"type(library HyperdriveMath)"}},"id":135128,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"61169:31:178","memberName":"calculateEffectiveShareReserves","nodeType":"MemberAccess","referencedDeclaration":12409,"src":"61154:46:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$returns$_t_uint256_$","typeString":"function (uint256,int256) pure returns (uint256)"}},"id":135133,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"61154:146:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":135134,"name":"info","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135120,"src":"61318:4:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":135135,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61323:12:178","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":5442,"src":"61318:17:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":135139,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135136,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11516,"src":"61353:3:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":135137,"name":"config","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135111,"src":"61359:6:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":135138,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61366:11:178","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":5416,"src":"61359:18:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"61353:24:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":135140,"name":"info","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135120,"src":"61395:4:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolInfo_$5473_memory_ptr","typeString":"struct IHyperdrive.PoolInfo memory"}},"id":135141,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61400:10:178","memberName":"sharePrice","nodeType":"MemberAccess","referencedDeclaration":5448,"src":"61395:15:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":135142,"name":"config","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135111,"src":"61428:6:178","typeDescriptions":{"typeIdentifier":"t_struct$_PoolConfig_$5427_memory_ptr","typeString":"struct IHyperdrive.PoolConfig memory"}},"id":135143,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61435:17:178","memberName":"initialSharePrice","nodeType":"MemberAccess","referencedDeclaration":5401,"src":"61428:24:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":135125,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16293,"src":"61116:14:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_YieldSpaceMath_$16293_$","typeString":"type(library YieldSpaceMath)"}},"id":135126,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"61131:5:178","memberName":"kDown","nodeType":"MemberAccess","referencedDeclaration":16292,"src":"61116:20:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":135144,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"61116:350:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":135106,"id":135145,"nodeType":"Return","src":"61097:369:178"}]},"implemented":true,"kind":"function","modifiers":[],"name":"k","nameLocation":"60885:1:178","parameters":{"id":135103,"nodeType":"ParameterList","parameters":[{"constant":false,"id":135102,"mutability":"mutable","name":"hyperdrive","nameLocation":"60899:10:178","nodeType":"VariableDeclaration","scope":135147,"src":"60887:22:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"},"typeName":{"id":135101,"nodeType":"UserDefinedTypeName","pathNode":{"id":135100,"name":"IHyperdrive","nameLocations":["60887:11:178"],"nodeType":"IdentifierPath","referencedDeclaration":5658,"src":"60887:11:178"},"referencedDeclaration":5658,"src":"60887:11:178","typeDescriptions":{"typeIdentifier":"t_contract$_IHyperdrive_$5658","typeString":"contract IHyperdrive"}},"visibility":"internal"}],"src":"60886:24:178"},"returnParameters":{"id":135106,"nodeType":"ParameterList","parameters":[{"constant":false,"id":135105,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":135147,"src":"60934:7:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":135104,"name":"uint256","nodeType":"ElementaryTypeName","src":"60934:7:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"60933:9:178"},"scope":135637,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":135174,"nodeType":"FunctionDefinition","src":"61504:443:178","nodes":[],"body":{"id":135173,"nodeType":"Block","src":"61598:349:178","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":135158,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":135155,"name":"_error","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135150,"src":"61669:6:178","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":135156,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"61676:6:178","memberName":"length","nodeType":"MemberAccess","src":"61669:13:178","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"34","id":135157,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"61685:1:178","typeDescriptions":{"typeIdentifier":"t_rational_4_by_1","typeString":"int_const 4"},"value":"4"},"src":"61669:17:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135164,"nodeType":"IfStatement","src":"61665:71:178","trueBody":{"id":135163,"nodeType":"Block","src":"61688:48:178","statements":[{"expression":{"arguments":[{"hexValue":"496e76616c6964206572726f72","id":135160,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"61709:15:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_8fa56bd1df20fc20fea8bc3d6b4e9e661f93cb0fe097bf8611bfde13f4a3beac","typeString":"literal_string \"Invalid error\""},"value":"Invalid error"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_8fa56bd1df20fc20fea8bc3d6b4e9e661f93cb0fe097bf8611bfde13f4a3beac","typeString":"literal_string \"Invalid error\""}],"id":135159,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"61702:6:178","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":135161,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"61702:23:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":135162,"nodeType":"ExpressionStatement","src":"61702:23:178"}]}},{"assignments":[135166],"declarations":[{"constant":false,"id":135166,"mutability":"mutable","name":"selector","nameLocation":"61815:8:178","nodeType":"VariableDeclaration","scope":135173,"src":"61808:15:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":135165,"name":"bytes4","nodeType":"ElementaryTypeName","src":"61808:6:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":135167,"nodeType":"VariableDeclarationStatement","src":"61808:15:178"},{"AST":{"nodeType":"YulBlock","src":"61842:60:178","statements":[{"nodeType":"YulAssignment","src":"61856:36:178","value":{"arguments":[{"arguments":[{"name":"_error","nodeType":"YulIdentifier","src":"61878:6:178"},{"kind":"number","nodeType":"YulLiteral","src":"61886:4:178","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"61874:3:178"},"nodeType":"YulFunctionCall","src":"61874:17:178"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"61868:5:178"},"nodeType":"YulFunctionCall","src":"61868:24:178"},"variableNames":[{"name":"selector","nodeType":"YulIdentifier","src":"61856:8:178"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":135150,"isOffset":false,"isSlot":false,"src":"61878:6:178","valueSize":1},{"declaration":135166,"isOffset":false,"isSlot":false,"src":"61856:8:178","valueSize":1}],"id":135168,"nodeType":"InlineAssembly","src":"61833:69:178"},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":135169,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135166,"src":"61918:8:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":135170,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"61927:11:178","memberName":"decodeError","nodeType":"MemberAccess","referencedDeclaration":135636,"src":"61918:20:178","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes4_$returns$_t_string_memory_ptr_$attached_to$_t_bytes4_$","typeString":"function (bytes4) pure returns (string memory)"}},"id":135171,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"61918:22:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"functionReturnParameters":135154,"id":135172,"nodeType":"Return","src":"61911:29:178"}]},"documentation":{"id":135148,"nodeType":"StructuredDocumentation","src":"61479:20:178","text":"Error Utils ///"},"implemented":true,"kind":"function","modifiers":[],"name":"decodeError","nameLocation":"61513:11:178","parameters":{"id":135151,"nodeType":"ParameterList","parameters":[{"constant":false,"id":135150,"mutability":"mutable","name":"_error","nameLocation":"61547:6:178","nodeType":"VariableDeclaration","scope":135174,"src":"61534:19:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":135149,"name":"bytes","nodeType":"ElementaryTypeName","src":"61534:5:178","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"61524:35:178"},"returnParameters":{"id":135154,"nodeType":"ParameterList","parameters":[{"constant":false,"id":135153,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":135174,"src":"61583:13:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":135152,"name":"string","nodeType":"ElementaryTypeName","src":"61583:6:178","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"61582:15:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":135636,"nodeType":"FunctionDefinition","src":"61953:6161:178","nodes":[],"body":{"id":135635,"nodeType":"Block","src":"62044:6070:178","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135185,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135181,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"62120:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135182,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"62133:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135183,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"62145:21:178","memberName":"InsufficientLiquidity","nodeType":"MemberAccess","referencedDeclaration":5518,"src":"62133:33:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135184,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"62167:8:178","memberName":"selector","nodeType":"MemberAccess","src":"62133:42:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"62120:55:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135189,"nodeType":"IfStatement","src":"62116:116:178","trueBody":{"id":135188,"nodeType":"Block","src":"62177:55:178","statements":[{"expression":{"hexValue":"496e73756666696369656e744c6971756964697479","id":135186,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"62198:23:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_bf87f0f4df0883d20148621bacf375dc7e9ba238d504bfe0e09068df07d00687","typeString":"literal_string \"InsufficientLiquidity\""},"value":"InsufficientLiquidity"},"functionReturnParameters":135180,"id":135187,"nodeType":"Return","src":"62191:30:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135194,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135190,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"62245:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135191,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"62258:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135192,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"62270:24:178","memberName":"BelowMinimumContribution","nodeType":"MemberAccess","referencedDeclaration":5486,"src":"62258:36:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135193,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"62295:8:178","memberName":"selector","nodeType":"MemberAccess","src":"62258:45:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"62245:58:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135198,"nodeType":"IfStatement","src":"62241:122:178","trueBody":{"id":135197,"nodeType":"Block","src":"62305:58:178","statements":[{"expression":{"hexValue":"42656c6f774d696e696d756d436f6e747269627574696f6e","id":135195,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"62326:26:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_3ee89966049bfb6df01787a38fe4c970c2c1c2c5e962819ab4477ca9a3c226b0","typeString":"literal_string \"BelowMinimumContribution\""},"value":"BelowMinimumContribution"},"functionReturnParameters":135180,"id":135196,"nodeType":"Return","src":"62319:33:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135203,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135199,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"62376:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135200,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"62389:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135201,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"62401:25:178","memberName":"BelowMinimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":5488,"src":"62389:37:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135202,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"62427:8:178","memberName":"selector","nodeType":"MemberAccess","src":"62389:46:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"62376:59:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135207,"nodeType":"IfStatement","src":"62372:124:178","trueBody":{"id":135206,"nodeType":"Block","src":"62437:59:178","statements":[{"expression":{"hexValue":"42656c6f774d696e696d756d53686172655265736572766573","id":135204,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"62458:27:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_9792e21069fb07faa9f8a91f2775e70130ae7d4b8250cfb13d6682bb95c66d13","typeString":"literal_string \"BelowMinimumShareReserves\""},"value":"BelowMinimumShareReserves"},"functionReturnParameters":135180,"id":135205,"nodeType":"Return","src":"62451:34:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135212,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135208,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"62509:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135209,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"62522:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135210,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"62534:10:178","memberName":"InvalidApr","nodeType":"MemberAccess","referencedDeclaration":5492,"src":"62522:22:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135211,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"62545:8:178","memberName":"selector","nodeType":"MemberAccess","src":"62522:31:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"62509:44:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135216,"nodeType":"IfStatement","src":"62505:94:178","trueBody":{"id":135215,"nodeType":"Block","src":"62555:44:178","statements":[{"expression":{"hexValue":"496e76616c6964417072","id":135213,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"62576:12:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_cc21fd95747775a2aee1f15fdca63f3e1a072c2b20cded9d4aa926bf38803041","typeString":"literal_string \"InvalidApr\""},"value":"InvalidApr"},"functionReturnParameters":135180,"id":135214,"nodeType":"Return","src":"62569:19:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135221,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135217,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"62612:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135218,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"62625:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135219,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"62637:16:178","memberName":"InvalidBaseToken","nodeType":"MemberAccess","referencedDeclaration":5494,"src":"62625:28:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135220,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"62654:8:178","memberName":"selector","nodeType":"MemberAccess","src":"62625:37:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"62612:50:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135225,"nodeType":"IfStatement","src":"62608:106:178","trueBody":{"id":135224,"nodeType":"Block","src":"62664:50:178","statements":[{"expression":{"hexValue":"496e76616c696442617365546f6b656e","id":135222,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"62685:18:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_55cfd030d3507a0b7d5c76b6ec41922b57d86d60898259f7eafdabf258a25fee","typeString":"literal_string \"InvalidBaseToken\""},"value":"InvalidBaseToken"},"functionReturnParameters":135180,"id":135223,"nodeType":"Return","src":"62678:25:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135230,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135226,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"62727:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135227,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"62740:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135228,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"62752:21:178","memberName":"InvalidCheckpointTime","nodeType":"MemberAccess","referencedDeclaration":5496,"src":"62740:33:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135229,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"62774:8:178","memberName":"selector","nodeType":"MemberAccess","src":"62740:42:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"62727:55:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135234,"nodeType":"IfStatement","src":"62723:116:178","trueBody":{"id":135233,"nodeType":"Block","src":"62784:55:178","statements":[{"expression":{"hexValue":"496e76616c6964436865636b706f696e7454696d65","id":135231,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"62805:23:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_6db046024e1eb63bbc465c4977544c2f7212397d63491c8d6f2ecf059951dcc5","typeString":"literal_string \"InvalidCheckpointTime\""},"value":"InvalidCheckpointTime"},"functionReturnParameters":135180,"id":135232,"nodeType":"Return","src":"62798:30:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135239,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135235,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"62852:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135236,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"62865:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135237,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"62877:25:178","memberName":"InvalidCheckpointDuration","nodeType":"MemberAccess","referencedDeclaration":5498,"src":"62865:37:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135238,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"62903:8:178","memberName":"selector","nodeType":"MemberAccess","src":"62865:46:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"62852:59:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135243,"nodeType":"IfStatement","src":"62848:124:178","trueBody":{"id":135242,"nodeType":"Block","src":"62913:59:178","statements":[{"expression":{"hexValue":"496e76616c6964436865636b706f696e744475726174696f6e","id":135240,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"62934:27:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_7164f576c376c148a2b7fc3fc4d41ddd3c8e2a17385d906273554ccdca0c520a","typeString":"literal_string \"InvalidCheckpointDuration\""},"value":"InvalidCheckpointDuration"},"functionReturnParameters":135180,"id":135241,"nodeType":"Return","src":"62927:34:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135248,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135244,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"62985:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135245,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"62998:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135246,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63010:24:178","memberName":"InvalidInitialSharePrice","nodeType":"MemberAccess","referencedDeclaration":5508,"src":"62998:36:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135247,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63035:8:178","memberName":"selector","nodeType":"MemberAccess","src":"62998:45:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"62985:58:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135252,"nodeType":"IfStatement","src":"62981:122:178","trueBody":{"id":135251,"nodeType":"Block","src":"63045:58:178","statements":[{"expression":{"hexValue":"496e76616c6964496e697469616c53686172655072696365","id":135249,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"63066:26:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_a9428086526cd03a6430714b0c635a201f64fcbf714f28a30b8a050c71b0bcde","typeString":"literal_string \"InvalidInitialSharePrice\""},"value":"InvalidInitialSharePrice"},"functionReturnParameters":135180,"id":135250,"nodeType":"Return","src":"63059:33:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135257,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135253,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"63116:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135254,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"63129:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135255,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63141:19:178","memberName":"InvalidMaturityTime","nodeType":"MemberAccess","referencedDeclaration":5510,"src":"63129:31:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135256,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63161:8:178","memberName":"selector","nodeType":"MemberAccess","src":"63129:40:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"63116:53:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135261,"nodeType":"IfStatement","src":"63112:112:178","trueBody":{"id":135260,"nodeType":"Block","src":"63171:53:178","statements":[{"expression":{"hexValue":"496e76616c69644d6174757269747954696d65","id":135258,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"63192:21:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_f1a875ca1078b16b5a851536aecb912a4cf888c6d66da34ce63e7a4dbc9cff88","typeString":"literal_string \"InvalidMaturityTime\""},"value":"InvalidMaturityTime"},"functionReturnParameters":135180,"id":135259,"nodeType":"Return","src":"63185:28:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135266,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135262,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"63237:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135263,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"63250:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135264,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63262:27:178","memberName":"InvalidMinimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":5512,"src":"63250:39:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135265,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63290:8:178","memberName":"selector","nodeType":"MemberAccess","src":"63250:48:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"63237:61:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135270,"nodeType":"IfStatement","src":"63233:128:178","trueBody":{"id":135269,"nodeType":"Block","src":"63300:61:178","statements":[{"expression":{"hexValue":"496e76616c69644d696e696d756d53686172655265736572766573","id":135267,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"63321:29:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_c43e482f1d12341417e816ccd17cbcb7607f22f74c7a6bd8582ad67f2fb2cbba","typeString":"literal_string \"InvalidMinimumShareReserves\""},"value":"InvalidMinimumShareReserves"},"functionReturnParameters":135180,"id":135268,"nodeType":"Return","src":"63314:36:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135275,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135271,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"63374:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135272,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"63387:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135273,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63399:23:178","memberName":"InvalidPositionDuration","nodeType":"MemberAccess","referencedDeclaration":5514,"src":"63387:35:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135274,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63423:8:178","memberName":"selector","nodeType":"MemberAccess","src":"63387:44:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"63374:57:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135279,"nodeType":"IfStatement","src":"63370:120:178","trueBody":{"id":135278,"nodeType":"Block","src":"63433:57:178","statements":[{"expression":{"hexValue":"496e76616c6964506f736974696f6e4475726174696f6e","id":135276,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"63454:25:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_15d24885932c93f6c3a36ff5e4ff1fe315335bd29a05837628b5d8f1303781e5","typeString":"literal_string \"InvalidPositionDuration\""},"value":"InvalidPositionDuration"},"functionReturnParameters":135180,"id":135277,"nodeType":"Return","src":"63447:32:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135284,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135280,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"63503:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135281,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"63516:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135282,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63528:20:178","memberName":"InvalidShareReserves","nodeType":"MemberAccess","referencedDeclaration":5516,"src":"63516:32:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135283,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63549:8:178","memberName":"selector","nodeType":"MemberAccess","src":"63516:41:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"63503:54:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135288,"nodeType":"IfStatement","src":"63499:114:178","trueBody":{"id":135287,"nodeType":"Block","src":"63559:54:178","statements":[{"expression":{"hexValue":"496e76616c696453686172655265736572766573","id":135285,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"63580:22:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_09764de62acc0cabad3cb59a076483d2290c81ef0190db623d9bdff3b5d29b4c","typeString":"literal_string \"InvalidShareReserves\""},"value":"InvalidShareReserves"},"functionReturnParameters":135180,"id":135286,"nodeType":"Return","src":"63573:29:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135293,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135289,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"63626:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135290,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"63639:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135291,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63651:17:178","memberName":"InvalidFeeAmounts","nodeType":"MemberAccess","referencedDeclaration":5502,"src":"63639:29:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135292,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63669:8:178","memberName":"selector","nodeType":"MemberAccess","src":"63639:38:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"63626:51:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135297,"nodeType":"IfStatement","src":"63622:108:178","trueBody":{"id":135296,"nodeType":"Block","src":"63679:51:178","statements":[{"expression":{"hexValue":"496e76616c6964466565416d6f756e7473","id":135294,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"63700:19:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_9a3832311abbdfc246d341df99ae103f5f82a789035e3ad3a1a618e9ff65d751","typeString":"literal_string \"InvalidFeeAmounts\""},"value":"InvalidFeeAmounts"},"functionReturnParameters":135180,"id":135295,"nodeType":"Return","src":"63693:26:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135302,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135298,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"63743:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135299,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"63756:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135300,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63768:21:178","memberName":"InvalidFeeDestination","nodeType":"MemberAccess","referencedDeclaration":5504,"src":"63756:33:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135301,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63790:8:178","memberName":"selector","nodeType":"MemberAccess","src":"63756:42:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"63743:55:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135306,"nodeType":"IfStatement","src":"63739:116:178","trueBody":{"id":135305,"nodeType":"Block","src":"63800:55:178","statements":[{"expression":{"hexValue":"496e76616c696446656544657374696e6174696f6e","id":135303,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"63821:23:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_d710c6bf95d5e0716b2ba4d6b8cd140e457e67fe9147b8656c1dea9a0359fc64","typeString":"literal_string \"InvalidFeeDestination\""},"value":"InvalidFeeDestination"},"functionReturnParameters":135180,"id":135304,"nodeType":"Return","src":"63814:30:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135311,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135307,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"63868:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135308,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"63881:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135309,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63893:16:178","memberName":"NegativeInterest","nodeType":"MemberAccess","referencedDeclaration":5524,"src":"63881:28:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135310,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63910:8:178","memberName":"selector","nodeType":"MemberAccess","src":"63881:37:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"63868:50:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135315,"nodeType":"IfStatement","src":"63864:106:178","trueBody":{"id":135314,"nodeType":"Block","src":"63920:50:178","statements":[{"expression":{"hexValue":"4e65676174697665496e746572657374","id":135312,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"63941:18:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_c450ce4f29c6d54a7604cab8db28fd895585654d59d5d3dc7d672adf2f31a6ed","typeString":"literal_string \"NegativeInterest\""},"value":"NegativeInterest"},"functionReturnParameters":135180,"id":135313,"nodeType":"Return","src":"63934:25:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135320,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135316,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"63983:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135317,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"63996:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135318,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"64008:11:178","memberName":"OutputLimit","nodeType":"MemberAccess","referencedDeclaration":5532,"src":"63996:23:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135319,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"64020:8:178","memberName":"selector","nodeType":"MemberAccess","src":"63996:32:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"63983:45:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135324,"nodeType":"IfStatement","src":"63979:96:178","trueBody":{"id":135323,"nodeType":"Block","src":"64030:45:178","statements":[{"expression":{"hexValue":"4f75747075744c696d6974","id":135321,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"64051:13:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_4fa5869155b07d77afa4a8b138ded3514d8272fcc86f2f60182ccd985bda5629","typeString":"literal_string \"OutputLimit\""},"value":"OutputLimit"},"functionReturnParameters":135180,"id":135322,"nodeType":"Return","src":"64044:20:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135329,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135325,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"64088:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135326,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"64101:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135327,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"64113:6:178","memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":5534,"src":"64101:18:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135328,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"64120:8:178","memberName":"selector","nodeType":"MemberAccess","src":"64101:27:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"64088:40:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135333,"nodeType":"IfStatement","src":"64084:86:178","trueBody":{"id":135332,"nodeType":"Block","src":"64130:40:178","statements":[{"expression":{"hexValue":"506175736564","id":135330,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"64151:8:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_0eeb5248cf3d8cd81a5ba6d3cc6e1997df7b174eb894aac081867c1a2bc43c90","typeString":"literal_string \"Paused\""},"value":"Paused"},"functionReturnParameters":135180,"id":135331,"nodeType":"Return","src":"64144:15:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135338,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135334,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"64183:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135335,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"64196:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135336,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"64208:22:178","memberName":"PoolAlreadyInitialized","nodeType":"MemberAccess","referencedDeclaration":5536,"src":"64196:34:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135337,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"64231:8:178","memberName":"selector","nodeType":"MemberAccess","src":"64196:43:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"64183:56:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135342,"nodeType":"IfStatement","src":"64179:118:178","trueBody":{"id":135341,"nodeType":"Block","src":"64241:56:178","statements":[{"expression":{"hexValue":"506f6f6c416c7265616479496e697469616c697a6564","id":135339,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"64262:24:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_844f3ea9738d94872dbc7d26beae0943a92540a2172d05c7795ece077f52d14c","typeString":"literal_string \"PoolAlreadyInitialized\""},"value":"PoolAlreadyInitialized"},"functionReturnParameters":135180,"id":135340,"nodeType":"Return","src":"64255:31:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135347,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135343,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"64310:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135344,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"64323:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135345,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"64335:14:178","memberName":"TransferFailed","nodeType":"MemberAccess","referencedDeclaration":5542,"src":"64323:26:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135346,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"64350:8:178","memberName":"selector","nodeType":"MemberAccess","src":"64323:35:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"64310:48:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135351,"nodeType":"IfStatement","src":"64306:102:178","trueBody":{"id":135350,"nodeType":"Block","src":"64360:48:178","statements":[{"expression":{"hexValue":"5472616e736665724661696c6564","id":135348,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"64381:16:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_bf7e4b28b83e91981237506863a0b375ee2265268eac0c62acc77834d3da44e4","typeString":"literal_string \"TransferFailed\""},"value":"TransferFailed"},"functionReturnParameters":135180,"id":135349,"nodeType":"Return","src":"64374:23:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135356,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135352,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"64421:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135353,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"64434:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135354,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"64446:17:178","memberName":"UnexpectedAssetId","nodeType":"MemberAccess","referencedDeclaration":5544,"src":"64434:29:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135355,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"64464:8:178","memberName":"selector","nodeType":"MemberAccess","src":"64434:38:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"64421:51:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135360,"nodeType":"IfStatement","src":"64417:108:178","trueBody":{"id":135359,"nodeType":"Block","src":"64474:51:178","statements":[{"expression":{"hexValue":"556e657870656374656441737365744964","id":135357,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"64495:19:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_900cc40c429d3cb9e58456c6facf437f83d7f3ea0c2892f5ccc7f2f9349368ee","typeString":"literal_string \"UnexpectedAssetId\""},"value":"UnexpectedAssetId"},"functionReturnParameters":135180,"id":135358,"nodeType":"Return","src":"64488:26:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135365,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135361,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"64538:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135362,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"64551:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135363,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"64563:16:178","memberName":"UnexpectedSender","nodeType":"MemberAccess","referencedDeclaration":5546,"src":"64551:28:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135364,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"64580:8:178","memberName":"selector","nodeType":"MemberAccess","src":"64551:37:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"64538:50:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135369,"nodeType":"IfStatement","src":"64534:106:178","trueBody":{"id":135368,"nodeType":"Block","src":"64590:50:178","statements":[{"expression":{"hexValue":"556e657870656374656453656e646572","id":135366,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"64611:18:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_2a47bf112352efbeaafb4a6f88929e30325c3c940a6dcd7c0fa839b31dce4b36","typeString":"literal_string \"UnexpectedSender\""},"value":"UnexpectedSender"},"functionReturnParameters":135180,"id":135367,"nodeType":"Return","src":"64604:25:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135374,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135370,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"64653:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135371,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"64666:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135372,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"64678:16:178","memberName":"UnsupportedToken","nodeType":"MemberAccess","referencedDeclaration":5548,"src":"64666:28:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135373,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"64695:8:178","memberName":"selector","nodeType":"MemberAccess","src":"64666:37:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"64653:50:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135378,"nodeType":"IfStatement","src":"64649:106:178","trueBody":{"id":135377,"nodeType":"Block","src":"64705:50:178","statements":[{"expression":{"hexValue":"556e737570706f72746564546f6b656e","id":135375,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"64726:18:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_cfecde7d087375c6c1bcef49ed49dc8876c721288ae8e1dac26111ffe326c5b4","typeString":"literal_string \"UnsupportedToken\""},"value":"UnsupportedToken"},"functionReturnParameters":135180,"id":135376,"nodeType":"Return","src":"64719:25:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135383,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135379,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"64768:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135380,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"64781:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135381,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"64793:24:178","memberName":"MinimumTransactionAmount","nodeType":"MemberAccess","referencedDeclaration":5522,"src":"64781:36:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135382,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"64818:8:178","memberName":"selector","nodeType":"MemberAccess","src":"64781:45:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"64768:58:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135387,"nodeType":"IfStatement","src":"64764:122:178","trueBody":{"id":135386,"nodeType":"Block","src":"64828:58:178","statements":[{"expression":{"hexValue":"4d696e696d756d5472616e73616374696f6e416d6f756e74","id":135384,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"64849:26:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_492417564dc4a4c63f9c86c8498e78aaa9505ecb1df71804075a6bf3e7a5c427","typeString":"literal_string \"MinimumTransactionAmount\""},"value":"MinimumTransactionAmount"},"functionReturnParameters":135180,"id":135385,"nodeType":"Return","src":"64842:33:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135392,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135388,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"64899:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135389,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"64912:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135390,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"64924:17:178","memberName":"ZeroLpTotalSupply","nodeType":"MemberAccess","referencedDeclaration":5550,"src":"64912:29:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135391,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"64942:8:178","memberName":"selector","nodeType":"MemberAccess","src":"64912:38:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"64899:51:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135396,"nodeType":"IfStatement","src":"64895:108:178","trueBody":{"id":135395,"nodeType":"Block","src":"64952:51:178","statements":[{"expression":{"hexValue":"5a65726f4c70546f74616c537570706c79","id":135393,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"64973:19:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_ebd32247e921b95ef92682a652e846f1928cec2e8ff25b1154ee19b1d905edee","typeString":"literal_string \"ZeroLpTotalSupply\""},"value":"ZeroLpTotalSupply"},"functionReturnParameters":135180,"id":135394,"nodeType":"Return","src":"64966:26:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135401,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135397,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"65016:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135398,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"65029:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135399,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65041:18:178","memberName":"NoAssetsToWithdraw","nodeType":"MemberAccess","referencedDeclaration":5528,"src":"65029:30:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135400,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65060:8:178","memberName":"selector","nodeType":"MemberAccess","src":"65029:39:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"65016:52:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135405,"nodeType":"IfStatement","src":"65012:110:178","trueBody":{"id":135404,"nodeType":"Block","src":"65070:52:178","statements":[{"expression":{"hexValue":"4e6f417373657473546f5769746864726177","id":135402,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"65091:20:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_9c08850cb3a3d4849cf1654531c50f8b3ae3da79084fff04a9c91018583f5d93","typeString":"literal_string \"NoAssetsToWithdraw\""},"value":"NoAssetsToWithdraw"},"functionReturnParameters":135180,"id":135403,"nodeType":"Return","src":"65084:27:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135410,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135406,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"65135:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135407,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"65148:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135408,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65160:10:178","memberName":"NotPayable","nodeType":"MemberAccess","referencedDeclaration":5530,"src":"65148:22:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135409,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65171:8:178","memberName":"selector","nodeType":"MemberAccess","src":"65148:31:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"65135:44:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135414,"nodeType":"IfStatement","src":"65131:94:178","trueBody":{"id":135413,"nodeType":"Block","src":"65181:44:178","statements":[{"expression":{"hexValue":"4e6f7450617961626c65","id":135411,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"65202:12:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_e04447bf688189d1a327973d3a989fd0b2f46aa2492f339562fcb79bb1a996b2","typeString":"literal_string \"NotPayable\""},"value":"NotPayable"},"functionReturnParameters":135180,"id":135412,"nodeType":"Return","src":"65195:19:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135419,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135415,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"65238:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135416,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"65251:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135417,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65263:15:178","memberName":"QueryOutOfRange","nodeType":"MemberAccess","referencedDeclaration":5553,"src":"65251:27:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135418,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65279:8:178","memberName":"selector","nodeType":"MemberAccess","src":"65251:36:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"65238:49:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135423,"nodeType":"IfStatement","src":"65234:104:178","trueBody":{"id":135422,"nodeType":"Block","src":"65289:49:178","statements":[{"expression":{"hexValue":"51756572794f75744f6652616e6765","id":135420,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"65310:17:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_ffff016daa6ee0ecfaa879e40b382df0e94c5c7b8d4b572390879c939e8f9760","typeString":"literal_string \"QueryOutOfRange\""},"value":"QueryOutOfRange"},"functionReturnParameters":135180,"id":135421,"nodeType":"Return","src":"65303:24:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135428,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135424,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"65351:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135425,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"65364:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135426,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65376:10:178","memberName":"ReturnData","nodeType":"MemberAccess","referencedDeclaration":5558,"src":"65364:22:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes_memory_ptr_$returns$__$","typeString":"function (bytes memory) pure"}},"id":135427,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65387:8:178","memberName":"selector","nodeType":"MemberAccess","src":"65364:31:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"65351:44:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135432,"nodeType":"IfStatement","src":"65347:94:178","trueBody":{"id":135431,"nodeType":"Block","src":"65397:44:178","statements":[{"expression":{"hexValue":"52657475726e44617461","id":135429,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"65418:12:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_746b7e6d17d039f7609f79fdb36fefb722b13f553f16f5aa81d5f5752ca25fdc","typeString":"literal_string \"ReturnData\""},"value":"ReturnData"},"functionReturnParameters":135180,"id":135430,"nodeType":"Return","src":"65411:19:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135437,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135433,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"65454:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135434,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"65467:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135435,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65479:10:178","memberName":"CallFailed","nodeType":"MemberAccess","referencedDeclaration":5562,"src":"65467:22:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$__$","typeString":"function (bytes4) pure"}},"id":135436,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65490:8:178","memberName":"selector","nodeType":"MemberAccess","src":"65467:31:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"65454:44:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135441,"nodeType":"IfStatement","src":"65450:94:178","trueBody":{"id":135440,"nodeType":"Block","src":"65500:44:178","statements":[{"expression":{"hexValue":"43616c6c4661696c6564","id":135438,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"65521:12:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_baaa713b1fb5fcf6267edfc681c5844d66ee47ca07482f98eb05ce8618e613d7","typeString":"literal_string \"CallFailed\""},"value":"CallFailed"},"functionReturnParameters":135180,"id":135439,"nodeType":"Return","src":"65514:19:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135446,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135442,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"65557:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135443,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"65570:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135444,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65582:17:178","memberName":"UnexpectedSuccess","nodeType":"MemberAccess","referencedDeclaration":5564,"src":"65570:29:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135445,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65600:8:178","memberName":"selector","nodeType":"MemberAccess","src":"65570:38:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"65557:51:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135450,"nodeType":"IfStatement","src":"65553:108:178","trueBody":{"id":135449,"nodeType":"Block","src":"65610:51:178","statements":[{"expression":{"hexValue":"556e657870656374656453756363657373","id":135447,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"65631:19:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_934c0356e413b5125749463d23f92046442d40717df45d007e9c9ff777295825","typeString":"literal_string \"UnexpectedSuccess\""},"value":"UnexpectedSuccess"},"functionReturnParameters":135180,"id":135448,"nodeType":"Return","src":"65624:26:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135455,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135451,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"65674:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135452,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"65687:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135453,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65699:12:178","memberName":"Unauthorized","nodeType":"MemberAccess","referencedDeclaration":5567,"src":"65687:24:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135454,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65712:8:178","memberName":"selector","nodeType":"MemberAccess","src":"65687:33:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"65674:46:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135459,"nodeType":"IfStatement","src":"65670:98:178","trueBody":{"id":135458,"nodeType":"Block","src":"65722:46:178","statements":[{"expression":{"hexValue":"556e617574686f72697a6564","id":135456,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"65743:14:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_1b2638459828301e8cd6c7c02856073bacf975379e0867f689bb14feacb780c5","typeString":"literal_string \"Unauthorized\""},"value":"Unauthorized"},"functionReturnParameters":135180,"id":135457,"nodeType":"Return","src":"65736:21:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135464,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135460,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"65781:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135461,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"65794:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135462,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65806:19:178","memberName":"InvalidContribution","nodeType":"MemberAccess","referencedDeclaration":5569,"src":"65794:31:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135463,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65826:8:178","memberName":"selector","nodeType":"MemberAccess","src":"65794:40:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"65781:53:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135468,"nodeType":"IfStatement","src":"65777:112:178","trueBody":{"id":135467,"nodeType":"Block","src":"65836:53:178","statements":[{"expression":{"hexValue":"496e76616c6964436f6e747269627574696f6e","id":135465,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"65857:21:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_b6b5d20f6a2206c561b76a60cd9264e5d489b2ff0fbd564b89f3d89b8c64ff76","typeString":"literal_string \"InvalidContribution\""},"value":"InvalidContribution"},"functionReturnParameters":135180,"id":135466,"nodeType":"Return","src":"65850:28:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135473,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135469,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"65902:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135470,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"65915:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135471,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65927:12:178","memberName":"InvalidToken","nodeType":"MemberAccess","referencedDeclaration":5571,"src":"65915:24:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135472,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65940:8:178","memberName":"selector","nodeType":"MemberAccess","src":"65915:33:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"65902:46:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135477,"nodeType":"IfStatement","src":"65898:98:178","trueBody":{"id":135476,"nodeType":"Block","src":"65950:46:178","statements":[{"expression":{"hexValue":"496e76616c6964546f6b656e","id":135474,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"65971:14:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_73cfea713ea530e6ea88616f42e815a32041fbc05af94e04ae6f4408615f26be","typeString":"literal_string \"InvalidToken\""},"value":"InvalidToken"},"functionReturnParameters":135180,"id":135475,"nodeType":"Return","src":"65964:21:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135482,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135478,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"66009:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135479,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"66022:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135480,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"66034:13:178","memberName":"MaxFeeTooHigh","nodeType":"MemberAccess","referencedDeclaration":5573,"src":"66022:25:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135481,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"66048:8:178","memberName":"selector","nodeType":"MemberAccess","src":"66022:34:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"66009:47:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135486,"nodeType":"IfStatement","src":"66005:100:178","trueBody":{"id":135485,"nodeType":"Block","src":"66058:47:178","statements":[{"expression":{"hexValue":"4d6178466565546f6f48696768","id":135483,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"66079:15:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_532d9b4469f581053e41d8d8a9b1c987317c20437877c5761fccb6ac36a93ab1","typeString":"literal_string \"MaxFeeTooHigh\""},"value":"MaxFeeTooHigh"},"functionReturnParameters":135180,"id":135484,"nodeType":"Return","src":"66072:22:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135491,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135487,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"66118:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135488,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"66131:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135489,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"66143:10:178","memberName":"FeeTooHigh","nodeType":"MemberAccess","referencedDeclaration":5575,"src":"66131:22:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135490,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"66154:8:178","memberName":"selector","nodeType":"MemberAccess","src":"66131:31:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"66118:44:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135495,"nodeType":"IfStatement","src":"66114:94:178","trueBody":{"id":135494,"nodeType":"Block","src":"66164:44:178","statements":[{"expression":{"hexValue":"466565546f6f48696768","id":135492,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"66185:12:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_07eb62c91692087e506532c1ab45900ec560211dae6c4a052ebf639b5d422cc0","typeString":"literal_string \"FeeTooHigh\""},"value":"FeeTooHigh"},"functionReturnParameters":135180,"id":135493,"nodeType":"Return","src":"66178:19:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135500,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135496,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"66221:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135497,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"66234:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135498,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"66246:24:178","memberName":"NonPayableInitialization","nodeType":"MemberAccess","referencedDeclaration":5577,"src":"66234:36:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135499,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"66271:8:178","memberName":"selector","nodeType":"MemberAccess","src":"66234:45:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"66221:58:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135504,"nodeType":"IfStatement","src":"66217:122:178","trueBody":{"id":135503,"nodeType":"Block","src":"66281:58:178","statements":[{"expression":{"hexValue":"4e6f6e50617961626c65496e697469616c697a6174696f6e","id":135501,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"66302:26:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_902faa1408104f6d6b75c66b31272e8f17ff31ea87be3f43731bce7caa73d557","typeString":"literal_string \"NonPayableInitialization\""},"value":"NonPayableInitialization"},"functionReturnParameters":135180,"id":135502,"nodeType":"Return","src":"66295:33:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135509,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135505,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"66352:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135506,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"66365:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135507,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"66377:24:178","memberName":"BatchInputLengthMismatch","nodeType":"MemberAccess","referencedDeclaration":5586,"src":"66365:36:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135508,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"66402:8:178","memberName":"selector","nodeType":"MemberAccess","src":"66365:45:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"66352:58:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135513,"nodeType":"IfStatement","src":"66348:122:178","trueBody":{"id":135512,"nodeType":"Block","src":"66412:58:178","statements":[{"expression":{"hexValue":"4261746368496e7075744c656e6774684d69736d61746368","id":135510,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"66433:26:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_ea618da14bb642637320dd95c2bef3fe3a027b95373e6f36b3f5ff77460c62cf","typeString":"literal_string \"BatchInputLengthMismatch\""},"value":"BatchInputLengthMismatch"},"functionReturnParameters":135180,"id":135511,"nodeType":"Return","src":"66426:33:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135518,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135514,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"66483:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135515,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"66496:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135516,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"66508:15:178","memberName":"ExpiredDeadline","nodeType":"MemberAccess","referencedDeclaration":5588,"src":"66496:27:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135517,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"66524:8:178","memberName":"selector","nodeType":"MemberAccess","src":"66496:36:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"66483:49:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135522,"nodeType":"IfStatement","src":"66479:104:178","trueBody":{"id":135521,"nodeType":"Block","src":"66534:49:178","statements":[{"expression":{"hexValue":"45787069726564446561646c696e65","id":135519,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"66555:17:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_4f5ee0ab763a92776b03f3d100ebc98ec29e57bb6a9a20ac5254359ee66f3bca","typeString":"literal_string \"ExpiredDeadline\""},"value":"ExpiredDeadline"},"functionReturnParameters":135180,"id":135520,"nodeType":"Return","src":"66548:24:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135527,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135523,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"66596:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135524,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"66609:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135525,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"66621:15:178","memberName":"ExpiredDeadline","nodeType":"MemberAccess","referencedDeclaration":5588,"src":"66609:27:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135526,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"66637:8:178","memberName":"selector","nodeType":"MemberAccess","src":"66609:36:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"66596:49:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135531,"nodeType":"IfStatement","src":"66592:105:178","trueBody":{"id":135530,"nodeType":"Block","src":"66647:50:178","statements":[{"expression":{"hexValue":"496e76616c69645369676e6174757265","id":135528,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"66668:18:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_26f94074f55601aaa609f6dfadf4b7fc63d9f3c56ec02fb00e9d0804ff24ff6f","typeString":"literal_string \"InvalidSignature\""},"value":"InvalidSignature"},"functionReturnParameters":135180,"id":135529,"nodeType":"Return","src":"66661:25:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135536,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135532,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"66710:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135533,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"66723:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135534,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"66735:18:178","memberName":"InvalidERC20Bridge","nodeType":"MemberAccess","referencedDeclaration":5592,"src":"66723:30:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135535,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"66754:8:178","memberName":"selector","nodeType":"MemberAccess","src":"66723:39:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"66710:52:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135540,"nodeType":"IfStatement","src":"66706:110:178","trueBody":{"id":135539,"nodeType":"Block","src":"66764:52:178","statements":[{"expression":{"hexValue":"496e76616c69644552433230427269646765","id":135537,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"66785:20:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_f928d8784b65b09a9c699522a251c75a090fa5c1340fcfffb23cde8d9767a790","typeString":"literal_string \"InvalidERC20Bridge\""},"value":"InvalidERC20Bridge"},"functionReturnParameters":135180,"id":135538,"nodeType":"Return","src":"66778:27:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135545,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135541,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"66829:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135542,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"66842:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135543,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"66854:21:178","memberName":"RestrictedZeroAddress","nodeType":"MemberAccess","referencedDeclaration":5594,"src":"66842:33:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135544,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"66876:8:178","memberName":"selector","nodeType":"MemberAccess","src":"66842:42:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"66829:55:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135549,"nodeType":"IfStatement","src":"66825:116:178","trueBody":{"id":135548,"nodeType":"Block","src":"66886:55:178","statements":[{"expression":{"hexValue":"526573747269637465645a65726f41646472657373","id":135546,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"66907:23:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_4ea5ff73f295e447d07a6507e1b3f3488471028427dc86d62924a393c51030ba","typeString":"literal_string \"RestrictedZeroAddress\""},"value":"RestrictedZeroAddress"},"functionReturnParameters":135180,"id":135547,"nodeType":"Return","src":"66900:30:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135554,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135550,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"66954:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135551,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"66967:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135552,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"66979:13:178","memberName":"AlreadyClosed","nodeType":"MemberAccess","referencedDeclaration":5604,"src":"66967:25:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135553,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"66993:8:178","memberName":"selector","nodeType":"MemberAccess","src":"66967:34:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"66954:47:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135558,"nodeType":"IfStatement","src":"66950:100:178","trueBody":{"id":135557,"nodeType":"Block","src":"67003:47:178","statements":[{"expression":{"hexValue":"416c7265616479436c6f736564","id":135555,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"67024:15:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_ebf312f35307721c4e5eab3e27a7b2d222b15cef511d9384ec8d01c644328a10","typeString":"literal_string \"AlreadyClosed\""},"value":"AlreadyClosed"},"functionReturnParameters":135180,"id":135556,"nodeType":"Return","src":"67017:22:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135563,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135559,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"67063:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135560,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"67076:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135561,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67088:11:178","memberName":"BondMatured","nodeType":"MemberAccess","referencedDeclaration":5606,"src":"67076:23:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135562,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67100:8:178","memberName":"selector","nodeType":"MemberAccess","src":"67076:32:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"67063:45:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135567,"nodeType":"IfStatement","src":"67059:96:178","trueBody":{"id":135566,"nodeType":"Block","src":"67110:45:178","statements":[{"expression":{"hexValue":"426f6e644d617475726564","id":135564,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"67131:13:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_4a128dec33e67f6d5be78069a4b722a0349229b295f098d8469d8165a862baff","typeString":"literal_string \"BondMatured\""},"value":"BondMatured"},"functionReturnParameters":135180,"id":135565,"nodeType":"Return","src":"67124:20:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135572,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135568,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"67168:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135569,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"67181:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135570,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67193:14:178","memberName":"BondNotMatured","nodeType":"MemberAccess","referencedDeclaration":5608,"src":"67181:26:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135571,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67208:8:178","memberName":"selector","nodeType":"MemberAccess","src":"67181:35:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"67168:48:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135576,"nodeType":"IfStatement","src":"67164:102:178","trueBody":{"id":135575,"nodeType":"Block","src":"67218:48:178","statements":[{"expression":{"hexValue":"426f6e644e6f744d617475726564","id":135573,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"67239:16:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_b729d74740aebc6ed976d2ab1a75e5af53e2fff3cf32c687e02a5eafecf7711e","typeString":"literal_string \"BondNotMatured\""},"value":"BondNotMatured"},"functionReturnParameters":135180,"id":135574,"nodeType":"Return","src":"67232:23:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135581,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135577,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"67279:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135578,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"67292:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135579,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67304:17:178","memberName":"InsufficientPrice","nodeType":"MemberAccess","referencedDeclaration":5610,"src":"67292:29:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135580,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67322:8:178","memberName":"selector","nodeType":"MemberAccess","src":"67292:38:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"67279:51:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135585,"nodeType":"IfStatement","src":"67275:108:178","trueBody":{"id":135584,"nodeType":"Block","src":"67332:51:178","statements":[{"expression":{"hexValue":"496e73756666696369656e745072696365","id":135582,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"67353:19:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_71fa1bfd7973964703dd2e2562aea89e904f4ea71bd0502724fb9639903887ff","typeString":"literal_string \"InsufficientPrice\""},"value":"InsufficientPrice"},"functionReturnParameters":135180,"id":135583,"nodeType":"Return","src":"67346:26:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135590,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135586,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"67396:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135587,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"67409:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135588,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67421:18:178","memberName":"MintPercentTooHigh","nodeType":"MemberAccess","referencedDeclaration":5614,"src":"67409:30:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135589,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67440:8:178","memberName":"selector","nodeType":"MemberAccess","src":"67409:39:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"67396:52:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135594,"nodeType":"IfStatement","src":"67392:110:178","trueBody":{"id":135593,"nodeType":"Block","src":"67450:52:178","statements":[{"expression":{"hexValue":"4d696e7450657263656e74546f6f48696768","id":135591,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"67471:20:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_4fd66c7f64732dd4d9c28e5e3575e1c821f0cfe657a59341ab21f5cfb88370d9","typeString":"literal_string \"MintPercentTooHigh\""},"value":"MintPercentTooHigh"},"functionReturnParameters":135180,"id":135592,"nodeType":"Return","src":"67464:27:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135599,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135595,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"67515:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135596,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"67528:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135597,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67540:16:178","memberName":"InvalidTimestamp","nodeType":"MemberAccess","referencedDeclaration":5617,"src":"67528:28:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135598,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67557:8:178","memberName":"selector","nodeType":"MemberAccess","src":"67528:37:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"67515:50:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135603,"nodeType":"IfStatement","src":"67511:106:178","trueBody":{"id":135602,"nodeType":"Block","src":"67567:50:178","statements":[{"expression":{"hexValue":"496e76616c696454696d657374616d70","id":135600,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"67588:18:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_8b17494aae37f9a8d84378e3e577c37ec6b7caa0812d7528bafdef8debb4b247","typeString":"literal_string \"InvalidTimestamp\""},"value":"InvalidTimestamp"},"functionReturnParameters":135180,"id":135601,"nodeType":"Return","src":"67581:25:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135608,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135604,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"67630:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135605,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"67643:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135606,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67655:30:178","memberName":"FixedPointMath_InvalidExponent","nodeType":"MemberAccess","referencedDeclaration":5620,"src":"67643:42:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135607,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67686:8:178","memberName":"selector","nodeType":"MemberAccess","src":"67643:51:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"67630:64:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135612,"nodeType":"IfStatement","src":"67626:134:178","trueBody":{"id":135611,"nodeType":"Block","src":"67696:64:178","statements":[{"expression":{"hexValue":"4669786564506f696e744d6174685f496e76616c69644578706f6e656e74","id":135609,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"67717:32:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_60ce03e412cbced2a1e3eadcb58dfd123de317e0deea178aac6293eac900535a","typeString":"literal_string \"FixedPointMath_InvalidExponent\""},"value":"FixedPointMath_InvalidExponent"},"functionReturnParameters":135180,"id":135610,"nodeType":"Return","src":"67710:39:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135617,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135613,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"67786:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135614,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"67799:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135615,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67811:34:178","memberName":"FixedPointMath_NegativeOrZeroInput","nodeType":"MemberAccess","referencedDeclaration":5624,"src":"67799:46:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135616,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67846:8:178","memberName":"selector","nodeType":"MemberAccess","src":"67799:55:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"67786:68:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135621,"nodeType":"IfStatement","src":"67769:164:178","trueBody":{"id":135620,"nodeType":"Block","src":"67865:68:178","statements":[{"expression":{"hexValue":"4669786564506f696e744d6174685f4e656761746976654f725a65726f496e707574","id":135618,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"67886:36:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_50672376c631b93bb5c26aa37f8b83f495bc2ce7930253bb5102016b300f6525","typeString":"literal_string \"FixedPointMath_NegativeOrZeroInput\""},"value":"FixedPointMath_NegativeOrZeroInput"},"functionReturnParameters":135180,"id":135619,"nodeType":"Return","src":"67879:43:178"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"id":135626,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135622,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":135176,"src":"67946:9:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":135623,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5658,"src":"67959:11:178","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$5658_$","typeString":"type(contract IHyperdrive)"}},"id":135624,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67971:28:178","memberName":"FixedPointMath_NegativeInput","nodeType":"MemberAccess","referencedDeclaration":5626,"src":"67959:40:178","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":135625,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"68000:8:178","memberName":"selector","nodeType":"MemberAccess","src":"67959:49:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"67946:62:178","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":135630,"nodeType":"IfStatement","src":"67942:130:178","trueBody":{"id":135629,"nodeType":"Block","src":"68010:62:178","statements":[{"expression":{"hexValue":"4669786564506f696e744d6174685f4e65676174697665496e707574","id":135627,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"68031:30:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_159237859af5ea7ef20a92b9030ee8e43cd660550aec1e743ae81729000b3f4d","typeString":"literal_string \"FixedPointMath_NegativeInput\""},"value":"FixedPointMath_NegativeInput"},"functionReturnParameters":135180,"id":135628,"nodeType":"Return","src":"68024:37:178"}]}},{"expression":{"arguments":[{"hexValue":"556e6b6e6f776e2073656c6563746f72","id":135632,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"68088:18:178","typeDescriptions":{"typeIdentifier":"t_stringliteral_a2c8e0e5a9bee2d87b55bbd9aa4ff259bb0b56014c3f3e170965ca97baad6ba5","typeString":"literal_string \"Unknown selector\""},"value":"Unknown selector"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_a2c8e0e5a9bee2d87b55bbd9aa4ff259bb0b56014c3f3e170965ca97baad6ba5","typeString":"literal_string \"Unknown selector\""}],"id":135631,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"68081:6:178","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":135633,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"68081:26:178","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":135634,"nodeType":"ExpressionStatement","src":"68081:26:178"}]},"implemented":true,"kind":"function","modifiers":[],"name":"decodeError","nameLocation":"61962:11:178","parameters":{"id":135177,"nodeType":"ParameterList","parameters":[{"constant":false,"id":135176,"mutability":"mutable","name":"_selector","nameLocation":"61990:9:178","nodeType":"VariableDeclaration","scope":135636,"src":"61983:16:178","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":135175,"name":"bytes4","nodeType":"ElementaryTypeName","src":"61983:6:178","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"61973:32:178"},"returnParameters":{"id":135180,"nodeType":"ParameterList","parameters":[{"constant":false,"id":135179,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":135636,"src":"62029:13:178","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":135178,"name":"string","nodeType":"ElementaryTypeName","src":"62029:6:178","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"62028:15:178"},"scope":135637,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"HyperdriveUtils","contractDependencies":[],"contractKind":"library","fullyImplemented":true,"linearizedBaseContracts":[135637],"name":"HyperdriveUtils","nameLocation":"505:15:178","scope":135638,"usedErrors":[]}],"license":"Apache-2.0"},"id":178} as const;
