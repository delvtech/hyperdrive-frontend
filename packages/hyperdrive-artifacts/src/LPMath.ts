export const LPMath = 
{"abi":[],"bytecode":{"object":"0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122065ec3924822fb72d7ad0e6d62764d1d0ee4c786edb18817a01ca929fba975e3664736f6c63430008140033","sourceMap":"645:70074:75:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;645:70074:75;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x73000000000000000000000000000000000000000030146080604052600080fdfea264697066735822122065ec3924822fb72d7ad0e6d62764d1d0ee4c786edb18817a01ca929fba975e3664736f6c63430008140033","sourceMap":"645:70074:75:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[],\"devdoc\":{\"author\":\"DELV\",\"custom:disclaimer\":\"The language used in this code is for coding convenience                    only, and is not intended to, and does not, have any                    particular legal or regulatory significance.\",\"kind\":\"dev\",\"methods\":{},\"stateVariables\":{\"MAX_SHARE_RESERVES_DELTA_MAX_ITERATIONS\":{\"details\":\"The maximum number of iterations for the max share reserves delta      calculation.\"},\"MAX_SHARE_RESERVES_DELTA_MIN_TOLERANCE\":{\"details\":\"The minimum tolerance for the max share reserves delta calculation      to short-circuit.\"},\"SHARE_PROCEEDS_MAX_ITERATIONS\":{\"details\":\"The maximum number of iterations for the share proceeds calculation.\"},\"SHARE_PROCEEDS_MIN_TOLERANCE\":{\"details\":\"The minimum tolerance for the share proceeds calculation to      short-circuit.\"}},\"title\":\"LPMath\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"notice\":\"Math for the Hyperdrive LP system.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/src/libraries/LPMath.sol\":\"LPMath\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":aave-v3-core/=lib/aave-v3-core/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\",\":solmate/=lib/solmate/src/\"]},\"sources\":{\"contracts/src/interfaces/IERC20.sol\":{\"keccak256\":\"0xfd51b9727f00a434ea4ced64044c104ed8361fa2ed22600969d1e4ff257b14f3\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://8780b588acc11dd906ff0897adc5b7acdab759fec4d14ce0d52bf002cb90c398\",\"dweb:/ipfs/QmTMaRGveFgN5L3k1h5oAbfp5ccmzT9d36JhChVg9PxJkD\"]},\"contracts/src/interfaces/IHyperdrive.sol\":{\"keccak256\":\"0x81c89ca62586555b915a9609d10014ff9d1f0d82111809d566f614bd9ea2fb16\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://3c4859b122480f504d1f0035ed11983b0d74ea2b16bcf26dfe19365bb4f66240\",\"dweb:/ipfs/QmQEQBxRdsH6zNx2rvzetYZRbB3pMXXWzTuwVPBGVhCHfL\"]},\"contracts/src/interfaces/IHyperdriveCore.sol\":{\"keccak256\":\"0x93cfce28869c1a082c170092b87b04204a91b7898a1e95c3e4270f06fbc76a97\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://b8b24e13ff8994550685fec1405bc5d2a5ed6400db061005e72ecff056be51a1\",\"dweb:/ipfs/QmR4RZzyhjYt8xxRPaJWHKhBZdHZPVBHrtNERAZhCaaTFU\"]},\"contracts/src/interfaces/IHyperdriveEvents.sol\":{\"keccak256\":\"0x5c5d6c812fd2cf996d60632c4c8cca7b3d70f5ae4891a3f99c1e10f967f520dd\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://44ef09e50cf76ebab25b90688b19966575cc07fee503ffdb189c3fbbcbfea01f\",\"dweb:/ipfs/QmZEULHXopjaeWbsfXNrEriQomY19s6LXEcae9saeZCpmt\"]},\"contracts/src/interfaces/IHyperdriveRead.sol\":{\"keccak256\":\"0x516967eaae812ff7fff81797190f48fca40838eccfb8243e3f973f2f85b51597\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://50fa3165b126976c218d27f7f276789f8cc680d3136cd631999164a64f03e477\",\"dweb:/ipfs/QmTSCjqQoys2SJNDZrhTdy2M2at8siSb3ZXHjWUoeihQjr\"]},\"contracts/src/interfaces/IMultiToken.sol\":{\"keccak256\":\"0xf5f82b8223e0c1bfcf4f73566a909ba07a9266960dfe2335c1494e06debbbe3f\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://920cf3fd66132a1e98a6a5708ad9a3bb047f4df8848119ab382b51094c1290a7\",\"dweb:/ipfs/QmWL3SyG8L91Coe9DsHz3Ke9tGMvYBf2NgRRDr3Fg5xFzp\"]},\"contracts/src/interfaces/IMultiTokenCore.sol\":{\"keccak256\":\"0xda628a0f7428ad63cb04b6f341c223d7b36803d554e92cd3a793325eae6ad87a\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://f7dfe92e6fb15eedbba033a96481db1343aeb48039d40d4b5053cc27d3f5e4f3\",\"dweb:/ipfs/QmNeNyjuEd7LkwZMg14fnMsunLXbJRzHYwzC2yEYKi8H3q\"]},\"contracts/src/interfaces/IMultiTokenEvents.sol\":{\"keccak256\":\"0xb5b2a1f90c4e85e1290144b1e0e393027c90f24d6030ee802d0369342d7bf002\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://f7850a790ea32726462f6dd08c87e5250c70155af558b8fdd17dc71d53c5b7f3\",\"dweb:/ipfs/QmWpshz1Ufdqmw8rmZdbdm9ZyEcKHFswLMNaBkBJ3sqNA1\"]},\"contracts/src/interfaces/IMultiTokenMetadata.sol\":{\"keccak256\":\"0xa2e1d420bcae975a3d9aa7918319da2dd047cbc50ad41e0a391048e01b980191\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://335611b957d8ca7c0cee11d6f2268372a7c937bc119c030cb8e274679604b6cd\",\"dweb:/ipfs/QmeoxLRyPVgBXrxetVFEyjsvLNfwAahcHsFdAEzy9otxuU\"]},\"contracts/src/interfaces/IMultiTokenRead.sol\":{\"keccak256\":\"0xf84c46faa4a3323835a80eae3ee969409bf3f5c48ec94a6e486b70cb59a4c868\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://b1dcc1796eac62773f298b5b77fda8de424d822a7e74825028a0f83c627a5bfb\",\"dweb:/ipfs/QmRbiswdabx3uMgrgkLKe6K6JAQBLafsWqEyZCg3PQbN5Q\"]},\"contracts/src/libraries/Errors.sol\":{\"keccak256\":\"0x45f48f5b8caec5b751850b7266abd84c7400debfbad0f112847582bb052058b0\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://46c85e0c750cdb752bec5d67a8a0bc8df071d934c568c880d08a5120a1a11d88\",\"dweb:/ipfs/Qmc2L1ePB1gqBwUiaAUeoG6hvoPtS2hdY6rhEXzX1SfB41\"]},\"contracts/src/libraries/FixedPointMath.sol\":{\"keccak256\":\"0xdcf0c77bc29a0b5b2ce06cccfa6f5e936128e5c0f14a5636bfe21faf95c515bf\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://088172c3f97db68914cdef042d942b0d0c585cce77d004625bfa62a72ac1e95d\",\"dweb:/ipfs/Qmewa9GJtYxBw4fAx4HZJaNuUCKEoQT4c5nmhPyXxVEwwq\"]},\"contracts/src/libraries/HyperdriveMath.sol\":{\"keccak256\":\"0x94662a356f9ab292c0935ff4c29f9b826a17176eb98b472efed7afbfe4d5d744\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://794c5605f8f0716b871a8747fea516d26fd73f0add45a944ac4034de96c60c7a\",\"dweb:/ipfs/QmYSsquDzxupHSwWMsjjooxNxuzQ29ezczFsP2VQ5PYYve\"]},\"contracts/src/libraries/LPMath.sol\":{\"keccak256\":\"0x8d9491ad62e48c7148389a72feca73a388076e3386d7ddc6788193be359e1266\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://d340b65b76fc638d119d7d1d6f38fa044c34fc9297dc0c1627c9820218b2e244\",\"dweb:/ipfs/QmZo3nPVg3j2Ga8UXRZFQyTq7RuYuY6F2tYynnVUP4SbDY\"]},\"contracts/src/libraries/SafeCast.sol\":{\"keccak256\":\"0x390a002b83e7ed8a99d4ca9b3ea514b2080c237911a3a3d0fa2ad4522a09d60b\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://51ea972cf6d3c79ea6b93c63c85fbba2bd234e71704715a1d9bd897da9d6fcb1\",\"dweb:/ipfs/QmXEGDrLyeAYMZiDVNynVzRzAYgnspcdLfkMeGr81DmJpL\"]},\"contracts/src/libraries/YieldSpaceMath.sol\":{\"keccak256\":\"0x76f69d3104f3f97d67289512325306d7ea2c7b29a787eeef93ffc47e8a80f346\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://6c8df31a46b4287c23c67e0157e6f6a4877608ed3fb1919a9c07f5bd9b81d7f6\",\"dweb:/ipfs/QmPua6efzJGnC7NarnPojk9yF2geqenUaXUNRmPVHJdXWk\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.20+commit.a1b79de6"},"language":"Solidity","output":{"abi":[],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","aave-v3-core/=lib/aave-v3-core/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/openzeppelin-contracts/contracts/","solmate/=lib/solmate/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/src/libraries/LPMath.sol":"LPMath"},"libraries":{}},"sources":{"contracts/src/interfaces/IERC20.sol":{"keccak256":"0xfd51b9727f00a434ea4ced64044c104ed8361fa2ed22600969d1e4ff257b14f3","urls":["bzz-raw://8780b588acc11dd906ff0897adc5b7acdab759fec4d14ce0d52bf002cb90c398","dweb:/ipfs/QmTMaRGveFgN5L3k1h5oAbfp5ccmzT9d36JhChVg9PxJkD"],"license":"Apache-2.0"},"contracts/src/interfaces/IHyperdrive.sol":{"keccak256":"0x81c89ca62586555b915a9609d10014ff9d1f0d82111809d566f614bd9ea2fb16","urls":["bzz-raw://3c4859b122480f504d1f0035ed11983b0d74ea2b16bcf26dfe19365bb4f66240","dweb:/ipfs/QmQEQBxRdsH6zNx2rvzetYZRbB3pMXXWzTuwVPBGVhCHfL"],"license":"Apache-2.0"},"contracts/src/interfaces/IHyperdriveCore.sol":{"keccak256":"0x93cfce28869c1a082c170092b87b04204a91b7898a1e95c3e4270f06fbc76a97","urls":["bzz-raw://b8b24e13ff8994550685fec1405bc5d2a5ed6400db061005e72ecff056be51a1","dweb:/ipfs/QmR4RZzyhjYt8xxRPaJWHKhBZdHZPVBHrtNERAZhCaaTFU"],"license":"Apache-2.0"},"contracts/src/interfaces/IHyperdriveEvents.sol":{"keccak256":"0x5c5d6c812fd2cf996d60632c4c8cca7b3d70f5ae4891a3f99c1e10f967f520dd","urls":["bzz-raw://44ef09e50cf76ebab25b90688b19966575cc07fee503ffdb189c3fbbcbfea01f","dweb:/ipfs/QmZEULHXopjaeWbsfXNrEriQomY19s6LXEcae9saeZCpmt"],"license":"Apache-2.0"},"contracts/src/interfaces/IHyperdriveRead.sol":{"keccak256":"0x516967eaae812ff7fff81797190f48fca40838eccfb8243e3f973f2f85b51597","urls":["bzz-raw://50fa3165b126976c218d27f7f276789f8cc680d3136cd631999164a64f03e477","dweb:/ipfs/QmTSCjqQoys2SJNDZrhTdy2M2at8siSb3ZXHjWUoeihQjr"],"license":"Apache-2.0"},"contracts/src/interfaces/IMultiToken.sol":{"keccak256":"0xf5f82b8223e0c1bfcf4f73566a909ba07a9266960dfe2335c1494e06debbbe3f","urls":["bzz-raw://920cf3fd66132a1e98a6a5708ad9a3bb047f4df8848119ab382b51094c1290a7","dweb:/ipfs/QmWL3SyG8L91Coe9DsHz3Ke9tGMvYBf2NgRRDr3Fg5xFzp"],"license":"Apache-2.0"},"contracts/src/interfaces/IMultiTokenCore.sol":{"keccak256":"0xda628a0f7428ad63cb04b6f341c223d7b36803d554e92cd3a793325eae6ad87a","urls":["bzz-raw://f7dfe92e6fb15eedbba033a96481db1343aeb48039d40d4b5053cc27d3f5e4f3","dweb:/ipfs/QmNeNyjuEd7LkwZMg14fnMsunLXbJRzHYwzC2yEYKi8H3q"],"license":"Apache-2.0"},"contracts/src/interfaces/IMultiTokenEvents.sol":{"keccak256":"0xb5b2a1f90c4e85e1290144b1e0e393027c90f24d6030ee802d0369342d7bf002","urls":["bzz-raw://f7850a790ea32726462f6dd08c87e5250c70155af558b8fdd17dc71d53c5b7f3","dweb:/ipfs/QmWpshz1Ufdqmw8rmZdbdm9ZyEcKHFswLMNaBkBJ3sqNA1"],"license":"Apache-2.0"},"contracts/src/interfaces/IMultiTokenMetadata.sol":{"keccak256":"0xa2e1d420bcae975a3d9aa7918319da2dd047cbc50ad41e0a391048e01b980191","urls":["bzz-raw://335611b957d8ca7c0cee11d6f2268372a7c937bc119c030cb8e274679604b6cd","dweb:/ipfs/QmeoxLRyPVgBXrxetVFEyjsvLNfwAahcHsFdAEzy9otxuU"],"license":"Apache-2.0"},"contracts/src/interfaces/IMultiTokenRead.sol":{"keccak256":"0xf84c46faa4a3323835a80eae3ee969409bf3f5c48ec94a6e486b70cb59a4c868","urls":["bzz-raw://b1dcc1796eac62773f298b5b77fda8de424d822a7e74825028a0f83c627a5bfb","dweb:/ipfs/QmRbiswdabx3uMgrgkLKe6K6JAQBLafsWqEyZCg3PQbN5Q"],"license":"Apache-2.0"},"contracts/src/libraries/Errors.sol":{"keccak256":"0x45f48f5b8caec5b751850b7266abd84c7400debfbad0f112847582bb052058b0","urls":["bzz-raw://46c85e0c750cdb752bec5d67a8a0bc8df071d934c568c880d08a5120a1a11d88","dweb:/ipfs/Qmc2L1ePB1gqBwUiaAUeoG6hvoPtS2hdY6rhEXzX1SfB41"],"license":"Apache-2.0"},"contracts/src/libraries/FixedPointMath.sol":{"keccak256":"0xdcf0c77bc29a0b5b2ce06cccfa6f5e936128e5c0f14a5636bfe21faf95c515bf","urls":["bzz-raw://088172c3f97db68914cdef042d942b0d0c585cce77d004625bfa62a72ac1e95d","dweb:/ipfs/Qmewa9GJtYxBw4fAx4HZJaNuUCKEoQT4c5nmhPyXxVEwwq"],"license":"Apache-2.0"},"contracts/src/libraries/HyperdriveMath.sol":{"keccak256":"0x94662a356f9ab292c0935ff4c29f9b826a17176eb98b472efed7afbfe4d5d744","urls":["bzz-raw://794c5605f8f0716b871a8747fea516d26fd73f0add45a944ac4034de96c60c7a","dweb:/ipfs/QmYSsquDzxupHSwWMsjjooxNxuzQ29ezczFsP2VQ5PYYve"],"license":"Apache-2.0"},"contracts/src/libraries/LPMath.sol":{"keccak256":"0x8d9491ad62e48c7148389a72feca73a388076e3386d7ddc6788193be359e1266","urls":["bzz-raw://d340b65b76fc638d119d7d1d6f38fa044c34fc9297dc0c1627c9820218b2e244","dweb:/ipfs/QmZo3nPVg3j2Ga8UXRZFQyTq7RuYuY6F2tYynnVUP4SbDY"],"license":"Apache-2.0"},"contracts/src/libraries/SafeCast.sol":{"keccak256":"0x390a002b83e7ed8a99d4ca9b3ea514b2080c237911a3a3d0fa2ad4522a09d60b","urls":["bzz-raw://51ea972cf6d3c79ea6b93c63c85fbba2bd234e71704715a1d9bd897da9d6fcb1","dweb:/ipfs/QmXEGDrLyeAYMZiDVNynVzRzAYgnspcdLfkMeGr81DmJpL"],"license":"Apache-2.0"},"contracts/src/libraries/YieldSpaceMath.sol":{"keccak256":"0x76f69d3104f3f97d67289512325306d7ea2c7b29a787eeef93ffc47e8a80f346","urls":["bzz-raw://6c8df31a46b4287c23c67e0157e6f6a4877608ed3fb1919a9c07f5bd9b81d7f6","dweb:/ipfs/QmPua6efzJGnC7NarnPojk9yF2geqenUaXUNRmPVHJdXWk"],"license":"Apache-2.0"}},"version":1},"ast":{"absolutePath":"contracts/src/libraries/LPMath.sol","id":17603,"exportedSymbols":{"FixedPointMath":[14294],"HyperdriveMath":[15024],"IHyperdrive":[7411],"LPMath":[17602],"ONE":[13529],"SafeCast":[17708],"YieldSpaceMath":[18569]},"nodeType":"SourceUnit","src":"39:70681:75","nodes":[{"id":15026,"nodeType":"PragmaDirective","src":"39:23:75","nodes":[],"literals":["solidity","0.8",".20"]},{"id":15028,"nodeType":"ImportDirective","src":"64:60:75","nodes":[],"absolutePath":"contracts/src/interfaces/IHyperdrive.sol","file":"../interfaces/IHyperdrive.sol","nameLocation":"-1:-1:-1","scope":17603,"sourceUnit":7412,"symbolAliases":[{"foreign":{"id":15027,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":7411,"src":"73:11:75","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":15031,"nodeType":"ImportDirective","src":"125:59:75","nodes":[],"absolutePath":"contracts/src/libraries/FixedPointMath.sol","file":"./FixedPointMath.sol","nameLocation":"-1:-1:-1","scope":17603,"sourceUnit":14295,"symbolAliases":[{"foreign":{"id":15029,"name":"FixedPointMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14294,"src":"134:14:75","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":15030,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"150:3:75","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":15033,"nodeType":"ImportDirective","src":"185:54:75","nodes":[],"absolutePath":"contracts/src/libraries/HyperdriveMath.sol","file":"./HyperdriveMath.sol","nameLocation":"-1:-1:-1","scope":17603,"sourceUnit":15025,"symbolAliases":[{"foreign":{"id":15032,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15024,"src":"194:14:75","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":15035,"nodeType":"ImportDirective","src":"240:42:75","nodes":[],"absolutePath":"contracts/src/libraries/SafeCast.sol","file":"./SafeCast.sol","nameLocation":"-1:-1:-1","scope":17603,"sourceUnit":17709,"symbolAliases":[{"foreign":{"id":15034,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17708,"src":"249:8:75","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":15037,"nodeType":"ImportDirective","src":"283:54:75","nodes":[],"absolutePath":"contracts/src/libraries/YieldSpaceMath.sol","file":"./YieldSpaceMath.sol","nameLocation":"-1:-1:-1","scope":17603,"sourceUnit":18570,"symbolAliases":[{"foreign":{"id":15036,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18569,"src":"292:14:75","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":17602,"nodeType":"ContractDefinition","src":"645:70074:75","nodes":[{"id":15040,"nodeType":"UsingForDirective","src":"666:27:75","nodes":[],"global":false,"libraryName":{"id":15039,"name":"FixedPointMath","nameLocations":["672:14:75"],"nodeType":"IdentifierPath","referencedDeclaration":14294,"src":"672:14:75"}},{"id":15044,"nodeType":"VariableDeclaration","src":"781:59:75","nodes":[],"constant":true,"documentation":{"id":15041,"nodeType":"StructuredDocumentation","src":"699:77:75","text":"@dev The maximum number of iterations for the share proceeds calculation."},"mutability":"constant","name":"SHARE_PROCEEDS_MAX_ITERATIONS","nameLocation":"807:29:75","scope":17602,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15042,"name":"uint256","nodeType":"ElementaryTypeName","src":"781:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"34","id":15043,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"839:1:75","typeDescriptions":{"typeIdentifier":"t_rational_4_by_1","typeString":"int_const 4"},"value":"4"},"visibility":"internal"},{"id":15048,"nodeType":"VariableDeclaration","src":"948:60:75","nodes":[],"constant":true,"documentation":{"id":15045,"nodeType":"StructuredDocumentation","src":"847:96:75","text":"@dev The minimum tolerance for the share proceeds calculation to\n      short-circuit."},"mutability":"constant","name":"SHARE_PROCEEDS_MIN_TOLERANCE","nameLocation":"974:28:75","scope":17602,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15046,"name":"uint256","nodeType":"ElementaryTypeName","src":"948:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"316539","id":15047,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1005:3:75","typeDescriptions":{"typeIdentifier":"t_rational_1000000000_by_1","typeString":"int_const 1000000000"},"value":"1e9"},"visibility":"internal"},{"id":15052,"nodeType":"VariableDeclaration","src":"1120:69:75","nodes":[],"constant":true,"documentation":{"id":15049,"nodeType":"StructuredDocumentation","src":"1015:100:75","text":"@dev The maximum number of iterations for the max share reserves delta\n      calculation."},"mutability":"constant","name":"MAX_SHARE_RESERVES_DELTA_MAX_ITERATIONS","nameLocation":"1146:39:75","scope":17602,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15050,"name":"uint256","nodeType":"ElementaryTypeName","src":"1120:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"33","id":15051,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1188:1:75","typeDescriptions":{"typeIdentifier":"t_rational_3_by_1","typeString":"int_const 3"},"value":"3"},"visibility":"internal"},{"id":15056,"nodeType":"VariableDeclaration","src":"1307:70:75","nodes":[],"constant":true,"documentation":{"id":15053,"nodeType":"StructuredDocumentation","src":"1196:106:75","text":"@dev The minimum tolerance for the max share reserves delta calculation\n      to short-circuit."},"mutability":"constant","name":"MAX_SHARE_RESERVES_DELTA_MIN_TOLERANCE","nameLocation":"1333:38:75","scope":17602,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15054,"name":"uint256","nodeType":"ElementaryTypeName","src":"1307:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"316536","id":15055,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1374:3:75","typeDescriptions":{"typeIdentifier":"t_rational_1000000_by_1","typeString":"int_const 1000000"},"value":"1e6"},"visibility":"internal"},{"id":15174,"nodeType":"FunctionDefinition","src":"2119:3268:75","nodes":[],"body":{"id":15173,"nodeType":"Block","src":"2496:2891:75","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":15078,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15076,"name":"_shareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15067,"src":"2616:19:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":15077,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2639:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2616:24:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":15085,"nodeType":"IfStatement","src":"2612:111:75","trueBody":{"id":15084,"nodeType":"Block","src":"2642:81:75","statements":[{"expression":{"components":[{"id":15079,"name":"_shareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15059,"src":"2664:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":15080,"name":"_shareAdjustment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15061,"src":"2680:16:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"id":15081,"name":"_bondReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15063,"src":"2698:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":15082,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2663:49:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"tuple(uint256,int256,uint256)"}},"functionReturnParameters":15075,"id":15083,"nodeType":"Return","src":"2656:56:75"}]}},{"assignments":[15087],"declarations":[{"constant":false,"id":15087,"mutability":"mutable","name":"shareReserves_","nameLocation":"2899:14:75","nodeType":"VariableDeclaration","scope":15173,"src":"2892:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":15086,"name":"int256","nodeType":"ElementaryTypeName","src":"2892:6:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":15094,"initialValue":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":15093,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":15090,"name":"_shareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15059,"src":"2923:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15089,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2916:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":15088,"name":"int256","nodeType":"ElementaryTypeName","src":"2916:6:75","typeDescriptions":{}}},"id":15091,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2916:22:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":15092,"name":"_shareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15067,"src":"2941:19:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"2916:44:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"2892:68:75"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":15100,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15095,"name":"shareReserves_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15087,"src":"2974:14:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"arguments":[{"id":15098,"name":"_minimumShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15065,"src":"2998:21:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15097,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2991:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":15096,"name":"int256","nodeType":"ElementaryTypeName","src":"2991:6:75","typeDescriptions":{}}},"id":15099,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2991:29:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"2974:46:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":15107,"nodeType":"IfStatement","src":"2970:118:75","trueBody":{"id":15106,"nodeType":"Block","src":"3022:66:75","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":15101,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":7411,"src":"3043:11:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$7411_$","typeString":"type(contract IHyperdrive)"}},"id":15103,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3055:20:75","memberName":"InvalidShareReserves","nodeType":"MemberAccess","referencedDeclaration":7319,"src":"3043:32:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":15104,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3043:34:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":15105,"nodeType":"RevertStatement","src":"3036:41:75"}]}},{"expression":{"id":15113,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":15108,"name":"shareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15070,"src":"3097:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":15111,"name":"shareReserves_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15087,"src":"3121:14:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":15110,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3113:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":15109,"name":"uint256","nodeType":"ElementaryTypeName","src":"3113:7:75","typeDescriptions":{}}},"id":15112,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3113:23:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3097:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":15114,"nodeType":"ExpressionStatement","src":"3097:39:75"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":15117,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15115,"name":"_shareAdjustment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15061,"src":"3691:16:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"hexValue":"30","id":15116,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3711:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3691:21:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":15155,"nodeType":"Block","src":"4033:315:75","statements":[{"expression":{"id":15153,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":15136,"name":"shareAdjustment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15072,"src":"4145:15:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":15152,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"4163:174:75","subExpression":{"arguments":[{"arguments":[{"arguments":[{"id":15147,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"4251:17:75","subExpression":{"id":15146,"name":"_shareAdjustment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15061,"src":"4252:16:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":15145,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4243:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":15144,"name":"uint256","nodeType":"ElementaryTypeName","src":"4243:7:75","typeDescriptions":{}}},"id":15148,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4243:26:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":15149,"name":"_shareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15059,"src":"4291:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":15141,"name":"shareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15070,"src":"4196:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15140,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4188:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":15139,"name":"uint256","nodeType":"ElementaryTypeName","src":"4188:7:75","typeDescriptions":{}}},"id":15142,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4188:22:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":15143,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4211:10:75","memberName":"mulDivDown","nodeType":"MemberAccess","referencedDeclaration":13554,"src":"4188:33:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":15150,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4188:135:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15138,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4164:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":15137,"name":"int256","nodeType":"ElementaryTypeName","src":"4164:6:75","typeDescriptions":{}}},"id":15151,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4164:173:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"4145:192:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":15154,"nodeType":"ExpressionStatement","src":"4145:192:75"}]},"id":15156,"nodeType":"IfStatement","src":"3687:661:75","trueBody":{"id":15135,"nodeType":"Block","src":"3714:313:75","statements":[{"expression":{"id":15133,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":15118,"name":"shareAdjustment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15072,"src":"3826:15:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"arguments":[{"id":15128,"name":"_shareAdjustment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15061,"src":"3931:16:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":15127,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3923:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":15126,"name":"uint256","nodeType":"ElementaryTypeName","src":"3923:7:75","typeDescriptions":{}}},"id":15129,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3923:25:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":15130,"name":"_shareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15059,"src":"3970:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":15123,"name":"shareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15070,"src":"3876:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15122,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3868:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":15121,"name":"uint256","nodeType":"ElementaryTypeName","src":"3868:7:75","typeDescriptions":{}}},"id":15124,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3868:22:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":15125,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3891:10:75","memberName":"mulDivDown","nodeType":"MemberAccess","referencedDeclaration":13554,"src":"3868:33:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":15131,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3868:134:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15120,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3844:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":15119,"name":"int256","nodeType":"ElementaryTypeName","src":"3844:6:75","typeDescriptions":{}}},"id":15132,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3844:172:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"3826:190:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":15134,"nodeType":"ExpressionStatement","src":"3826:190:75"}]}},{"expression":{"id":15171,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":15157,"name":"bondReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15074,"src":"5049:12:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":15164,"name":"_bondReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15063,"src":"5197:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[{"id":15167,"name":"_shareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15059,"src":"5296:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":15168,"name":"_shareAdjustment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15061,"src":"5332:16:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":15165,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15024,"src":"5228:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$15024_$","typeString":"type(library HyperdriveMath)"}},"id":15166,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5243:31:75","memberName":"calculateEffectiveShareReserves","nodeType":"MemberAccess","referencedDeclaration":14502,"src":"5228:46:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$returns$_t_uint256_$","typeString":"function (uint256,int256) pure returns (uint256)"}},"id":15169,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5228:138:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":15160,"name":"shareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15070,"src":"5124:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":15161,"name":"shareAdjustment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15072,"src":"5139:15:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":15158,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15024,"src":"5064:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$15024_$","typeString":"type(library HyperdriveMath)"}},"id":15159,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5092:31:75","memberName":"calculateEffectiveShareReserves","nodeType":"MemberAccess","referencedDeclaration":14502,"src":"5064:59:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$returns$_t_uint256_$","typeString":"function (uint256,int256) pure returns (uint256)"}},"id":15162,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5064:91:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":15163,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5169:10:75","memberName":"mulDivDown","nodeType":"MemberAccess","referencedDeclaration":13554,"src":"5064:115:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":15170,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5064:316:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5049:331:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":15172,"nodeType":"ExpressionStatement","src":"5049:331:75"}]},"documentation":{"id":15057,"nodeType":"StructuredDocumentation","src":"1384:730:75","text":"@dev Calculates the new share reserves, share adjustment, and bond\n      reserves after liquidity is added or removed from the pool. This\n      update is made in such a way that the pool's spot price remains\n      constant.\n @param _shareReserves The current share reserves.\n @param _shareAdjustment The current share adjustment.\n @param _bondReserves The current bond reserves.\n @param _minimumShareReserves The minimum share reserves.\n @param _shareReservesDelta The change in share reserves.\n @return shareReserves The updated share reserves.\n @return shareAdjustment The updated share adjustment.\n @return bondReserves The updated bond reserves."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateUpdateLiquidity","nameLocation":"2128:24:75","parameters":{"id":15068,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15059,"mutability":"mutable","name":"_shareReserves","nameLocation":"2170:14:75","nodeType":"VariableDeclaration","scope":15174,"src":"2162:22:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15058,"name":"uint256","nodeType":"ElementaryTypeName","src":"2162:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15061,"mutability":"mutable","name":"_shareAdjustment","nameLocation":"2201:16:75","nodeType":"VariableDeclaration","scope":15174,"src":"2194:23:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":15060,"name":"int256","nodeType":"ElementaryTypeName","src":"2194:6:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":15063,"mutability":"mutable","name":"_bondReserves","nameLocation":"2235:13:75","nodeType":"VariableDeclaration","scope":15174,"src":"2227:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15062,"name":"uint256","nodeType":"ElementaryTypeName","src":"2227:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15065,"mutability":"mutable","name":"_minimumShareReserves","nameLocation":"2266:21:75","nodeType":"VariableDeclaration","scope":15174,"src":"2258:29:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15064,"name":"uint256","nodeType":"ElementaryTypeName","src":"2258:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15067,"mutability":"mutable","name":"_shareReservesDelta","nameLocation":"2304:19:75","nodeType":"VariableDeclaration","scope":15174,"src":"2297:26:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":15066,"name":"int256","nodeType":"ElementaryTypeName","src":"2297:6:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"2152:177:75"},"returnParameters":{"id":15075,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15070,"mutability":"mutable","name":"shareReserves","nameLocation":"2398:13:75","nodeType":"VariableDeclaration","scope":15174,"src":"2390:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15069,"name":"uint256","nodeType":"ElementaryTypeName","src":"2390:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15072,"mutability":"mutable","name":"shareAdjustment","nameLocation":"2432:15:75","nodeType":"VariableDeclaration","scope":15174,"src":"2425:22:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":15071,"name":"int256","nodeType":"ElementaryTypeName","src":"2425:6:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":15074,"mutability":"mutable","name":"bondReserves","nameLocation":"2469:12:75","nodeType":"VariableDeclaration","scope":15174,"src":"2461:20:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15073,"name":"uint256","nodeType":"ElementaryTypeName","src":"2461:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2376:115:75"},"scope":17602,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":15197,"nodeType":"StructDefinition","src":"5393:420:75","nodes":[],"canonicalName":"LPMath.PresentValueParams","members":[{"constant":false,"id":15176,"mutability":"mutable","name":"shareReserves","nameLocation":"5437:13:75","nodeType":"VariableDeclaration","scope":15197,"src":"5429:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15175,"name":"uint256","nodeType":"ElementaryTypeName","src":"5429:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15178,"mutability":"mutable","name":"shareAdjustment","nameLocation":"5467:15:75","nodeType":"VariableDeclaration","scope":15197,"src":"5460:22:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":15177,"name":"int256","nodeType":"ElementaryTypeName","src":"5460:6:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":15180,"mutability":"mutable","name":"bondReserves","nameLocation":"5500:12:75","nodeType":"VariableDeclaration","scope":15197,"src":"5492:20:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15179,"name":"uint256","nodeType":"ElementaryTypeName","src":"5492:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15182,"mutability":"mutable","name":"vaultSharePrice","nameLocation":"5530:15:75","nodeType":"VariableDeclaration","scope":15197,"src":"5522:23:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15181,"name":"uint256","nodeType":"ElementaryTypeName","src":"5522:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15184,"mutability":"mutable","name":"initialVaultSharePrice","nameLocation":"5563:22:75","nodeType":"VariableDeclaration","scope":15197,"src":"5555:30:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15183,"name":"uint256","nodeType":"ElementaryTypeName","src":"5555:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15186,"mutability":"mutable","name":"minimumShareReserves","nameLocation":"5603:20:75","nodeType":"VariableDeclaration","scope":15197,"src":"5595:28:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15185,"name":"uint256","nodeType":"ElementaryTypeName","src":"5595:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15188,"mutability":"mutable","name":"timeStretch","nameLocation":"5641:11:75","nodeType":"VariableDeclaration","scope":15197,"src":"5633:19:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15187,"name":"uint256","nodeType":"ElementaryTypeName","src":"5633:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15190,"mutability":"mutable","name":"longsOutstanding","nameLocation":"5670:16:75","nodeType":"VariableDeclaration","scope":15197,"src":"5662:24:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15189,"name":"uint256","nodeType":"ElementaryTypeName","src":"5662:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15192,"mutability":"mutable","name":"longAverageTimeRemaining","nameLocation":"5704:24:75","nodeType":"VariableDeclaration","scope":15197,"src":"5696:32:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15191,"name":"uint256","nodeType":"ElementaryTypeName","src":"5696:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15194,"mutability":"mutable","name":"shortsOutstanding","nameLocation":"5746:17:75","nodeType":"VariableDeclaration","scope":15197,"src":"5738:25:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15193,"name":"uint256","nodeType":"ElementaryTypeName","src":"5738:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15196,"mutability":"mutable","name":"shortAverageTimeRemaining","nameLocation":"5781:25:75","nodeType":"VariableDeclaration","scope":15197,"src":"5773:33:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15195,"name":"uint256","nodeType":"ElementaryTypeName","src":"5773:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"PresentValueParams","nameLocation":"5400:18:75","scope":17602,"visibility":"public"},{"id":15226,"nodeType":"FunctionDefinition","src":"6170:342:75","nodes":[],"body":{"id":15225,"nodeType":"Block","src":"6282:230:75","nodes":[],"statements":[{"assignments":[15207,15209],"declarations":[{"constant":false,"id":15207,"mutability":"mutable","name":"presentValue","nameLocation":"6301:12:75","nodeType":"VariableDeclaration","scope":15225,"src":"6293:20:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15206,"name":"uint256","nodeType":"ElementaryTypeName","src":"6293:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15209,"mutability":"mutable","name":"success","nameLocation":"6320:7:75","nodeType":"VariableDeclaration","scope":15225,"src":"6315:12:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":15208,"name":"bool","nodeType":"ElementaryTypeName","src":"6315:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":15213,"initialValue":{"arguments":[{"id":15211,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15201,"src":"6370:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}],"id":15210,"name":"calculatePresentValueSafe","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15294,"src":"6331:25:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_PresentValueParams_$15197_memory_ptr_$returns$_t_uint256_$_t_bool_$","typeString":"function (struct LPMath.PresentValueParams memory) pure returns (uint256,bool)"}},"id":15212,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6331:56:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"nodeType":"VariableDeclarationStatement","src":"6292:95:75"},{"condition":{"id":15215,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"6401:8:75","subExpression":{"id":15214,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15209,"src":"6402:7:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":15222,"nodeType":"IfStatement","src":"6397:80:75","trueBody":{"id":15221,"nodeType":"Block","src":"6411:66:75","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":15216,"name":"IHyperdrive","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":7411,"src":"6432:11:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IHyperdrive_$7411_$","typeString":"type(contract IHyperdrive)"}},"id":15218,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6444:20:75","memberName":"NegativePresentValue","nodeType":"MemberAccess","referencedDeclaration":7337,"src":"6432:32:75","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":15219,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6432:34:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":15220,"nodeType":"RevertStatement","src":"6425:41:75"}]}},{"expression":{"id":15223,"name":"presentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15207,"src":"6493:12:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":15205,"id":15224,"nodeType":"Return","src":"6486:19:75"}]},"documentation":{"id":15198,"nodeType":"StructuredDocumentation","src":"5819:346:75","text":"@dev Calculates the present value LPs capital in the pool and reverts\n      if the value is negative. This calculation underestimates the\n      present value to avoid paying out more than the pool can afford.\n @param _params The parameters for the present value calculation.\n @return The present value of the pool."},"implemented":true,"kind":"function","modifiers":[],"name":"calculatePresentValue","nameLocation":"6179:21:75","parameters":{"id":15202,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15201,"mutability":"mutable","name":"_params","nameLocation":"6236:7:75","nodeType":"VariableDeclaration","scope":15226,"src":"6210:33:75","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams"},"typeName":{"id":15200,"nodeType":"UserDefinedTypeName","pathNode":{"id":15199,"name":"PresentValueParams","nameLocations":["6210:18:75"],"nodeType":"IdentifierPath","referencedDeclaration":15197,"src":"6210:18:75"},"referencedDeclaration":15197,"src":"6210:18:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_storage_ptr","typeString":"struct LPMath.PresentValueParams"}},"visibility":"internal"}],"src":"6200:49:75"},"returnParameters":{"id":15205,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15204,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":15226,"src":"6273:7:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15203,"name":"uint256","nodeType":"ElementaryTypeName","src":"6273:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6272:9:75"},"scope":17602,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":15294,"nodeType":"FunctionDefinition","src":"6998:1166:75","nodes":[],"body":{"id":15293,"nodeType":"Block","src":"7120:1044:75","nodes":[],"statements":[{"assignments":[15238],"declarations":[{"constant":false,"id":15238,"mutability":"mutable","name":"presentValue","nameLocation":"7498:12:75","nodeType":"VariableDeclaration","scope":15293,"src":"7491:19:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":15237,"name":"int256","nodeType":"ElementaryTypeName","src":"7491:6:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":15239,"nodeType":"VariableDeclarationStatement","src":"7491:19:75"},{"id":15276,"nodeType":"Block","src":"7520:416:75","statements":[{"assignments":[15241,15243],"declarations":[{"constant":false,"id":15241,"mutability":"mutable","name":"netCurveTrade","nameLocation":"7542:13:75","nodeType":"VariableDeclaration","scope":15276,"src":"7535:20:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":15240,"name":"int256","nodeType":"ElementaryTypeName","src":"7535:6:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":15243,"mutability":"mutable","name":"success","nameLocation":"7562:7:75","nodeType":"VariableDeclaration","scope":15276,"src":"7557:12:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":15242,"name":"bool","nodeType":"ElementaryTypeName","src":"7557:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":15247,"initialValue":{"arguments":[{"id":15245,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15230,"src":"7617:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}],"id":15244,"name":"calculateNetCurveTradeSafe","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15542,"src":"7573:26:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_PresentValueParams_$15197_memory_ptr_$returns$_t_int256_$_t_bool_$","typeString":"function (struct LPMath.PresentValueParams memory) pure returns (int256,bool)"}},"id":15246,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7573:65:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_int256_$_t_bool_$","typeString":"tuple(int256,bool)"}},"nodeType":"VariableDeclarationStatement","src":"7534:104:75"},{"condition":{"id":15249,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"7656:8:75","subExpression":{"id":15248,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15243,"src":"7657:7:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":15255,"nodeType":"IfStatement","src":"7652:64:75","trueBody":{"id":15254,"nodeType":"Block","src":"7666:50:75","statements":[{"expression":{"components":[{"hexValue":"30","id":15250,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7692:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"66616c7365","id":15251,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"7695:5:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"id":15252,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"7691:10:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_bool_$","typeString":"tuple(int_const 0,bool)"}},"functionReturnParameters":15236,"id":15253,"nodeType":"Return","src":"7684:17:75"}]}},{"expression":{"id":15274,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":15256,"name":"presentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15238,"src":"7729:12:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":15273,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":15267,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":15263,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"expression":{"id":15259,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15230,"src":"7767:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15260,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7775:13:75","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":15176,"src":"7767:21:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15258,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7760:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":15257,"name":"int256","nodeType":"ElementaryTypeName","src":"7760:6:75","typeDescriptions":{}}},"id":15261,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7760:29:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":15262,"name":"netCurveTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15241,"src":"7808:13:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7760:61:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"id":15265,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15230,"src":"7862:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}],"id":15264,"name":"calculateNetFlatTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15580,"src":"7840:21:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_PresentValueParams_$15197_memory_ptr_$returns$_t_int256_$","typeString":"function (struct LPMath.PresentValueParams memory) pure returns (int256)"}},"id":15266,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7840:30:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7760:110:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"expression":{"id":15270,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15230,"src":"7896:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15271,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7904:20:75","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":15186,"src":"7896:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15269,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7889:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":15268,"name":"int256","nodeType":"ElementaryTypeName","src":"7889:6:75","typeDescriptions":{}}},"id":15272,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7889:36:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7760:165:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7729:196:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":15275,"nodeType":"ExpressionStatement","src":"7729:196:75"}]},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":15279,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15277,"name":"presentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15238,"src":"8051:12:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"30","id":15278,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8066:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8051:16:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":15285,"nodeType":"IfStatement","src":"8047:64:75","trueBody":{"id":15284,"nodeType":"Block","src":"8069:42:75","statements":[{"expression":{"components":[{"hexValue":"30","id":15280,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8091:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"66616c7365","id":15281,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"8094:5:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"id":15282,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"8090:10:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_bool_$","typeString":"tuple(int_const 0,bool)"}},"functionReturnParameters":15236,"id":15283,"nodeType":"Return","src":"8083:17:75"}]}},{"expression":{"components":[{"arguments":[{"id":15288,"name":"presentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15238,"src":"8137:12:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":15287,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8129:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":15286,"name":"uint256","nodeType":"ElementaryTypeName","src":"8129:7:75","typeDescriptions":{}}},"id":15289,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8129:21:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":15290,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"8152:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"id":15291,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"8128:29:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"functionReturnParameters":15236,"id":15292,"nodeType":"Return","src":"8121:36:75"}]},"documentation":{"id":15227,"nodeType":"StructuredDocumentation","src":"6518:475:75","text":"@dev Calculates the present value LPs capital in the pool and returns\n      a flag indicating whether the calculation succeeded or failed.\n      This calculation underestimates the present value to avoid paying\n      out more than the pool can afford.\n @param _params The parameters for the present value calculation.\n @return The present value of the pool.\n @return A flag indicating whether the calculation succeeded or failed."},"implemented":true,"kind":"function","modifiers":[],"name":"calculatePresentValueSafe","nameLocation":"7007:25:75","parameters":{"id":15231,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15230,"mutability":"mutable","name":"_params","nameLocation":"7068:7:75","nodeType":"VariableDeclaration","scope":15294,"src":"7042:33:75","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams"},"typeName":{"id":15229,"nodeType":"UserDefinedTypeName","pathNode":{"id":15228,"name":"PresentValueParams","nameLocations":["7042:18:75"],"nodeType":"IdentifierPath","referencedDeclaration":15197,"src":"7042:18:75"},"referencedDeclaration":15197,"src":"7042:18:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_storage_ptr","typeString":"struct LPMath.PresentValueParams"}},"visibility":"internal"}],"src":"7032:49:75"},"returnParameters":{"id":15236,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15233,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":15294,"src":"7105:7:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15232,"name":"uint256","nodeType":"ElementaryTypeName","src":"7105:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15235,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":15294,"src":"7114:4:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":15234,"name":"bool","nodeType":"ElementaryTypeName","src":"7114:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"7104:15:75"},"scope":17602,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":15542,"nodeType":"FunctionDefinition","src":"8492:7050:75","nodes":[],"body":{"id":15541,"nodeType":"Block","src":"8614:6928:75","nodes":[],"statements":[{"assignments":[15306],"declarations":[{"constant":false,"id":15306,"mutability":"mutable","name":"netCurvePosition","nameLocation":"9417:16:75","nodeType":"VariableDeclaration","scope":15541,"src":"9410:23:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":15305,"name":"int256","nodeType":"ElementaryTypeName","src":"9410:6:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":15326,"initialValue":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":15325,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"expression":{"id":15312,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"9487:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15313,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9495:24:75","memberName":"longAverageTimeRemaining","nodeType":"MemberAccess","referencedDeclaration":15192,"src":"9487:32:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":15309,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"9456:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15310,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9464:16:75","memberName":"longsOutstanding","nodeType":"MemberAccess","referencedDeclaration":15190,"src":"9456:24:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":15311,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9481:5:75","memberName":"mulUp","nodeType":"MemberAccess","referencedDeclaration":13622,"src":"9456:30:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":15314,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9456:64:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15308,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9436:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":15307,"name":"int256","nodeType":"ElementaryTypeName","src":"9436:6:75","typeDescriptions":{}}},"id":15315,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9436:94:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"arguments":[{"expression":{"id":15321,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"9624:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15322,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9632:25:75","memberName":"shortAverageTimeRemaining","nodeType":"MemberAccess","referencedDeclaration":15196,"src":"9624:33:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":15318,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"9569:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15319,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9577:17:75","memberName":"shortsOutstanding","nodeType":"MemberAccess","referencedDeclaration":15194,"src":"9569:25:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":15320,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9595:7:75","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":13572,"src":"9569:33:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":15323,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9569:106:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15317,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9545:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":15316,"name":"int256","nodeType":"ElementaryTypeName","src":"9545:6:75","typeDescriptions":{}}},"id":15324,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9545:144:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"9436:253:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"9410:279:75"},{"assignments":[15328],"declarations":[{"constant":false,"id":15328,"mutability":"mutable","name":"effectiveShareReserves","nameLocation":"9707:22:75","nodeType":"VariableDeclaration","scope":15541,"src":"9699:30:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15327,"name":"uint256","nodeType":"ElementaryTypeName","src":"9699:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":15336,"initialValue":{"arguments":[{"expression":{"id":15331,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"9809:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15332,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9817:13:75","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":15176,"src":"9809:21:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15333,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"9848:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15334,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9856:15:75","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15178,"src":"9848:23:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":15329,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15024,"src":"9732:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$15024_$","typeString":"type(library HyperdriveMath)"}},"id":15330,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9760:31:75","memberName":"calculateEffectiveShareReserves","nodeType":"MemberAccess","referencedDeclaration":14502,"src":"9732:59:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$returns$_t_uint256_$","typeString":"function (uint256,int256) pure returns (uint256)"}},"id":15335,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9732:153:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9699:186:75"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":15339,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15337,"name":"netCurvePosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15306,"src":"10116:16:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":15338,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10135:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"10116:20:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":15444,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15442,"name":"netCurvePosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15306,"src":"13218:16:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"30","id":15443,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"13237:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"13218:20:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":15535,"nodeType":"IfStatement","src":"13214:2295:75","trueBody":{"id":15534,"nodeType":"Block","src":"13240:2269:75","statements":[{"assignments":[15446],"declarations":[{"constant":false,"id":15446,"mutability":"mutable","name":"netCurvePosition_","nameLocation":"13262:17:75","nodeType":"VariableDeclaration","scope":15534,"src":"13254:25:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15445,"name":"uint256","nodeType":"ElementaryTypeName","src":"13254:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":15452,"initialValue":{"arguments":[{"id":15450,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"13290:17:75","subExpression":{"id":15449,"name":"netCurvePosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15306,"src":"13291:16:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":15448,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"13282:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":15447,"name":"uint256","nodeType":"ElementaryTypeName","src":"13282:7:75","typeDescriptions":{}}},"id":15451,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13282:26:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"13254:54:75"},{"assignments":[15454],"declarations":[{"constant":false,"id":15454,"mutability":"mutable","name":"maxCurveTrade","nameLocation":"13433:13:75","nodeType":"VariableDeclaration","scope":15534,"src":"13425:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15453,"name":"uint256","nodeType":"ElementaryTypeName","src":"13425:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":15469,"initialValue":{"arguments":[{"id":15457,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15328,"src":"13505:22:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15458,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"13545:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15459,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"13553:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"13545:20:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15463,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15460,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"13583:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":15461,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"13589:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15462,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"13597:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"13589:19:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13583:25:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15464,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"13626:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15465,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"13634:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"13626:23:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15466,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"13667:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15467,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"13675:22:75","memberName":"initialVaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15184,"src":"13667:30:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":15455,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18569,"src":"13449:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_YieldSpaceMath_$18569_$","typeString":"type(library YieldSpaceMath)"}},"id":15456,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13464:23:75","memberName":"calculateMaxBuyBondsOut","nodeType":"MemberAccess","referencedDeclaration":18387,"src":"13449:38:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":15468,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13449:262:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"13425:286:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15472,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15470,"name":"maxCurveTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15454,"src":"13872:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":15471,"name":"netCurvePosition_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15446,"src":"13889:17:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13872:34:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":15532,"nodeType":"Block","src":"14644:855:75","statements":[{"assignments":[15500],"declarations":[{"constant":false,"id":15500,"mutability":"mutable","name":"maxSharePayment","nameLocation":"14670:15:75","nodeType":"VariableDeclaration","scope":15532,"src":"14662:23:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15499,"name":"uint256","nodeType":"ElementaryTypeName","src":"14662:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":15515,"initialValue":{"arguments":[{"id":15503,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15328,"src":"14773:22:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15504,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"14821:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15505,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"14829:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"14821:20:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15509,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15506,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"14867:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":15507,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"14873:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15508,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"14881:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"14873:19:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14867:25:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15510,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"14918:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15511,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"14926:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"14918:23:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15512,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"14967:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15513,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"14975:22:75","memberName":"initialVaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15184,"src":"14967:30:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":15501,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18569,"src":"14688:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_YieldSpaceMath_$18569_$","typeString":"type(library YieldSpaceMath)"}},"id":15502,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14724:23:75","memberName":"calculateMaxBuySharesIn","nodeType":"MemberAccess","referencedDeclaration":18318,"src":"14688:59:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":15514,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14688:331:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"14662:357:75"},{"expression":{"components":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15527,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15518,"name":"maxSharePayment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15500,"src":"15242:15:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"expression":{"id":15524,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"15365:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15525,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"15373:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"15365:23:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15521,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15519,"name":"netCurvePosition_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15446,"src":"15289:17:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":15520,"name":"maxCurveTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15454,"src":"15309:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15289:33:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":15522,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"15288:35:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":15523,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"15324:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"15288:43:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":15526,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15288:130:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15242:176:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15517,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"15210:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":15516,"name":"int256","nodeType":"ElementaryTypeName","src":"15210:6:75","typeDescriptions":{}}},"id":15528,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15210:230:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"hexValue":"74727565","id":15529,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"15462:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"id":15530,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"15044:440:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_int256_$_t_bool_$","typeString":"tuple(int256,bool)"}},"functionReturnParameters":15304,"id":15531,"nodeType":"Return","src":"15037:447:75"}]},"id":15533,"nodeType":"IfStatement","src":"13868:1631:75","trueBody":{"id":15498,"nodeType":"Block","src":"13908:494:75","statements":[{"assignments":[15474],"declarations":[{"constant":false,"id":15474,"mutability":"mutable","name":"netCurveTrade","nameLocation":"13934:13:75","nodeType":"VariableDeclaration","scope":15498,"src":"13926:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15473,"name":"uint256","nodeType":"ElementaryTypeName","src":"13926:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":15490,"initialValue":{"arguments":[{"id":15477,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15328,"src":"14044:22:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15478,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"14092:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15479,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"14100:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"14092:20:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":15480,"name":"netCurvePosition_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15446,"src":"14138:17:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15484,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15481,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"14181:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":15482,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"14187:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15483,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"14195:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"14187:19:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14181:25:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15485,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"14232:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15486,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"14240:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"14232:23:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15487,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"14281:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15488,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"14289:22:75","memberName":"initialVaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15184,"src":"14281:30:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":15475,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18569,"src":"13950:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_YieldSpaceMath_$18569_$","typeString":"type(library YieldSpaceMath)"}},"id":15476,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13986:32:75","memberName":"calculateSharesInGivenBondsOutUp","nodeType":"MemberAccess","referencedDeclaration":17960,"src":"13950:68:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":15489,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13950:383:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"13926:407:75"},{"expression":{"components":[{"arguments":[{"id":15493,"name":"netCurveTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15474,"src":"14366:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15492,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"14359:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":15491,"name":"int256","nodeType":"ElementaryTypeName","src":"14359:6:75","typeDescriptions":{}}},"id":15494,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14359:21:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"hexValue":"74727565","id":15495,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"14382:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"id":15496,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"14358:29:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_int256_$_t_bool_$","typeString":"tuple(int256,bool)"}},"functionReturnParameters":15304,"id":15497,"nodeType":"Return","src":"14351:36:75"}]}}]}},"id":15536,"nodeType":"IfStatement","src":"10112:5397:75","trueBody":{"id":15441,"nodeType":"Block","src":"10138:2984:75","statements":[{"assignments":[15341],"declarations":[{"constant":false,"id":15341,"mutability":"mutable","name":"netCurvePosition_","nameLocation":"10160:17:75","nodeType":"VariableDeclaration","scope":15441,"src":"10152:25:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15340,"name":"uint256","nodeType":"ElementaryTypeName","src":"10152:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":15346,"initialValue":{"arguments":[{"id":15344,"name":"netCurvePosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15306,"src":"10188:16:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":15343,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10180:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":15342,"name":"uint256","nodeType":"ElementaryTypeName","src":"10180:7:75","typeDescriptions":{}}},"id":15345,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10180:25:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10152:53:75"},{"assignments":[15348,15350],"declarations":[{"constant":false,"id":15348,"mutability":"mutable","name":"maxCurveTrade","nameLocation":"10402:13:75","nodeType":"VariableDeclaration","scope":15441,"src":"10394:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15347,"name":"uint256","nodeType":"ElementaryTypeName","src":"10394:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15350,"mutability":"mutable","name":"success","nameLocation":"10422:7:75","nodeType":"VariableDeclaration","scope":15441,"src":"10417:12:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":15349,"name":"bool","nodeType":"ElementaryTypeName","src":"10417:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":15370,"initialValue":{"arguments":[{"expression":{"id":15353,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"10514:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15354,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10522:13:75","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":15176,"src":"10514:21:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15355,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"10557:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15356,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10565:15:75","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15178,"src":"10557:23:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"id":15357,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"10602:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15358,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10610:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"10602:20:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15359,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"10644:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15360,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10652:20:75","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":15186,"src":"10644:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15364,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15361,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"10694:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":15362,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"10700:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15363,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10708:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"10700:19:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10694:25:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15365,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"10741:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15366,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10749:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"10741:23:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15367,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"10786:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15368,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10794:22:75","memberName":"initialVaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15184,"src":"10786:30:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":15351,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18569,"src":"10433:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_YieldSpaceMath_$18569_$","typeString":"type(library YieldSpaceMath)"}},"id":15352,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10465:27:75","memberName":"calculateMaxSellBondsInSafe","nodeType":"MemberAccess","referencedDeclaration":18500,"src":"10433:59:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$_t_bool_$","typeString":"function (uint256,int256,uint256,uint256,uint256,uint256,uint256) pure returns (uint256,bool)"}},"id":15369,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10433:401:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"nodeType":"VariableDeclarationStatement","src":"10393:441:75"},{"condition":{"id":15372,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"10852:8:75","subExpression":{"id":15371,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15350,"src":"10853:7:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":15378,"nodeType":"IfStatement","src":"10848:64:75","trueBody":{"id":15377,"nodeType":"Block","src":"10862:50:75","statements":[{"expression":{"components":[{"hexValue":"30","id":15373,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10888:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"66616c7365","id":15374,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"10891:5:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"id":15375,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"10887:10:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_bool_$","typeString":"tuple(int_const 0,bool)"}},"functionReturnParameters":15304,"id":15376,"nodeType":"Return","src":"10880:17:75"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15381,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15379,"name":"maxCurveTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15348,"src":"11072:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":15380,"name":"netCurvePosition_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15341,"src":"11089:17:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11072:34:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":15439,"nodeType":"Block","src":"11854:1258:75","statements":[{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":15412,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":15409,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"12248:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15410,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"12256:15:75","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15178,"src":"12248:23:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"hexValue":"30","id":15411,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12275:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"12248:28:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":15437,"nodeType":"Block","src":"12857:241:75","statements":[{"expression":{"components":[{"id":15433,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"12912:115:75","subExpression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15431,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":15427,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"12949:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15428,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"12957:13:75","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":15176,"src":"12949:21:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":15429,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"12973:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15430,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"12981:20:75","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":15186,"src":"12973:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12949:52:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15426,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12913:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":15425,"name":"int256","nodeType":"ElementaryTypeName","src":"12913:6:75","typeDescriptions":{}}},"id":15432,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12913:114:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"hexValue":"74727565","id":15434,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"13053:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"id":15435,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"12886:193:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_int256_$_t_bool_$","typeString":"tuple(int256,bool)"}},"functionReturnParameters":15304,"id":15436,"nodeType":"Return","src":"12879:200:75"}]},"id":15438,"nodeType":"IfStatement","src":"12244:854:75","trueBody":{"id":15424,"nodeType":"Block","src":"12278:274:75","statements":[{"expression":{"components":[{"id":15420,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"12333:148:75","subExpression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15418,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15415,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15328,"src":"12370:22:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":15416,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"12427:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15417,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"12435:20:75","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":15186,"src":"12427:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12370:85:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15414,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12334:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":15413,"name":"int256","nodeType":"ElementaryTypeName","src":"12334:6:75","typeDescriptions":{}}},"id":15419,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12334:147:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"hexValue":"74727565","id":15421,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"12507:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"id":15422,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"12307:226:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_int256_$_t_bool_$","typeString":"tuple(int256,bool)"}},"functionReturnParameters":15304,"id":15423,"nodeType":"Return","src":"12300:233:75"}]}}]},"id":15440,"nodeType":"IfStatement","src":"11068:2044:75","trueBody":{"id":15408,"nodeType":"Block","src":"11108:497:75","statements":[{"assignments":[15383],"declarations":[{"constant":false,"id":15383,"mutability":"mutable","name":"netCurveTrade","nameLocation":"11134:13:75","nodeType":"VariableDeclaration","scope":15408,"src":"11126:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15382,"name":"uint256","nodeType":"ElementaryTypeName","src":"11126:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":15399,"initialValue":{"arguments":[{"id":15386,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15328,"src":"11246:22:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15387,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"11294:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15388,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"11302:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"11294:20:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":15389,"name":"netCurvePosition_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15341,"src":"11340:17:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15393,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15390,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"11383:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":15391,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"11389:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15392,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"11397:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"11389:19:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11383:25:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15394,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"11434:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15395,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"11442:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"11434:23:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15396,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15298,"src":"11483:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15397,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"11491:22:75","memberName":"initialVaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15184,"src":"11483:30:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":15384,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18569,"src":"11150:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_YieldSpaceMath_$18569_$","typeString":"type(library YieldSpaceMath)"}},"id":15385,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11186:34:75","memberName":"calculateSharesOutGivenBondsInDown","nodeType":"MemberAccess","referencedDeclaration":18133,"src":"11150:70:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":15398,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11150:385:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"11126:409:75"},{"expression":{"components":[{"id":15404,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"11561:22:75","subExpression":{"arguments":[{"id":15402,"name":"netCurveTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15383,"src":"11569:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15401,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11562:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":15400,"name":"int256","nodeType":"ElementaryTypeName","src":"11562:6:75","typeDescriptions":{}}},"id":15403,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11562:21:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"hexValue":"74727565","id":15405,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"11585:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"id":15406,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"11560:30:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_int256_$_t_bool_$","typeString":"tuple(int256,bool)"}},"functionReturnParameters":15304,"id":15407,"nodeType":"Return","src":"11553:37:75"}]}}]}},{"expression":{"components":[{"hexValue":"30","id":15537,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15527:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"74727565","id":15538,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"15530:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"id":15539,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"15526:9:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_bool_$","typeString":"tuple(int_const 0,bool)"}},"functionReturnParameters":15304,"id":15540,"nodeType":"Return","src":"15519:16:75"}]},"documentation":{"id":15295,"nodeType":"StructuredDocumentation","src":"8170:317:75","text":"@dev Calculates the result of closing the net curve position.\n @param _params The parameters for the present value calculation.\n @return The impact of closing the net curve position on the share\n         reserves.\n @return A flag indicating whether the calculation succeeded or failed."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateNetCurveTradeSafe","nameLocation":"8501:26:75","parameters":{"id":15299,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15298,"mutability":"mutable","name":"_params","nameLocation":"8563:7:75","nodeType":"VariableDeclaration","scope":15542,"src":"8537:33:75","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams"},"typeName":{"id":15297,"nodeType":"UserDefinedTypeName","pathNode":{"id":15296,"name":"PresentValueParams","nameLocations":["8537:18:75"],"nodeType":"IdentifierPath","referencedDeclaration":15197,"src":"8537:18:75"},"referencedDeclaration":15197,"src":"8537:18:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_storage_ptr","typeString":"struct LPMath.PresentValueParams"}},"visibility":"internal"}],"src":"8527:49:75"},"returnParameters":{"id":15304,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15301,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":15542,"src":"8600:6:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":15300,"name":"int256","nodeType":"ElementaryTypeName","src":"8600:6:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":15303,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":15542,"src":"8608:4:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":15302,"name":"bool","nodeType":"ElementaryTypeName","src":"8608:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"8599:14:75"},"scope":17602,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":15580,"nodeType":"FunctionDefinition","src":"15789:1157:75","nodes":[],"body":{"id":15579,"nodeType":"Block","src":"15900:1046:75","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":15577,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15559,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15556,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"16614:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":15557,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15546,"src":"16620:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15558,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"16628:25:75","memberName":"shortAverageTimeRemaining","nodeType":"MemberAccess","referencedDeclaration":15196,"src":"16620:33:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16614:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15560,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15546,"src":"16675:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15561,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"16683:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"16675:23:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":15553,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15546,"src":"16556:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15554,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"16564:17:75","memberName":"shortsOutstanding","nodeType":"MemberAccess","referencedDeclaration":15194,"src":"16556:25:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":15555,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16582:10:75","memberName":"mulDivDown","nodeType":"MemberAccess","referencedDeclaration":13554,"src":"16556:36:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":15562,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16556:160:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15552,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"16532:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":15551,"name":"int256","nodeType":"ElementaryTypeName","src":"16532:6:75","typeDescriptions":{}}},"id":15563,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16532:198:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15572,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15569,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"16824:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":15570,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15546,"src":"16830:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15571,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"16838:24:75","memberName":"longAverageTimeRemaining","nodeType":"MemberAccess","referencedDeclaration":15192,"src":"16830:32:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16824:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15573,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15546,"src":"16884:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15574,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"16892:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"16884:23:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":15566,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15546,"src":"16769:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15567,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"16777:16:75","memberName":"longsOutstanding","nodeType":"MemberAccess","referencedDeclaration":15190,"src":"16769:24:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":15568,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16794:8:75","memberName":"mulDivUp","nodeType":"MemberAccess","referencedDeclaration":13604,"src":"16769:33:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":15575,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16769:156:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15565,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"16745:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":15564,"name":"int256","nodeType":"ElementaryTypeName","src":"16745:6:75","typeDescriptions":{}}},"id":15576,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16745:194:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"16532:407:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"functionReturnParameters":15550,"id":15578,"nodeType":"Return","src":"16513:426:75"}]},"documentation":{"id":15543,"nodeType":"StructuredDocumentation","src":"15548:236:75","text":"@dev Calculates the result of closing the net flat position.\n @param _params The parameters for the present value calculation.\n @return The impact of closing the net flat position on the share\n         reserves."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateNetFlatTrade","nameLocation":"15798:21:75","parameters":{"id":15547,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15546,"mutability":"mutable","name":"_params","nameLocation":"15855:7:75","nodeType":"VariableDeclaration","scope":15580,"src":"15829:33:75","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams"},"typeName":{"id":15545,"nodeType":"UserDefinedTypeName","pathNode":{"id":15544,"name":"PresentValueParams","nameLocations":["15829:18:75"],"nodeType":"IdentifierPath","referencedDeclaration":15197,"src":"15829:18:75"},"referencedDeclaration":15197,"src":"15829:18:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_storage_ptr","typeString":"struct LPMath.PresentValueParams"}},"visibility":"internal"}],"src":"15819:49:75"},"returnParameters":{"id":15550,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15549,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":15580,"src":"15892:6:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":15548,"name":"int256","nodeType":"ElementaryTypeName","src":"15892:6:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"15891:8:75"},"scope":17602,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":15600,"nodeType":"StructDefinition","src":"16952:377:75","nodes":[],"canonicalName":"LPMath.DistributeExcessIdleParams","members":[{"constant":false,"id":15583,"mutability":"mutable","name":"presentValueParams","nameLocation":"17015:18:75","nodeType":"VariableDeclaration","scope":15600,"src":"16996:37:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_storage_ptr","typeString":"struct LPMath.PresentValueParams"},"typeName":{"id":15582,"nodeType":"UserDefinedTypeName","pathNode":{"id":15581,"name":"PresentValueParams","nameLocations":["16996:18:75"],"nodeType":"IdentifierPath","referencedDeclaration":15197,"src":"16996:18:75"},"referencedDeclaration":15197,"src":"16996:18:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_storage_ptr","typeString":"struct LPMath.PresentValueParams"}},"visibility":"internal"},{"constant":false,"id":15585,"mutability":"mutable","name":"startingPresentValue","nameLocation":"17051:20:75","nodeType":"VariableDeclaration","scope":15600,"src":"17043:28:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15584,"name":"uint256","nodeType":"ElementaryTypeName","src":"17043:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15587,"mutability":"mutable","name":"activeLpTotalSupply","nameLocation":"17089:19:75","nodeType":"VariableDeclaration","scope":15600,"src":"17081:27:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15586,"name":"uint256","nodeType":"ElementaryTypeName","src":"17081:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15589,"mutability":"mutable","name":"withdrawalSharesTotalSupply","nameLocation":"17126:27:75","nodeType":"VariableDeclaration","scope":15600,"src":"17118:35:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15588,"name":"uint256","nodeType":"ElementaryTypeName","src":"17118:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15591,"mutability":"mutable","name":"idle","nameLocation":"17171:4:75","nodeType":"VariableDeclaration","scope":15600,"src":"17163:12:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15590,"name":"uint256","nodeType":"ElementaryTypeName","src":"17163:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15593,"mutability":"mutable","name":"netCurveTrade","nameLocation":"17192:13:75","nodeType":"VariableDeclaration","scope":15600,"src":"17185:20:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":15592,"name":"int256","nodeType":"ElementaryTypeName","src":"17185:6:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":15595,"mutability":"mutable","name":"originalShareReserves","nameLocation":"17223:21:75","nodeType":"VariableDeclaration","scope":15600,"src":"17215:29:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15594,"name":"uint256","nodeType":"ElementaryTypeName","src":"17215:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15597,"mutability":"mutable","name":"originalShareAdjustment","nameLocation":"17261:23:75","nodeType":"VariableDeclaration","scope":15600,"src":"17254:30:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":15596,"name":"int256","nodeType":"ElementaryTypeName","src":"17254:6:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":15599,"mutability":"mutable","name":"originalBondReserves","nameLocation":"17302:20:75","nodeType":"VariableDeclaration","scope":15600,"src":"17294:28:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15598,"name":"uint256","nodeType":"ElementaryTypeName","src":"17294:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"DistributeExcessIdleParams","nameLocation":"16959:26:75","scope":17602,"visibility":"public"},{"id":15681,"nodeType":"FunctionDefinition","src":"18696:2575:75","nodes":[],"body":{"id":15680,"nodeType":"Block","src":"18833:2438:75","nodes":[],"statements":[{"assignments":[15612],"declarations":[{"constant":false,"id":15612,"mutability":"mutable","name":"originalEffectiveShareReserves","nameLocation":"18952:30:75","nodeType":"VariableDeclaration","scope":15680,"src":"18944:38:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15611,"name":"uint256","nodeType":"ElementaryTypeName","src":"18944:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":15620,"initialValue":{"arguments":[{"expression":{"id":15615,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15604,"src":"19062:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15616,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"19070:21:75","memberName":"originalShareReserves","nodeType":"MemberAccess","referencedDeclaration":15595,"src":"19062:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15617,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15604,"src":"19109:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15618,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"19117:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"19109:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":15613,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15024,"src":"18985:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$15024_$","typeString":"type(library HyperdriveMath)"}},"id":15614,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"19013:31:75","memberName":"calculateEffectiveShareReserves","nodeType":"MemberAccess","referencedDeclaration":14502,"src":"18985:59:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$returns$_t_uint256_$","typeString":"function (uint256,int256) pure returns (uint256)"}},"id":15619,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18985:169:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"18944:210:75"},{"assignments":[15622],"declarations":[{"constant":false,"id":15622,"mutability":"mutable","name":"maxShareReservesDelta","nameLocation":"19172:21:75","nodeType":"VariableDeclaration","scope":15680,"src":"19164:29:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15621,"name":"uint256","nodeType":"ElementaryTypeName","src":"19164:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":15627,"initialValue":{"arguments":[{"id":15624,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15604,"src":"19240:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},{"id":15625,"name":"originalEffectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15612,"src":"19261:30:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15623,"name":"calculateMaxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16721,"src":"19196:30:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_DistributeExcessIdleParams_$15600_memory_ptr_$_t_uint256_$returns$_t_uint256_$","typeString":"function (struct LPMath.DistributeExcessIdleParams memory,uint256) pure returns (uint256)"}},"id":15626,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19196:105:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"19164:137:75"},{"assignments":[15629],"declarations":[{"constant":false,"id":15629,"mutability":"mutable","name":"withdrawalSharesRedeemed","nameLocation":"19598:24:75","nodeType":"VariableDeclaration","scope":15680,"src":"19590:32:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15628,"name":"uint256","nodeType":"ElementaryTypeName","src":"19590:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":15634,"initialValue":{"arguments":[{"id":15631,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15604,"src":"19696:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},{"id":15632,"name":"maxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15622,"src":"19721:21:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15630,"name":"calculateDistributeExcessIdleWithdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15760,"src":"19625:53:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_DistributeExcessIdleParams_$15600_memory_ptr_$_t_uint256_$returns$_t_uint256_$","typeString":"function (struct LPMath.DistributeExcessIdleParams memory,uint256) pure returns (uint256)"}},"id":15633,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19625:131:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"19590:166:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15637,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15635,"name":"withdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15629,"src":"19893:24:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":15636,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"19921:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"19893:29:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15646,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15643,"name":"withdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15629,"src":"20199:24:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"expression":{"id":15644,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15604,"src":"20227:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15645,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"20235:27:75","memberName":"withdrawalSharesTotalSupply","nodeType":"MemberAccess","referencedDeclaration":15589,"src":"20227:35:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20199:63:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":15657,"nodeType":"Block","src":"20545:87:75","statements":[{"expression":{"id":15655,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":15652,"name":"withdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15629,"src":"20559:24:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":15653,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15604,"src":"20586:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15654,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"20594:27:75","memberName":"withdrawalSharesTotalSupply","nodeType":"MemberAccess","referencedDeclaration":15589,"src":"20586:35:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"20559:62:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":15656,"nodeType":"ExpressionStatement","src":"20559:62:75"}]},"id":15658,"nodeType":"IfStatement","src":"20182:450:75","trueBody":{"id":15651,"nodeType":"Block","src":"20273:81:75","statements":[{"expression":{"components":[{"id":15647,"name":"withdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15629,"src":"20295:24:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":15648,"name":"maxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15622,"src":"20321:21:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":15649,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"20294:49:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"functionReturnParameters":15610,"id":15650,"nodeType":"Return","src":"20287:56:75"}]}},"id":15659,"nodeType":"IfStatement","src":"19889:743:75","trueBody":{"id":15642,"nodeType":"Block","src":"19924:38:75","statements":[{"expression":{"components":[{"hexValue":"30","id":15638,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"19946:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"30","id":15639,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"19949:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"id":15640,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"19945:6:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_rational_0_by_1_$","typeString":"tuple(int_const 0,int_const 0)"}},"functionReturnParameters":15610,"id":15641,"nodeType":"Return","src":"19938:13:75"}]}},{"assignments":[15661],"declarations":[{"constant":false,"id":15661,"mutability":"mutable","name":"shareProceeds","nameLocation":"20899:13:75","nodeType":"VariableDeclaration","scope":15680,"src":"20891:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15660,"name":"uint256","nodeType":"ElementaryTypeName","src":"20891:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":15666,"initialValue":{"arguments":[{"id":15663,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15604,"src":"20971:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},{"id":15664,"name":"originalEffectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15612,"src":"20992:30:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15662,"name":"calculateDistributeExcessIdleShareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16205,"src":"20915:42:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_DistributeExcessIdleParams_$15600_memory_ptr_$_t_uint256_$returns$_t_uint256_$","typeString":"function (struct LPMath.DistributeExcessIdleParams memory,uint256) pure returns (uint256)"}},"id":15665,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20915:117:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"20891:141:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15669,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15667,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15661,"src":"21046:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":15668,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"21063:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"21046:18:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":15675,"nodeType":"IfStatement","src":"21042:62:75","trueBody":{"id":15674,"nodeType":"Block","src":"21066:38:75","statements":[{"expression":{"components":[{"hexValue":"30","id":15670,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"21088:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"30","id":15671,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"21091:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"id":15672,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"21087:6:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_rational_0_by_1_$","typeString":"tuple(int_const 0,int_const 0)"}},"functionReturnParameters":15610,"id":15673,"nodeType":"Return","src":"21080:13:75"}]}},{"expression":{"components":[{"id":15676,"name":"withdrawalSharesRedeemed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15629,"src":"21224:24:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":15677,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15661,"src":"21250:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":15678,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"21223:41:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"functionReturnParameters":15610,"id":15679,"nodeType":"Return","src":"21216:48:75"}]},"documentation":{"id":15601,"nodeType":"StructuredDocumentation","src":"17335:1356:75","text":"@dev Calculates the amount of withdrawal shares that can be redeemed and\n      the share proceeds the withdrawal pool should receive given the\n      pool's current idle liquidity. We use the following algorith to\n      ensure that the withdrawal pool receives the correct amount of\n      shares to (1) preserve the LP share price and (2) pay out as much\n      of the idle liquidity as possible to the withdrawal pool:\n      1. If `y_s * t_s <= y_l * t_l` or\n         `y_max_out(I) >= y_s * t_s - y_l * t_l`, set `dz_max = I` and\n         proceed to step (3). Otherwise, proceed to step (2).\n      2. Solve `y_max_out(dz_max) = y_s * t_s - y_l * t_l` for `dz_max`\n         using Newton's method.\n      3. Set `dw = (1 - PV(dz_max) / PV(0)) * l`. If `dw <= w`, then\n         proceed to step (5). Otherwise, set `dw = w` and continue to\n         step (4).\n      4. Solve `PV(0) / l = PV(dz) / (l - dw)` for `dz` using Newton's\n         method if `y_l * t_l != y_s * t_s` or directly otherwise.\n      5. Return `dw` and `dz`.\n @param _params The parameters for the distribute excess idle.\n @return The amount of withdrawal shares that can be redeemed.\n @return The share proceeds the withdrawal pool should receive."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateDistributeExcessIdle","nameLocation":"18705:29:75","parameters":{"id":15605,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15604,"mutability":"mutable","name":"_params","nameLocation":"18778:7:75","nodeType":"VariableDeclaration","scope":15681,"src":"18744:41:75","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"},"typeName":{"id":15603,"nodeType":"UserDefinedTypeName","pathNode":{"id":15602,"name":"DistributeExcessIdleParams","nameLocations":["18744:26:75"],"nodeType":"IdentifierPath","referencedDeclaration":15600,"src":"18744:26:75"},"referencedDeclaration":15600,"src":"18744:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_storage_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"}},"visibility":"internal"}],"src":"18734:57:75"},"returnParameters":{"id":15610,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15607,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":15681,"src":"18815:7:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15606,"name":"uint256","nodeType":"ElementaryTypeName","src":"18815:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15609,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":15681,"src":"18824:7:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15608,"name":"uint256","nodeType":"ElementaryTypeName","src":"18824:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"18814:18:75"},"scope":17602,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":15760,"nodeType":"FunctionDefinition","src":"22132:1838:75","nodes":[],"body":{"id":15759,"nodeType":"Block","src":"22321:1649:75","nodes":[],"statements":[{"expression":{"id":15720,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"expression":{"expression":{"id":15692,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15685,"src":"22425:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15695,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"22433:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"22425:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15696,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"22452:13:75","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":15176,"src":"22425:40:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":15697,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15685,"src":"22479:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15698,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"22487:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"22479:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15699,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"22506:15:75","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15178,"src":"22479:42:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"expression":{"id":15700,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15685,"src":"22535:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15701,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"22543:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"22535:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15702,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"22562:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"22535:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":15703,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"22411:173:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"tuple(uint256,int256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":15705,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15685,"src":"22625:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15706,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"22633:21:75","memberName":"originalShareReserves","nodeType":"MemberAccess","referencedDeclaration":15595,"src":"22625:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15707,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15685,"src":"22668:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15708,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"22676:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"22668:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"id":15709,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15685,"src":"22713:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15710,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"22721:20:75","memberName":"originalBondReserves","nodeType":"MemberAccess","referencedDeclaration":15599,"src":"22713:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":15711,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15685,"src":"22755:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15712,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"22763:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"22755:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15713,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"22782:20:75","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":15186,"src":"22755:47:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":15718,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"22816:28:75","subExpression":{"arguments":[{"id":15716,"name":"_shareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15687,"src":"22824:19:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15715,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"22817:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":15714,"name":"int256","nodeType":"ElementaryTypeName","src":"22817:6:75","typeDescriptions":{}}},"id":15717,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"22817:27:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":15704,"name":"calculateUpdateLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15174,"src":"22587:24:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$_t_uint256_$_t_uint256_$_t_int256_$returns$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"function (uint256,int256,uint256,uint256,int256) pure returns (uint256,int256,uint256)"}},"id":15719,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"22587:267:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"tuple(uint256,int256,uint256)"}},"src":"22411:443:75","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":15721,"nodeType":"ExpressionStatement","src":"22411:443:75"},{"assignments":[15723,15725],"declarations":[{"constant":false,"id":15723,"mutability":"mutable","name":"endingPresentValue","nameLocation":"22873:18:75","nodeType":"VariableDeclaration","scope":15759,"src":"22865:26:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15722,"name":"uint256","nodeType":"ElementaryTypeName","src":"22865:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15725,"mutability":"mutable","name":"success","nameLocation":"22898:7:75","nodeType":"VariableDeclaration","scope":15759,"src":"22893:12:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":15724,"name":"bool","nodeType":"ElementaryTypeName","src":"22893:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":15730,"initialValue":{"arguments":[{"expression":{"id":15727,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15685,"src":"22948:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15728,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"22956:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"22948:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}],"id":15726,"name":"calculatePresentValueSafe","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15294,"src":"22909:25:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_PresentValueParams_$15197_memory_ptr_$returns$_t_uint256_$_t_bool_$","typeString":"function (struct LPMath.PresentValueParams memory) pure returns (uint256,bool)"}},"id":15729,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"22909:75:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"nodeType":"VariableDeclarationStatement","src":"22864:120:75"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":15737,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15732,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"23339:8:75","subExpression":{"id":15731,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15725,"src":"23340:7:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15736,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15733,"name":"endingPresentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15723,"src":"23351:18:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"expression":{"id":15734,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15685,"src":"23373:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15735,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"23381:20:75","memberName":"startingPresentValue","nodeType":"MemberAccess","referencedDeclaration":15585,"src":"23373:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"23351:50:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"23339:62:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":15741,"nodeType":"IfStatement","src":"23335:101:75","trueBody":{"id":15740,"nodeType":"Block","src":"23403:33:75","statements":[{"expression":{"hexValue":"30","id":15738,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"23424:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":15691,"id":15739,"nodeType":"Return","src":"23417:8:75"}]}},{"assignments":[15743],"declarations":[{"constant":false,"id":15743,"mutability":"mutable","name":"lpTotalSupply","nameLocation":"23693:13:75","nodeType":"VariableDeclaration","scope":15759,"src":"23685:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15742,"name":"uint256","nodeType":"ElementaryTypeName","src":"23685:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":15749,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15748,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":15744,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15685,"src":"23709:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15745,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"23717:19:75","memberName":"activeLpTotalSupply","nodeType":"MemberAccess","referencedDeclaration":15587,"src":"23709:27:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"expression":{"id":15746,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15685,"src":"23751:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15747,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"23759:27:75","memberName":"withdrawalSharesTotalSupply","nodeType":"MemberAccess","referencedDeclaration":15589,"src":"23751:35:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"23709:77:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"23685:101:75"},{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15757,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15750,"name":"lpTotalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15743,"src":"23815:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"id":15753,"name":"endingPresentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15723,"src":"23885:18:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15754,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15685,"src":"23921:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15755,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"23929:20:75","memberName":"startingPresentValue","nodeType":"MemberAccess","referencedDeclaration":15585,"src":"23921:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":15751,"name":"lpTotalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15743,"src":"23843:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":15752,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"23857:10:75","memberName":"mulDivDown","nodeType":"MemberAccess","referencedDeclaration":13554,"src":"23843:24:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":15756,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"23843:120:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"23815:148:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":15691,"id":15758,"nodeType":"Return","src":"23796:167:75"}]},"documentation":{"id":15682,"nodeType":"StructuredDocumentation","src":"21277:850:75","text":"@dev Calculates the amount of withdrawal shares that can be redeemed\n      given an amount of shares to remove from the share reserves.\n      Assuming that dz is the amount of shares to remove from the\n      reserves and dl is the amount of LP shares to be burned, we can\n      derive the calculation as follows:\n      PV(0) / l = PV(dx) / (l - dl)\n                =>\n      dl = l - l * (PV(dx) / PV(0))\n      We round this calculation up to err on the side of slightly too\n      many withdrawal shares being redeemed.\n @param _params The parameters for the present value calculation.\n @param _shareReservesDelta The amount of shares to remove from the\n        share reserves.\n @return The amount of withdrawal shares that can be redeemed."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateDistributeExcessIdleWithdrawalSharesRedeemed","nameLocation":"22141:53:75","parameters":{"id":15688,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15685,"mutability":"mutable","name":"_params","nameLocation":"22238:7:75","nodeType":"VariableDeclaration","scope":15760,"src":"22204:41:75","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"},"typeName":{"id":15684,"nodeType":"UserDefinedTypeName","pathNode":{"id":15683,"name":"DistributeExcessIdleParams","nameLocations":["22204:26:75"],"nodeType":"IdentifierPath","referencedDeclaration":15600,"src":"22204:26:75"},"referencedDeclaration":15600,"src":"22204:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_storage_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"}},"visibility":"internal"},{"constant":false,"id":15687,"mutability":"mutable","name":"_shareReservesDelta","nameLocation":"22263:19:75","nodeType":"VariableDeclaration","scope":15760,"src":"22255:27:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15686,"name":"uint256","nodeType":"ElementaryTypeName","src":"22255:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"22194:94:75"},"returnParameters":{"id":15691,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15690,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":15760,"src":"22312:7:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15689,"name":"uint256","nodeType":"ElementaryTypeName","src":"22312:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"22311:9:75"},"scope":17602,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":16205,"nodeType":"FunctionDefinition","src":"24613:10855:75","nodes":[],"body":{"id":16204,"nodeType":"Block","src":"24803:10665:75","nodes":[],"statements":[{"assignments":[15772],"declarations":[{"constant":false,"id":15772,"mutability":"mutable","name":"lpTotalSupply","nameLocation":"24863:13:75","nodeType":"VariableDeclaration","scope":16204,"src":"24855:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15771,"name":"uint256","nodeType":"ElementaryTypeName","src":"24855:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":15778,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15777,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":15773,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"24879:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15774,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"24887:19:75","memberName":"activeLpTotalSupply","nodeType":"MemberAccess","referencedDeclaration":15587,"src":"24879:27:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"expression":{"id":15775,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"24921:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15776,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"24929:27:75","memberName":"withdrawalSharesTotalSupply","nodeType":"MemberAccess","referencedDeclaration":15589,"src":"24921:35:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"24879:77:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"24855:101:75"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":15782,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":15779,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"25033:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15780,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"25041:13:75","memberName":"netCurveTrade","nodeType":"MemberAccess","referencedDeclaration":15593,"src":"25033:21:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":15781,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"25058:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"25033:26:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":15792,"nodeType":"IfStatement","src":"25029:293:75","trueBody":{"id":15791,"nodeType":"Block","src":"25061:261:75","statements":[{"expression":{"arguments":[{"expression":{"id":15786,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"25223:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15787,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"25231:27:75","memberName":"withdrawalSharesTotalSupply","nodeType":"MemberAccess","referencedDeclaration":15589,"src":"25223:35:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":15788,"name":"lpTotalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15772,"src":"25280:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":15783,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"25162:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15784,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"25170:20:75","memberName":"startingPresentValue","nodeType":"MemberAccess","referencedDeclaration":15585,"src":"25162:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":15785,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"25191:10:75","memberName":"mulDivDown","nodeType":"MemberAccess","referencedDeclaration":13554,"src":"25162:39:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":15789,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"25162:149:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":15770,"id":15790,"nodeType":"Return","src":"25139:172:75"}]}},{"assignments":[15794],"declarations":[{"constant":false,"id":15794,"mutability":"mutable","name":"shareProceeds","nameLocation":"25803:13:75","nodeType":"VariableDeclaration","scope":16204,"src":"25795:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15793,"name":"uint256","nodeType":"ElementaryTypeName","src":"25795:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":15802,"initialValue":{"arguments":[{"expression":{"id":15798,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"25879:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15799,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"25887:20:75","memberName":"startingPresentValue","nodeType":"MemberAccess","referencedDeclaration":15585,"src":"25879:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":15800,"name":"lpTotalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15772,"src":"25921:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":15795,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"25819:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15796,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"25827:27:75","memberName":"withdrawalSharesTotalSupply","nodeType":"MemberAccess","referencedDeclaration":15589,"src":"25819:35:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":15797,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"25855:10:75","memberName":"mulDivDown","nodeType":"MemberAccess","referencedDeclaration":13554,"src":"25819:46:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":15801,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"25819:125:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"25795:149:75"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":15806,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":15803,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"26028:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15804,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26036:13:75","memberName":"netCurveTrade","nodeType":"MemberAccess","referencedDeclaration":15593,"src":"26028:21:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":15805,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"26052:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"26028:25:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":16200,"nodeType":"Block","src":"31477:3954:75","statements":[{"body":{"id":16198,"nodeType":"Block","src":"31548:3873:75","statements":[{"expression":{"id":16071,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"expression":{"expression":{"id":16043,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"31714:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16046,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"31722:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"31714:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16047,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"31741:13:75","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":15176,"src":"31714:40:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16048,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"31776:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16049,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"31784:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"31776:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16050,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"31803:15:75","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15178,"src":"31776:42:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"expression":{"id":16051,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"31840:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16052,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"31848:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"31840:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16053,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"31867:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"31840:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":16054,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"31692:205:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"tuple(uint256,int256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":16056,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"31946:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16057,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"31954:21:75","memberName":"originalShareReserves","nodeType":"MemberAccess","referencedDeclaration":15595,"src":"31946:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":16058,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"31997:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16059,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"32005:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"31997:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"id":16060,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"32050:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16061,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"32058:20:75","memberName":"originalBondReserves","nodeType":"MemberAccess","referencedDeclaration":15599,"src":"32050:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16062,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"32100:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16063,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"32108:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"32100:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16064,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"32127:20:75","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":15186,"src":"32100:47:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":16069,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"32169:22:75","subExpression":{"arguments":[{"id":16067,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15794,"src":"32177:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":16066,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"32170:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":16065,"name":"int256","nodeType":"ElementaryTypeName","src":"32170:6:75","typeDescriptions":{}}},"id":16068,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"32170:21:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":16055,"name":"calculateUpdateLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15174,"src":"31900:24:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$_t_uint256_$_t_uint256_$_t_int256_$returns$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"function (uint256,int256,uint256,uint256,int256) pure returns (uint256,int256,uint256)"}},"id":16070,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"31900:309:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"tuple(uint256,int256,uint256)"}},"src":"31692:517:75","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":16072,"nodeType":"ExpressionStatement","src":"31692:517:75"},{"assignments":[16074],"declarations":[{"constant":false,"id":16074,"mutability":"mutable","name":"presentValue","nameLocation":"32235:12:75","nodeType":"VariableDeclaration","scope":16198,"src":"32227:20:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16073,"name":"uint256","nodeType":"ElementaryTypeName","src":"32227:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16079,"initialValue":{"arguments":[{"expression":{"id":16076,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"32293:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16077,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"32301:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"32293:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}],"id":16075,"name":"calculatePresentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15226,"src":"32250:21:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_PresentValueParams_$15197_memory_ptr_$returns$_t_uint256_$","typeString":"function (struct LPMath.PresentValueParams memory) pure returns (uint256)"}},"id":16078,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"32250:87:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"32227:110:75"},{"condition":{"arguments":[{"id":16081,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"32531:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},{"id":16082,"name":"presentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16074,"src":"32564:12:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":16083,"name":"lpTotalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15772,"src":"32602:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":16080,"name":"shouldShortCircuitDistributeExcessIdleShareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16379,"src":"32454:51:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_DistributeExcessIdleParams_$15600_memory_ptr_$_t_uint256_$_t_uint256_$returns$_t_bool_$","typeString":"function (struct LPMath.DistributeExcessIdleParams memory,uint256,uint256) pure returns (bool)"}},"id":16084,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"32454:183:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16087,"nodeType":"IfStatement","src":"32429:273:75","trueBody":{"id":16086,"nodeType":"Block","src":"32656:46:75","statements":[{"id":16085,"nodeType":"Break","src":"32678:5:75"}]}},{"assignments":[16089,16091],"declarations":[{"constant":false,"id":16089,"mutability":"mutable","name":"derivative","nameLocation":"33035:10:75","nodeType":"VariableDeclaration","scope":16198,"src":"33027:18:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16088,"name":"uint256","nodeType":"ElementaryTypeName","src":"33027:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":16091,"mutability":"mutable","name":"success","nameLocation":"33072:7:75","nodeType":"VariableDeclaration","scope":16198,"src":"33067:12:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":16090,"name":"bool","nodeType":"ElementaryTypeName","src":"33067:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":16102,"initialValue":{"arguments":[{"id":16093,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"33170:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},{"id":16094,"name":"_originalEffectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15766,"src":"33203:31:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[{"id":16099,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"33268:22:75","subExpression":{"expression":{"id":16097,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"33269:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16098,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"33277:13:75","memberName":"netCurveTrade","nodeType":"MemberAccess","referencedDeclaration":15593,"src":"33269:21:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":16096,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"33260:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":16095,"name":"uint256","nodeType":"ElementaryTypeName","src":"33260:7:75","typeDescriptions":{}}},"id":16100,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"33260:31:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":16092,"name":"calculateSharesInGivenBondsOutDerivativeSafe","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17376,"src":"33100:44:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_DistributeExcessIdleParams_$15600_memory_ptr_$_t_uint256_$_t_uint256_$returns$_t_uint256_$_t_bool_$","typeString":"function (struct LPMath.DistributeExcessIdleParams memory,uint256,uint256) pure returns (uint256,bool)"}},"id":16101,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"33100:213:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"nodeType":"VariableDeclarationStatement","src":"33005:308:75"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":16108,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16104,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"33335:8:75","subExpression":{"id":16103,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16091,"src":"33336:7:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16107,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16105,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16089,"src":"33347:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":16106,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"33361:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"33347:17:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"33335:29:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16112,"nodeType":"IfStatement","src":"33331:205:75","trueBody":{"id":16111,"nodeType":"Block","src":"33366:170:75","statements":[{"expression":{"hexValue":"30","id":16109,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"33516:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":15770,"id":16110,"nodeType":"Return","src":"33509:8:75"}]}},{"expression":{"id":16117,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16113,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16089,"src":"33553:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16116,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16114,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"33566:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":16115,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16089,"src":"33572:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"33566:16:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"33553:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16118,"nodeType":"ExpressionStatement","src":"33553:29:75"},{"assignments":[16120],"declarations":[{"constant":false,"id":16120,"mutability":"mutable","name":"delta","nameLocation":"34056:5:75","nodeType":"VariableDeclaration","scope":16198,"src":"34049:12:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":16119,"name":"int256","nodeType":"ElementaryTypeName","src":"34049:6:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":16138,"initialValue":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":16137,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":16125,"name":"lpTotalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15772,"src":"34092:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16123,"name":"presentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16074,"src":"34071:12:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16124,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"34084:7:75","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":13572,"src":"34071:20:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16126,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"34071:35:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":16122,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"34064:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":16121,"name":"int256","nodeType":"ElementaryTypeName","src":"34064:6:75","typeDescriptions":{}}},"id":16127,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"34064:43:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"arguments":[{"expression":{"id":16133,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"34226:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16134,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"34234:19:75","memberName":"activeLpTotalSupply","nodeType":"MemberAccess","referencedDeclaration":15587,"src":"34226:27:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":16130,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"34162:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16131,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"34170:20:75","memberName":"startingPresentValue","nodeType":"MemberAccess","referencedDeclaration":15585,"src":"34162:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16132,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"34191:5:75","memberName":"mulUp","nodeType":"MemberAccess","referencedDeclaration":13622,"src":"34162:34:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16135,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"34162:117:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":16129,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"34130:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":16128,"name":"int256","nodeType":"ElementaryTypeName","src":"34130:6:75","typeDescriptions":{}}},"id":16136,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"34130:171:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"34064:237:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"34049:252:75"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":16141,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16139,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16120,"src":"34323:5:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":16140,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"34331:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"34323:9:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":16160,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16158,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16120,"src":"34652:5:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"30","id":16159,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"34660:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"34652:9:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":16191,"nodeType":"Block","src":"35242:46:75","statements":[{"id":16190,"nodeType":"Break","src":"35264:5:75"}]},"id":16192,"nodeType":"IfStatement","src":"34648:640:75","trueBody":{"id":16189,"nodeType":"Block","src":"34663:573:75","statements":[{"assignments":[16162],"declarations":[{"constant":false,"id":16162,"mutability":"mutable","name":"delta_","nameLocation":"34769:6:75","nodeType":"VariableDeclaration","scope":16189,"src":"34761:14:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16161,"name":"uint256","nodeType":"ElementaryTypeName","src":"34761:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16174,"initialValue":{"arguments":[{"id":16172,"name":"lpTotalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15772,"src":"34872:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":16169,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16089,"src":"34827:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":16166,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"34786:6:75","subExpression":{"id":16165,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16120,"src":"34787:5:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":16164,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"34778:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":16163,"name":"uint256","nodeType":"ElementaryTypeName","src":"34778:7:75","typeDescriptions":{}}},"id":16167,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"34778:15:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16168,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"34819:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"34778:48:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16170,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"34778:60:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16171,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"34864:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"34778:93:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16173,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"34778:108:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"34761:125:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16177,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16175,"name":"delta_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16162,"src":"34912:6:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":16176,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15794,"src":"34921:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"34912:22:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":16187,"nodeType":"Block","src":"35029:189:75","statements":[{"expression":{"hexValue":"30","id":16185,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"35194:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":15770,"id":16186,"nodeType":"Return","src":"35187:8:75"}]},"id":16188,"nodeType":"IfStatement","src":"34908:310:75","trueBody":{"id":16184,"nodeType":"Block","src":"34936:87:75","statements":[{"expression":{"id":16182,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16178,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15794,"src":"34962:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16181,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16179,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15794,"src":"34978:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":16180,"name":"delta_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16162,"src":"34994:6:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"34978:22:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"34962:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16183,"nodeType":"ExpressionStatement","src":"34962:38:75"}]}}]}},"id":16193,"nodeType":"IfStatement","src":"34319:969:75","trueBody":{"id":16157,"nodeType":"Block","src":"34334:308:75","statements":[{"expression":{"id":16155,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16142,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15794,"src":"34432:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16154,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16143,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15794,"src":"34472:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"id":16152,"name":"lpTotalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15772,"src":"34584:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":16149,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16089,"src":"34535:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":16146,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16120,"src":"34520:5:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":16145,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"34512:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":16144,"name":"uint256","nodeType":"ElementaryTypeName","src":"34512:7:75","typeDescriptions":{}}},"id":16147,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"34512:14:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16148,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"34527:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"34512:22:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16150,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"34512:34:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16151,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"34547:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"34512:42:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16153,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"34512:111:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"34472:151:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"34432:191:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16156,"nodeType":"ExpressionStatement","src":"34432:191:75"}]}},{"id":16197,"nodeType":"UncheckedBlock","src":"35353:54:75","statements":[{"expression":{"id":16195,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"35385:3:75","subExpression":{"id":16194,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16037,"src":"35387:1:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16196,"nodeType":"ExpressionStatement","src":"35385:3:75"}]}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16042,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16040,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16037,"src":"31511:1:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":16041,"name":"SHARE_PROCEEDS_MAX_ITERATIONS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15044,"src":"31515:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"31511:33:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16199,"initializationExpression":{"assignments":[16037],"declarations":[{"constant":false,"id":16037,"mutability":"mutable","name":"i","nameLocation":"31504:1:75","nodeType":"VariableDeclaration","scope":16199,"src":"31496:9:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16036,"name":"uint256","nodeType":"ElementaryTypeName","src":"31496:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16039,"initialValue":{"hexValue":"30","id":16038,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"31508:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"31496:13:75"},"nodeType":"ForStatement","src":"31491:3930:75"}]},"id":16201,"nodeType":"IfStatement","src":"26024:9407:75","trueBody":{"id":16035,"nodeType":"Block","src":"26055:5363:75","statements":[{"body":{"id":16033,"nodeType":"Block","src":"26126:5282:75","statements":[{"expression":{"id":15842,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"expression":{"expression":{"id":15814,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"26292:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15817,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26300:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"26292:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15818,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"26319:13:75","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":15176,"src":"26292:40:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":15819,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"26354:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15820,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26362:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"26354:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15821,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"26381:15:75","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15178,"src":"26354:42:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"expression":{"id":15822,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"26418:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15823,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26426:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"26418:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15824,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"26445:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"26418:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":15825,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"26270:205:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"tuple(uint256,int256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":15827,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"26524:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15828,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26532:21:75","memberName":"originalShareReserves","nodeType":"MemberAccess","referencedDeclaration":15595,"src":"26524:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":15829,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"26575:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15830,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26583:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"26575:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"id":15831,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"26628:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15832,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26636:20:75","memberName":"originalBondReserves","nodeType":"MemberAccess","referencedDeclaration":15599,"src":"26628:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":15833,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"26678:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15834,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26686:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"26678:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15835,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26705:20:75","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":15186,"src":"26678:47:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":15840,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"26747:22:75","subExpression":{"arguments":[{"id":15838,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15794,"src":"26755:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15837,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"26748:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":15836,"name":"int256","nodeType":"ElementaryTypeName","src":"26748:6:75","typeDescriptions":{}}},"id":15839,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26748:21:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":15826,"name":"calculateUpdateLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15174,"src":"26478:24:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$_t_uint256_$_t_uint256_$_t_int256_$returns$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"function (uint256,int256,uint256,uint256,int256) pure returns (uint256,int256,uint256)"}},"id":15841,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26478:309:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"tuple(uint256,int256,uint256)"}},"src":"26270:517:75","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":15843,"nodeType":"ExpressionStatement","src":"26270:517:75"},{"assignments":[15845],"declarations":[{"constant":false,"id":15845,"mutability":"mutable","name":"presentValue","nameLocation":"26813:12:75","nodeType":"VariableDeclaration","scope":16033,"src":"26805:20:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15844,"name":"uint256","nodeType":"ElementaryTypeName","src":"26805:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":15850,"initialValue":{"arguments":[{"expression":{"id":15847,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"26871:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15848,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"26879:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"26871:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}],"id":15846,"name":"calculatePresentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15226,"src":"26828:21:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_PresentValueParams_$15197_memory_ptr_$returns$_t_uint256_$","typeString":"function (struct LPMath.PresentValueParams memory) pure returns (uint256)"}},"id":15849,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"26828:87:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"26805:110:75"},{"condition":{"arguments":[{"id":15852,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"27109:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},{"id":15853,"name":"presentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15845,"src":"27142:12:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":15854,"name":"lpTotalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15772,"src":"27180:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15851,"name":"shouldShortCircuitDistributeExcessIdleShareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16379,"src":"27032:51:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_DistributeExcessIdleParams_$15600_memory_ptr_$_t_uint256_$_t_uint256_$returns$_t_bool_$","typeString":"function (struct LPMath.DistributeExcessIdleParams memory,uint256,uint256) pure returns (bool)"}},"id":15855,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"27032:183:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":15858,"nodeType":"IfStatement","src":"27007:273:75","trueBody":{"id":15857,"nodeType":"Block","src":"27234:46:75","statements":[{"id":15856,"nodeType":"Break","src":"27256:5:75"}]}},{"assignments":[15860,15862],"declarations":[{"constant":false,"id":15860,"mutability":"mutable","name":"maxBondAmount","nameLocation":"27592:13:75","nodeType":"VariableDeclaration","scope":16033,"src":"27584:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15859,"name":"uint256","nodeType":"ElementaryTypeName","src":"27584:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":15862,"mutability":"mutable","name":"success","nameLocation":"27612:7:75","nodeType":"VariableDeclaration","scope":16033,"src":"27607:12:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":15861,"name":"bool","nodeType":"ElementaryTypeName","src":"27607:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":15889,"initialValue":{"arguments":[{"expression":{"expression":{"id":15865,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"27712:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15866,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"27720:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"27712:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15867,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"27739:13:75","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":15176,"src":"27712:40:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":15868,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"27778:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15869,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"27786:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"27778:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15870,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"27805:15:75","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15178,"src":"27778:42:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"expression":{"id":15871,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"27846:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15872,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"27854:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"27846:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15873,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"27873:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"27846:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":15874,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"27911:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15875,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"27919:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"27911:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15876,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"27938:20:75","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":15186,"src":"27911:47:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15881,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15877,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"27984:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"expression":{"id":15878,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"27990:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15879,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"27998:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"27990:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15880,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"28017:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"27990:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"27984:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":15882,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"28054:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15883,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"28062:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"28054:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15884,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"28081:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"28054:42:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":15885,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"28122:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15886,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"28130:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"28122:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":15887,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"28149:22:75","memberName":"initialVaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15184,"src":"28122:49:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":15863,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18569,"src":"27623:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_YieldSpaceMath_$18569_$","typeString":"type(library YieldSpaceMath)"}},"id":15864,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"27659:27:75","memberName":"calculateMaxSellBondsInSafe","nodeType":"MemberAccess","referencedDeclaration":18500,"src":"27623:63:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$_t_bool_$","typeString":"function (uint256,int256,uint256,uint256,uint256,uint256,uint256) pure returns (uint256,bool)"}},"id":15888,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"27623:570:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"nodeType":"VariableDeclarationStatement","src":"27583:610:75"},{"condition":{"id":15891,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"28215:8:75","subExpression":{"id":15890,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15862,"src":"28216:7:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":15894,"nodeType":"IfStatement","src":"28211:60:75","trueBody":{"id":15893,"nodeType":"Block","src":"28225:46:75","statements":[{"id":15892,"nodeType":"Break","src":"28247:5:75"}]}},{"assignments":[15896],"declarations":[{"constant":false,"id":15896,"mutability":"mutable","name":"derivative","nameLocation":"28296:10:75","nodeType":"VariableDeclaration","scope":16033,"src":"28288:18:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15895,"name":"uint256","nodeType":"ElementaryTypeName","src":"28288:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":15897,"nodeType":"VariableDeclarationStatement","src":"28288:18:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15904,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"expression":{"id":15900,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"28336:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15901,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"28344:13:75","memberName":"netCurveTrade","nodeType":"MemberAccess","referencedDeclaration":15593,"src":"28336:21:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":15899,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"28328:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":15898,"name":"uint256","nodeType":"ElementaryTypeName","src":"28328:7:75","typeDescriptions":{}}},"id":15902,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"28328:30:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":15903,"name":"maxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15860,"src":"28362:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"28328:47:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":15952,"nodeType":"Block","src":"29115:517:75","statements":[{"expression":{"id":15942,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":15936,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15794,"src":"29163:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":15937,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15862,"src":"29202:7:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":15938,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"29137:94:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":15940,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"29321:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}],"id":15939,"name":"calculateDistributeExcessIdleShareProceedsNetLongEdgeCaseSafe","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16329,"src":"29234:61:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_DistributeExcessIdleParams_$15600_memory_ptr_$returns$_t_uint256_$_t_bool_$","typeString":"function (struct LPMath.DistributeExcessIdleParams memory) pure returns (uint256,bool)"}},"id":15941,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"29234:116:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"src":"29137:213:75","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":15943,"nodeType":"ExpressionStatement","src":"29137:213:75"},{"condition":{"id":15945,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"29376:8:75","subExpression":{"id":15944,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15862,"src":"29377:7:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":15949,"nodeType":"IfStatement","src":"29372:200:75","trueBody":{"id":15948,"nodeType":"Block","src":"29386:186:75","statements":[{"expression":{"hexValue":"30","id":15946,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"29548:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":15770,"id":15947,"nodeType":"Return","src":"29541:8:75"}]}},{"expression":{"id":15950,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15794,"src":"29600:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":15770,"id":15951,"nodeType":"Return","src":"29593:20:75"}]},"id":15953,"nodeType":"IfStatement","src":"28324:1308:75","trueBody":{"id":15935,"nodeType":"Block","src":"28377:640:75","statements":[{"expression":{"id":15917,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":15905,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15896,"src":"28425:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":15906,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15862,"src":"28461:7:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":15907,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"28399:91:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":15909,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"28563:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},{"id":15910,"name":"_originalEffectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15766,"src":"28596:31:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[{"expression":{"id":15913,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"28661:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15914,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"28669:13:75","memberName":"netCurveTrade","nodeType":"MemberAccess","referencedDeclaration":15593,"src":"28661:21:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":15912,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"28653:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":15911,"name":"uint256","nodeType":"ElementaryTypeName","src":"28653:7:75","typeDescriptions":{}}},"id":15915,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"28653:30:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15908,"name":"calculateSharesOutGivenBondsInDerivativeSafe","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17124,"src":"28493:44:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_DistributeExcessIdleParams_$15600_memory_ptr_$_t_uint256_$_t_uint256_$returns$_t_uint256_$_t_bool_$","typeString":"function (struct LPMath.DistributeExcessIdleParams memory,uint256,uint256) pure returns (uint256,bool)"}},"id":15916,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"28493:212:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"src":"28399:306:75","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":15918,"nodeType":"ExpressionStatement","src":"28399:306:75"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":15924,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15920,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"28731:8:75","subExpression":{"id":15919,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15862,"src":"28732:7:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15923,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15921,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15896,"src":"28743:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":15922,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"28757:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"28743:17:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"28731:29:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":15928,"nodeType":"IfStatement","src":"28727:221:75","trueBody":{"id":15927,"nodeType":"Block","src":"28762:186:75","statements":[{"expression":{"hexValue":"30","id":15925,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"28924:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":15770,"id":15926,"nodeType":"Return","src":"28917:8:75"}]}},{"expression":{"id":15933,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":15929,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15896,"src":"28969:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15932,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15930,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"28982:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":15931,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15896,"src":"28988:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"28982:16:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"28969:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":15934,"nodeType":"ExpressionStatement","src":"28969:29:75"}]}},{"assignments":[15955],"declarations":[{"constant":false,"id":15955,"mutability":"mutable","name":"delta","nameLocation":"30105:5:75","nodeType":"VariableDeclaration","scope":16033,"src":"30098:12:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":15954,"name":"int256","nodeType":"ElementaryTypeName","src":"30098:6:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":15973,"initialValue":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":15972,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":15960,"name":"lpTotalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15772,"src":"30141:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":15958,"name":"presentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15845,"src":"30120:12:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":15959,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"30133:7:75","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":13572,"src":"30120:20:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":15961,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"30120:35:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15957,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"30113:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":15956,"name":"int256","nodeType":"ElementaryTypeName","src":"30113:6:75","typeDescriptions":{}}},"id":15962,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"30113:43:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"arguments":[{"expression":{"id":15968,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"30275:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15969,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"30283:19:75","memberName":"activeLpTotalSupply","nodeType":"MemberAccess","referencedDeclaration":15587,"src":"30275:27:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":15965,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15764,"src":"30211:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":15966,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"30219:20:75","memberName":"startingPresentValue","nodeType":"MemberAccess","referencedDeclaration":15585,"src":"30211:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":15967,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"30240:5:75","memberName":"mulUp","nodeType":"MemberAccess","referencedDeclaration":13622,"src":"30211:34:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":15970,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"30211:117:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":15964,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"30179:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":15963,"name":"int256","nodeType":"ElementaryTypeName","src":"30179:6:75","typeDescriptions":{}}},"id":15971,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"30179:171:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"30113:237:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"30098:252:75"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":15976,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15974,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15955,"src":"30372:5:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":15975,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"30380:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"30372:9:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":15995,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15993,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15955,"src":"30645:5:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"30","id":15994,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"30653:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"30645:9:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":16026,"nodeType":"Block","src":"31229:46:75","statements":[{"id":16025,"nodeType":"Break","src":"31251:5:75"}]},"id":16027,"nodeType":"IfStatement","src":"30641:634:75","trueBody":{"id":16024,"nodeType":"Block","src":"30656:567:75","statements":[{"assignments":[15997],"declarations":[{"constant":false,"id":15997,"mutability":"mutable","name":"delta_","nameLocation":"30762:6:75","nodeType":"VariableDeclaration","scope":16024,"src":"30754:14:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15996,"name":"uint256","nodeType":"ElementaryTypeName","src":"30754:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16009,"initialValue":{"arguments":[{"arguments":[{"id":16006,"name":"lpTotalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15772,"src":"30837:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16004,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15896,"src":"30820:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16005,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"30831:5:75","memberName":"mulUp","nodeType":"MemberAccess","referencedDeclaration":13622,"src":"30820:16:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16007,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"30820:31:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":16001,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"30779:6:75","subExpression":{"id":16000,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15955,"src":"30780:5:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":15999,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"30771:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":15998,"name":"uint256","nodeType":"ElementaryTypeName","src":"30771:7:75","typeDescriptions":{}}},"id":16002,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"30771:15:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16003,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"30787:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"30771:23:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16008,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"30771:102:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"30754:119:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16012,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16010,"name":"delta_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15997,"src":"30899:6:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":16011,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15794,"src":"30908:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"30899:22:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":16022,"nodeType":"Block","src":"31016:189:75","statements":[{"expression":{"hexValue":"30","id":16020,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"31181:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":15770,"id":16021,"nodeType":"Return","src":"31174:8:75"}]},"id":16023,"nodeType":"IfStatement","src":"30895:310:75","trueBody":{"id":16019,"nodeType":"Block","src":"30923:87:75","statements":[{"expression":{"id":16017,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16013,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15794,"src":"30949:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16016,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16014,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15794,"src":"30965:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":16015,"name":"delta_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15997,"src":"30981:6:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"30965:22:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"30949:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16018,"nodeType":"ExpressionStatement","src":"30949:38:75"}]}}]}},"id":16028,"nodeType":"IfStatement","src":"30368:907:75","trueBody":{"id":15992,"nodeType":"Block","src":"30383:252:75","statements":[{"expression":{"id":15990,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":15977,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15794,"src":"30481:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15989,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15978,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15794,"src":"30521:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"arguments":[{"id":15986,"name":"lpTotalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15772,"src":"30601:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":15984,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15896,"src":"30584:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":15985,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"30595:5:75","memberName":"mulUp","nodeType":"MemberAccess","referencedDeclaration":13622,"src":"30584:16:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":15987,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"30584:31:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":15981,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15955,"src":"30569:5:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":15980,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"30561:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":15979,"name":"uint256","nodeType":"ElementaryTypeName","src":"30561:7:75","typeDescriptions":{}}},"id":15982,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"30561:14:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":15983,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"30576:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"30561:22:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":15988,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"30561:55:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"30521:95:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"30481:135:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":15991,"nodeType":"ExpressionStatement","src":"30481:135:75"}]}},{"id":16032,"nodeType":"UncheckedBlock","src":"31340:54:75","statements":[{"expression":{"id":16030,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"31372:3:75","subExpression":{"id":16029,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15808,"src":"31374:1:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16031,"nodeType":"ExpressionStatement","src":"31372:3:75"}]}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":15813,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":15811,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15808,"src":"26089:1:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":15812,"name":"SHARE_PROCEEDS_MAX_ITERATIONS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15044,"src":"26093:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"26089:33:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16034,"initializationExpression":{"assignments":[15808],"declarations":[{"constant":false,"id":15808,"mutability":"mutable","name":"i","nameLocation":"26082:1:75","nodeType":"VariableDeclaration","scope":16034,"src":"26074:9:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15807,"name":"uint256","nodeType":"ElementaryTypeName","src":"26074:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":15810,"initialValue":{"hexValue":"30","id":15809,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"26086:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"26074:13:75"},"nodeType":"ForStatement","src":"26069:5339:75"}]}},{"expression":{"id":16202,"name":"shareProceeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15794,"src":"35448:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":15770,"id":16203,"nodeType":"Return","src":"35441:20:75"}]},"documentation":{"id":15761,"nodeType":"StructuredDocumentation","src":"23976:632:75","text":"@dev Calculates the share proceeds to distribute to the withdrawal pool\n      assuming that all of the outstanding withdrawal shares will be\n      redeemed. The share proceeds are calculated such that the LP share\n      price is conserved. When we need to round, we round down to err on\n      the side of slightly too few shares being paid out.\n @param _params The parameters for the distribute excess idle calculation.\n @param _originalEffectiveShareReserves The original effective share\n        reserves.\n @return The share proceeds to distribute to the withdrawal pool."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateDistributeExcessIdleShareProceeds","nameLocation":"24622:42:75","parameters":{"id":15767,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15764,"mutability":"mutable","name":"_params","nameLocation":"24708:7:75","nodeType":"VariableDeclaration","scope":16205,"src":"24674:41:75","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"},"typeName":{"id":15763,"nodeType":"UserDefinedTypeName","pathNode":{"id":15762,"name":"DistributeExcessIdleParams","nameLocations":["24674:26:75"],"nodeType":"IdentifierPath","referencedDeclaration":15600,"src":"24674:26:75"},"referencedDeclaration":15600,"src":"24674:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_storage_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"}},"visibility":"internal"},{"constant":false,"id":15766,"mutability":"mutable","name":"_originalEffectiveShareReserves","nameLocation":"24733:31:75","nodeType":"VariableDeclaration","scope":16205,"src":"24725:39:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15765,"name":"uint256","nodeType":"ElementaryTypeName","src":"24725:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"24664:106:75"},"returnParameters":{"id":15770,"nodeType":"ParameterList","parameters":[{"constant":false,"id":15769,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":16205,"src":"24794:7:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15768,"name":"uint256","nodeType":"ElementaryTypeName","src":"24794:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"24793:9:75"},"scope":17602,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":16329,"nodeType":"FunctionDefinition","src":"36150:2095:75","nodes":[],"body":{"id":16328,"nodeType":"Block","src":"36316:1929:75","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":16219,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":16216,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16209,"src":"36557:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16217,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"36565:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"36557:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"hexValue":"30","id":16218,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"36592:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"36557:36:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16225,"nodeType":"IfStatement","src":"36553:84:75","trueBody":{"id":16224,"nodeType":"Block","src":"36595:42:75","statements":[{"expression":{"components":[{"hexValue":"30","id":16220,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"36617:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"66616c7365","id":16221,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"36620:5:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"id":16222,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"36616:10:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_bool_$","typeString":"tuple(int_const 0,bool)"}},"functionReturnParameters":16215,"id":16223,"nodeType":"Return","src":"36609:17:75"}]}},{"expression":{"id":16233,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"expression":{"id":16226,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16209,"src":"36716:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16229,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"36724:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"36716:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16230,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"36743:13:75","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":15176,"src":"36716:40:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":16231,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16209,"src":"36759:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16232,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"36780:21:75","memberName":"originalShareReserves","nodeType":"MemberAccess","referencedDeclaration":15595,"src":"36759:42:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"36716:85:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16234,"nodeType":"ExpressionStatement","src":"36716:85:75"},{"expression":{"id":16242,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"expression":{"id":16235,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16209,"src":"36811:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16238,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"36819:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"36811:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16239,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"36838:15:75","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15178,"src":"36811:42:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":16240,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16209,"src":"36856:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16241,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"36877:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"36856:44:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"36811:89:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":16243,"nodeType":"ExpressionStatement","src":"36811:89:75"},{"expression":{"id":16251,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"expression":{"id":16244,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16209,"src":"36910:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16247,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"36918:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"36910:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16248,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"36937:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"36910:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":16249,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16209,"src":"36952:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16250,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"36960:20:75","memberName":"originalBondReserves","nodeType":"MemberAccess","referencedDeclaration":15599,"src":"36952:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"36910:70:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16252,"nodeType":"ExpressionStatement","src":"36910:70:75"},{"assignments":[16254],"declarations":[{"constant":false,"id":16254,"mutability":"mutable","name":"netFlatTrade","nameLocation":"36997:12:75","nodeType":"VariableDeclaration","scope":16328,"src":"36990:19:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":16253,"name":"int256","nodeType":"ElementaryTypeName","src":"36990:6:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"id":16259,"initialValue":{"arguments":[{"expression":{"id":16256,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16209,"src":"37034:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16257,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"37042:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"37034:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}],"id":16255,"name":"calculateNetFlatTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15580,"src":"37012:21:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_PresentValueParams_$15197_memory_ptr_$returns$_t_int256_$","typeString":"function (struct LPMath.PresentValueParams memory) pure returns (int256)"}},"id":16258,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"37012:49:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"36990:71:75"},{"assignments":[16261],"declarations":[{"constant":false,"id":16261,"mutability":"mutable","name":"rhs","nameLocation":"37212:3:75","nodeType":"VariableDeclaration","scope":16328,"src":"37204:11:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16260,"name":"uint256","nodeType":"ElementaryTypeName","src":"37204:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16262,"nodeType":"VariableDeclarationStatement","src":"37204:11:75"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":16265,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16263,"name":"netFlatTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16254,"src":"37229:12:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"hexValue":"30","id":16264,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"37245:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"37229:17:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":16306,"nodeType":"Block","src":"37556:303:75","statements":[{"expression":{"id":16304,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16286,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16261,"src":"37570:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16303,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"expression":{"id":16290,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16209,"src":"37651:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16291,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"37659:19:75","memberName":"activeLpTotalSupply","nodeType":"MemberAccess","referencedDeclaration":15587,"src":"37651:27:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16296,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":16292,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16209,"src":"37700:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16293,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"37708:19:75","memberName":"activeLpTotalSupply","nodeType":"MemberAccess","referencedDeclaration":15587,"src":"37700:27:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"expression":{"id":16294,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16209,"src":"37754:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16295,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"37762:27:75","memberName":"withdrawalSharesTotalSupply","nodeType":"MemberAccess","referencedDeclaration":15589,"src":"37754:35:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"37700:89:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":16287,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16209,"src":"37592:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16288,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"37600:20:75","memberName":"startingPresentValue","nodeType":"MemberAccess","referencedDeclaration":15585,"src":"37592:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16289,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"37621:8:75","memberName":"mulDivUp","nodeType":"MemberAccess","referencedDeclaration":13604,"src":"37592:37:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":16297,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"37592:215:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"id":16301,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"37834:13:75","subExpression":{"id":16300,"name":"netFlatTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16254,"src":"37835:12:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":16299,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"37826:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":16298,"name":"uint256","nodeType":"ElementaryTypeName","src":"37826:7:75","typeDescriptions":{}}},"id":16302,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"37826:22:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"37592:256:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"37570:278:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16305,"nodeType":"ExpressionStatement","src":"37570:278:75"}]},"id":16307,"nodeType":"IfStatement","src":"37225:634:75","trueBody":{"id":16285,"nodeType":"Block","src":"37248:302:75","statements":[{"expression":{"id":16283,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16266,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16261,"src":"37262:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16282,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"expression":{"id":16270,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16209,"src":"37343:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16271,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"37351:19:75","memberName":"activeLpTotalSupply","nodeType":"MemberAccess","referencedDeclaration":15587,"src":"37343:27:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16276,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":16272,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16209,"src":"37392:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16273,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"37400:19:75","memberName":"activeLpTotalSupply","nodeType":"MemberAccess","referencedDeclaration":15587,"src":"37392:27:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"expression":{"id":16274,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16209,"src":"37446:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16275,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"37454:27:75","memberName":"withdrawalSharesTotalSupply","nodeType":"MemberAccess","referencedDeclaration":15589,"src":"37446:35:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"37392:89:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":16267,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16209,"src":"37284:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16268,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"37292:20:75","memberName":"startingPresentValue","nodeType":"MemberAccess","referencedDeclaration":15585,"src":"37284:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16269,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"37313:8:75","memberName":"mulDivUp","nodeType":"MemberAccess","referencedDeclaration":13604,"src":"37284:37:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":16277,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"37284:215:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"id":16280,"name":"netFlatTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16254,"src":"37526:12:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":16279,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"37518:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":16278,"name":"uint256","nodeType":"ElementaryTypeName","src":"37518:7:75","typeDescriptions":{}}},"id":16281,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"37518:21:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"37284:255:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"37262:277:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16284,"nodeType":"ExpressionStatement","src":"37262:277:75"}]}},{"expression":{"id":16319,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16308,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16261,"src":"38016:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":16312,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16261,"src":"38074:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[{"expression":{"id":16315,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16209,"src":"38099:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16316,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"38107:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"38099:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":16314,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"38091:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":16313,"name":"uint256","nodeType":"ElementaryTypeName","src":"38091:7:75","typeDescriptions":{}}},"id":16317,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"38091:40:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":16309,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16209,"src":"38022:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16310,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"38030:21:75","memberName":"originalShareReserves","nodeType":"MemberAccess","referencedDeclaration":15595,"src":"38022:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16311,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"38052:8:75","memberName":"mulDivUp","nodeType":"MemberAccess","referencedDeclaration":13604,"src":"38022:38:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":16318,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"38022:119:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"38016:125:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16320,"nodeType":"ExpressionStatement","src":"38016:125:75"},{"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16324,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":16321,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16209,"src":"38196:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16322,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"38204:21:75","memberName":"originalShareReserves","nodeType":"MemberAccess","referencedDeclaration":15595,"src":"38196:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":16323,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16261,"src":"38228:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"38196:35:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":16325,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"38233:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"id":16326,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"38195:43:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"functionReturnParameters":16215,"id":16327,"nodeType":"Return","src":"38188:50:75"}]},"documentation":{"id":16206,"nodeType":"StructuredDocumentation","src":"35474:671:75","text":"@dev When the pool is net long and we have begun to mark longs to zero,\n      we can solve directly for the share proceeds as:\n      shareProceeds = z - ((PV(0) / l) * (l - w) - net_f) / (zeta / z)\n      This formula assumes that the share adjustment is positive.\n      Otherwise, the calculation is undefined, and we return a failure\n      flag. We round down to err on the side of the withdrawal pool\n      receiving slightly less shares.\n @param _params The parameters for the calculation.\n @return The share proceeds.\n @return A flag indicating whether the calculation was successful."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateDistributeExcessIdleShareProceedsNetLongEdgeCaseSafe","nameLocation":"36159:61:75","parameters":{"id":16210,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16209,"mutability":"mutable","name":"_params","nameLocation":"36264:7:75","nodeType":"VariableDeclaration","scope":16329,"src":"36230:41:75","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"},"typeName":{"id":16208,"nodeType":"UserDefinedTypeName","pathNode":{"id":16207,"name":"DistributeExcessIdleParams","nameLocations":["36230:26:75"],"nodeType":"IdentifierPath","referencedDeclaration":15600,"src":"36230:26:75"},"referencedDeclaration":15600,"src":"36230:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_storage_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"}},"visibility":"internal"}],"src":"36220:57:75"},"returnParameters":{"id":16215,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16212,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":16329,"src":"36301:7:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16211,"name":"uint256","nodeType":"ElementaryTypeName","src":"36301:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":16214,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":16329,"src":"36310:4:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":16213,"name":"bool","nodeType":"ElementaryTypeName","src":"36310:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"36300:15:75"},"scope":17602,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":16379,"nodeType":"FunctionDefinition","src":"38963:769:75","nodes":[],"body":{"id":16378,"nodeType":"Block","src":"39173:559:75","nodes":[],"statements":[{"assignments":[16343],"declarations":[{"constant":false,"id":16343,"mutability":"mutable","name":"lpSharePriceBefore","nameLocation":"39191:18:75","nodeType":"VariableDeclaration","scope":16378,"src":"39183:26:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16342,"name":"uint256","nodeType":"ElementaryTypeName","src":"39183:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16349,"initialValue":{"arguments":[{"id":16347,"name":"_lpTotalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16335,"src":"39262:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":16344,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16333,"src":"39212:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16345,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"39220:20:75","memberName":"startingPresentValue","nodeType":"MemberAccess","referencedDeclaration":15585,"src":"39212:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16346,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"39241:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"39212:36:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16348,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"39212:74:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"39183:103:75"},{"assignments":[16351],"declarations":[{"constant":false,"id":16351,"mutability":"mutable","name":"lpSharePriceAfter","nameLocation":"39304:17:75","nodeType":"VariableDeclaration","scope":16378,"src":"39296:25:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16350,"name":"uint256","nodeType":"ElementaryTypeName","src":"39296:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16357,"initialValue":{"arguments":[{"expression":{"id":16354,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16333,"src":"39359:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16355,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"39367:19:75","memberName":"activeLpTotalSupply","nodeType":"MemberAccess","referencedDeclaration":15587,"src":"39359:27:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16352,"name":"_presentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16337,"src":"39324:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16353,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"39338:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"39324:21:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16356,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"39324:72:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"39296:100:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16360,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16358,"name":"lpSharePriceAfter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16351,"src":"39410:17:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":16359,"name":"lpSharePriceBefore","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16343,"src":"39430:18:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"39410:38:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16364,"nodeType":"IfStatement","src":"39406:81:75","trueBody":{"id":16363,"nodeType":"Block","src":"39450:37:75","statements":[{"expression":{"hexValue":"66616c7365","id":16361,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"39471:5:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"functionReturnParameters":16341,"id":16362,"nodeType":"Return","src":"39464:12:75"}]}},{"expression":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":16376,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16367,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16365,"name":"lpSharePriceAfter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16351,"src":"39515:17:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":16366,"name":"lpSharePriceBefore","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16343,"src":"39536:18:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"39515:39:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16375,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16368,"name":"lpSharePriceAfter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16351,"src":"39570:17:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16373,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"id":16371,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"39690:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":16372,"name":"SHARE_PROCEEDS_MIN_TOLERANCE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15048,"src":"39696:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"39690:34:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16369,"name":"lpSharePriceBefore","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16343,"src":"39663:18:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16370,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"39682:7:75","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":13572,"src":"39663:26:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16374,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"39663:62:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"39570:155:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"39515:210:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":16341,"id":16377,"nodeType":"Return","src":"39496:229:75"}]},"documentation":{"id":16330,"nodeType":"StructuredDocumentation","src":"38251:707:75","text":"@dev Checks to see if we should short-circuit the iterative calculation\n     of the share proceeds when distributing excess idle liquidity. This\n     verifies that the ending LP share price is greater than or equal to\n     the starting LP share price and less than or equal to the starting\n     LP share price plus the minimum tolerance.\n @param _params The parameters for the calculation.\n @param _lpTotalSupply The total supply of LP shares.\n @param _presentValue The present value of the pool at this iteration of\n        the calculation.\n @return A flag indicating whether or not we should short-circuit the\n         calculation."},"implemented":true,"kind":"function","modifiers":[],"name":"shouldShortCircuitDistributeExcessIdleShareProceeds","nameLocation":"38972:51:75","parameters":{"id":16338,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16333,"mutability":"mutable","name":"_params","nameLocation":"39067:7:75","nodeType":"VariableDeclaration","scope":16379,"src":"39033:41:75","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"},"typeName":{"id":16332,"nodeType":"UserDefinedTypeName","pathNode":{"id":16331,"name":"DistributeExcessIdleParams","nameLocations":["39033:26:75"],"nodeType":"IdentifierPath","referencedDeclaration":15600,"src":"39033:26:75"},"referencedDeclaration":15600,"src":"39033:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_storage_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"}},"visibility":"internal"},{"constant":false,"id":16335,"mutability":"mutable","name":"_lpTotalSupply","nameLocation":"39092:14:75","nodeType":"VariableDeclaration","scope":16379,"src":"39084:22:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16334,"name":"uint256","nodeType":"ElementaryTypeName","src":"39084:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":16337,"mutability":"mutable","name":"_presentValue","nameLocation":"39124:13:75","nodeType":"VariableDeclaration","scope":16379,"src":"39116:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16336,"name":"uint256","nodeType":"ElementaryTypeName","src":"39116:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"39023:120:75"},"returnParameters":{"id":16341,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16340,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":16379,"src":"39167:4:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":16339,"name":"bool","nodeType":"ElementaryTypeName","src":"39167:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"39166:6:75"},"scope":17602,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":16721,"nodeType":"FunctionDefinition","src":"40422:9253:75","nodes":[],"body":{"id":16720,"nodeType":"Block","src":"40622:9053:75","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":16393,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":16390,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"40772:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16391,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"40780:13:75","memberName":"netCurveTrade","nodeType":"MemberAccess","referencedDeclaration":15593,"src":"40772:21:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"hexValue":"30","id":16392,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"40797:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"40772:26:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16398,"nodeType":"IfStatement","src":"40768:76:75","trueBody":{"id":16397,"nodeType":"Block","src":"40800:44:75","statements":[{"expression":{"expression":{"id":16394,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"40821:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16395,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"40829:4:75","memberName":"idle","nodeType":"MemberAccess","referencedDeclaration":15591,"src":"40821:12:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":16389,"id":16396,"nodeType":"Return","src":"40814:19:75"}]}},{"assignments":[16400],"declarations":[{"constant":false,"id":16400,"mutability":"mutable","name":"netCurveTrade","nameLocation":"40861:13:75","nodeType":"VariableDeclaration","scope":16720,"src":"40853:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16399,"name":"uint256","nodeType":"ElementaryTypeName","src":"40853:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16407,"initialValue":{"arguments":[{"id":16405,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"40885:22:75","subExpression":{"expression":{"id":16403,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"40886:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16404,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"40894:13:75","memberName":"netCurveTrade","nodeType":"MemberAccess","referencedDeclaration":15593,"src":"40886:21:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":16402,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"40877:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":16401,"name":"uint256","nodeType":"ElementaryTypeName","src":"40877:7:75","typeDescriptions":{}}},"id":16406,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"40877:31:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"40853:55:75"},{"id":16476,"nodeType":"Block","src":"41093:1472:75","statements":[{"expression":{"id":16437,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"expression":{"expression":{"id":16408,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"41257:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16411,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"41265:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"41257:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16412,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"41284:13:75","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":15176,"src":"41257:40:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16413,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"41315:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16414,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"41323:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"41315:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16415,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"41342:15:75","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15178,"src":"41315:42:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"expression":{"id":16416,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"41375:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16417,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"41383:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"41375:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16418,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"41402:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"41375:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":16419,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"41239:189:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"tuple(uint256,int256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":16421,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"41473:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16422,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"41481:21:75","memberName":"originalShareReserves","nodeType":"MemberAccess","referencedDeclaration":15595,"src":"41473:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":16423,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"41520:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16424,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"41528:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"41520:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"id":16425,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"41569:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16426,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"41577:20:75","memberName":"originalBondReserves","nodeType":"MemberAccess","referencedDeclaration":15599,"src":"41569:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16427,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"41615:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16428,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"41623:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"41615:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16429,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"41642:20:75","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":15186,"src":"41615:47:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":16435,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"41680:21:75","subExpression":{"arguments":[{"expression":{"id":16432,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"41688:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16433,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"41696:4:75","memberName":"idle","nodeType":"MemberAccess","referencedDeclaration":15591,"src":"41688:12:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":16431,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"41681:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":16430,"name":"int256","nodeType":"ElementaryTypeName","src":"41681:6:75","typeDescriptions":{}}},"id":16434,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"41681:20:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":16420,"name":"calculateUpdateLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15174,"src":"41431:24:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$_t_uint256_$_t_uint256_$_t_int256_$returns$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"function (uint256,int256,uint256,uint256,int256) pure returns (uint256,int256,uint256)"}},"id":16436,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"41431:284:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"tuple(uint256,int256,uint256)"}},"src":"41239:476:75","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":16438,"nodeType":"ExpressionStatement","src":"41239:476:75"},{"assignments":[16440],"declarations":[{"constant":false,"id":16440,"mutability":"mutable","name":"maxBondAmount","nameLocation":"41737:13:75","nodeType":"VariableDeclaration","scope":16476,"src":"41729:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16439,"name":"uint256","nodeType":"ElementaryTypeName","src":"41729:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16467,"initialValue":{"arguments":[{"arguments":[{"expression":{"expression":{"id":16445,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"41877:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16446,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"41885:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"41877:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16447,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"41904:13:75","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":15176,"src":"41877:40:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16448,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"41939:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16449,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"41947:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"41939:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16450,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"41966:15:75","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15178,"src":"41939:42:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":16443,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15024,"src":"41809:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$15024_$","typeString":"type(library HyperdriveMath)"}},"id":16444,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"41824:31:75","memberName":"calculateEffectiveShareReserves","nodeType":"MemberAccess","referencedDeclaration":14502,"src":"41809:46:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$returns$_t_uint256_$","typeString":"function (uint256,int256) pure returns (uint256)"}},"id":16451,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"41809:190:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16452,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"42017:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16453,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"42025:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"42017:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16454,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"42044:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"42017:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16459,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16455,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"42074:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"expression":{"id":16456,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"42080:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16457,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"42088:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"42080:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16458,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"42107:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"42080:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"42074:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16460,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"42136:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16461,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"42144:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"42136:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16462,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"42163:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"42136:42:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16463,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"42196:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16464,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"42204:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"42196:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16465,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"42223:22:75","memberName":"initialVaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15184,"src":"42196:49:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16441,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18569,"src":"41753:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_YieldSpaceMath_$18569_$","typeString":"type(library YieldSpaceMath)"}},"id":16442,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"41768:23:75","memberName":"calculateMaxBuyBondsOut","nodeType":"MemberAccess","referencedDeclaration":18387,"src":"41753:38:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":16466,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"41753:506:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"41729:530:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16470,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16468,"name":"maxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16440,"src":"42471:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":16469,"name":"netCurveTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16400,"src":"42488:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"42471:30:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16475,"nodeType":"IfStatement","src":"42467:88:75","trueBody":{"id":16474,"nodeType":"Block","src":"42503:52:75","statements":[{"expression":{"expression":{"id":16471,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"42528:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16472,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"42536:4:75","memberName":"idle","nodeType":"MemberAccess","referencedDeclaration":15591,"src":"42528:12:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":16389,"id":16473,"nodeType":"Return","src":"42521:19:75"}]}}]},{"assignments":[16478],"declarations":[{"constant":false,"id":16478,"mutability":"mutable","name":"maybeMaxShareReservesDelta","nameLocation":"42646:26:75","nodeType":"VariableDeclaration","scope":16720,"src":"42638:34:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16477,"name":"uint256","nodeType":"ElementaryTypeName","src":"42638:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16484,"initialValue":{"arguments":[{"id":16480,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"42735:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},{"id":16481,"name":"_originalEffectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16385,"src":"42760:31:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":16482,"name":"netCurveTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16400,"src":"42809:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":16479,"name":"calculateMaxShareReservesDeltaInitialGuess","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16872,"src":"42675:42:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_DistributeExcessIdleParams_$15600_memory_ptr_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (struct LPMath.DistributeExcessIdleParams memory,uint256,uint256) pure returns (uint256)"}},"id":16483,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"42675:161:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"42638:198:75"},{"body":{"id":16643,"nodeType":"Block","src":"42976:5322:75","statements":[{"expression":{"id":16520,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"expression":{"expression":{"id":16492,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"43147:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16495,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"43155:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"43147:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16496,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"43174:13:75","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":15176,"src":"43147:40:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16497,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"43205:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16498,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"43213:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"43205:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16499,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"43232:15:75","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15178,"src":"43205:42:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"expression":{"id":16500,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"43265:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16501,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"43273:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"43265:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16502,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"43292:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"43265:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":16503,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"43129:189:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"tuple(uint256,int256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":16505,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"43363:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16506,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"43371:21:75","memberName":"originalShareReserves","nodeType":"MemberAccess","referencedDeclaration":15595,"src":"43363:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":16507,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"43410:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16508,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"43418:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"43410:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"id":16509,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"43459:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16510,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"43467:20:75","memberName":"originalBondReserves","nodeType":"MemberAccess","referencedDeclaration":15599,"src":"43459:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16511,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"43505:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16512,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"43513:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"43505:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16513,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"43532:20:75","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":15186,"src":"43505:47:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":16518,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"43570:35:75","subExpression":{"arguments":[{"id":16516,"name":"maybeMaxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16478,"src":"43578:26:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":16515,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"43571:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":16514,"name":"int256","nodeType":"ElementaryTypeName","src":"43571:6:75","typeDescriptions":{}}},"id":16517,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"43571:34:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":16504,"name":"calculateUpdateLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15174,"src":"43321:24:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$_t_uint256_$_t_uint256_$_t_int256_$returns$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"function (uint256,int256,uint256,uint256,int256) pure returns (uint256,int256,uint256)"}},"id":16519,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"43321:298:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"tuple(uint256,int256,uint256)"}},"src":"43129:490:75","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":16521,"nodeType":"ExpressionStatement","src":"43129:490:75"},{"assignments":[16523],"declarations":[{"constant":false,"id":16523,"mutability":"mutable","name":"maxBondAmount","nameLocation":"43641:13:75","nodeType":"VariableDeclaration","scope":16643,"src":"43633:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16522,"name":"uint256","nodeType":"ElementaryTypeName","src":"43633:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16550,"initialValue":{"arguments":[{"arguments":[{"expression":{"expression":{"id":16528,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"43781:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16529,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"43789:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"43781:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16530,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"43808:13:75","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":15176,"src":"43781:40:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16531,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"43843:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16532,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"43851:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"43843:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16533,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"43870:15:75","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15178,"src":"43843:42:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":16526,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15024,"src":"43713:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$15024_$","typeString":"type(library HyperdriveMath)"}},"id":16527,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"43728:31:75","memberName":"calculateEffectiveShareReserves","nodeType":"MemberAccess","referencedDeclaration":14502,"src":"43713:46:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$returns$_t_uint256_$","typeString":"function (uint256,int256) pure returns (uint256)"}},"id":16534,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"43713:190:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16535,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"43921:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16536,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"43929:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"43921:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16537,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"43948:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"43921:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16542,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16538,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"43978:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"expression":{"id":16539,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"43984:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16540,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"43992:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"43984:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16541,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"44011:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"43984:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"43978:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16543,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"44040:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16544,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"44048:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"44040:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16545,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"44067:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"44040:42:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16546,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"44100:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16547,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"44108:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"44100:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16548,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"44127:22:75","memberName":"initialVaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15184,"src":"44100:49:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16524,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18569,"src":"43657:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_YieldSpaceMath_$18569_$","typeString":"type(library YieldSpaceMath)"}},"id":16525,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"43672:23:75","memberName":"calculateMaxBuyBondsOut","nodeType":"MemberAccess","referencedDeclaration":18387,"src":"43657:38:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":16549,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"43657:506:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"43633:530:75"},{"assignments":[16552,16554],"declarations":[{"constant":false,"id":16552,"mutability":"mutable","name":"derivative","nameLocation":"44359:10:75","nodeType":"VariableDeclaration","scope":16643,"src":"44351:18:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16551,"name":"uint256","nodeType":"ElementaryTypeName","src":"44351:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":16554,"mutability":"mutable","name":"success","nameLocation":"44392:7:75","nodeType":"VariableDeclaration","scope":16643,"src":"44387:12:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":16553,"name":"bool","nodeType":"ElementaryTypeName","src":"44387:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":16559,"initialValue":{"arguments":[{"id":16556,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"44475:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},{"id":16557,"name":"_originalEffectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16385,"src":"44504:31:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":16555,"name":"calculateMaxBuyBondsOutDerivativeSafe","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17601,"src":"44416:37:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_DistributeExcessIdleParams_$15600_memory_ptr_$_t_uint256_$returns$_t_uint256_$_t_bool_$","typeString":"function (struct LPMath.DistributeExcessIdleParams memory,uint256) pure returns (uint256,bool)"}},"id":16558,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"44416:137:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"nodeType":"VariableDeclarationStatement","src":"44333:220:75"},{"condition":{"id":16561,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"44571:8:75","subExpression":{"id":16560,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16554,"src":"44572:7:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16564,"nodeType":"IfStatement","src":"44567:52:75","trueBody":{"id":16563,"nodeType":"Block","src":"44581:38:75","statements":[{"id":16562,"nodeType":"Break","src":"44599:5:75"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16567,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16565,"name":"maxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16523,"src":"44793:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":16566,"name":"netCurveTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16400,"src":"44809:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"44793:29:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16599,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16597,"name":"maxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16523,"src":"46618:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":16598,"name":"netCurveTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16400,"src":"46634:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"46618:29:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":16625,"nodeType":"Block","src":"47727:196:75","statements":[{"expression":{"id":16623,"name":"maybeMaxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16478,"src":"47882:26:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":16389,"id":16624,"nodeType":"Return","src":"47875:33:75"}]},"id":16626,"nodeType":"IfStatement","src":"46614:1309:75","trueBody":{"id":16622,"nodeType":"Block","src":"46649:1072:75","statements":[{"assignments":[16601],"declarations":[{"constant":false,"id":16601,"mutability":"mutable","name":"delta","nameLocation":"47424:5:75","nodeType":"VariableDeclaration","scope":16622,"src":"47416:13:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16600,"name":"uint256","nodeType":"ElementaryTypeName","src":"47416:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16609,"initialValue":{"arguments":[{"id":16607,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16552,"src":"47493:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16604,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16602,"name":"netCurveTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16400,"src":"47433:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":16603,"name":"maxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16523,"src":"47449:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"47433:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":16605,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"47432:31:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16606,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"47464:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"47432:39:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16608,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"47432:89:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"47416:105:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16612,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16610,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16601,"src":"47543:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":16611,"name":"maybeMaxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16478,"src":"47552:26:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"47543:35:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16615,"nodeType":"IfStatement","src":"47539:87:75","trueBody":{"id":16614,"nodeType":"Block","src":"47580:46:75","statements":[{"id":16613,"nodeType":"Break","src":"47602:5:75"}]}},{"expression":{"id":16620,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16616,"name":"maybeMaxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16478,"src":"47643:26:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16619,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16617,"name":"maybeMaxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16478,"src":"47672:26:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":16618,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16601,"src":"47701:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"47672:34:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"47643:63:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16621,"nodeType":"ExpressionStatement","src":"47643:63:75"}]}},"id":16627,"nodeType":"IfStatement","src":"44789:3134:75","trueBody":{"id":16596,"nodeType":"Block","src":"44824:1616:75","statements":[{"expression":{"id":16570,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16568,"name":"maxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16388,"src":"45020:21:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":16569,"name":"maybeMaxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16478,"src":"45044:26:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"45020:50:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16571,"nodeType":"ExpressionStatement","src":"45020:50:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16579,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16572,"name":"maxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16523,"src":"45271:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16577,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"id":16575,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"45355:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":16576,"name":"MAX_SHARE_RESERVES_DELTA_MIN_TOLERANCE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15056,"src":"45361:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"45355:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16573,"name":"netCurveTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16400,"src":"45308:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16574,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"45322:7:75","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":13572,"src":"45308:21:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16578,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"45308:113:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"45271:150:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16583,"nodeType":"IfStatement","src":"45246:263:75","trueBody":{"id":16582,"nodeType":"Block","src":"45440:69:75","statements":[{"expression":{"id":16580,"name":"maxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16388,"src":"45469:21:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":16389,"id":16581,"nodeType":"Return","src":"45462:28:75"}]}},{"expression":{"id":16594,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16584,"name":"maybeMaxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16478,"src":"46276:26:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16593,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16585,"name":"maybeMaxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16478,"src":"46325:26:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"id":16591,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16552,"src":"46414:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16588,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16586,"name":"maxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16523,"src":"46375:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":16587,"name":"netCurveTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16400,"src":"46391:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"46375:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":16589,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"46374:31:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16590,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"46406:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"46374:39:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16592,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"46374:51:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"46325:100:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"46276:149:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16595,"nodeType":"ExpressionStatement","src":"46276:149:75"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16631,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16628,"name":"maybeMaxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16478,"src":"48068:26:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"expression":{"id":16629,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"48097:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16630,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"48105:4:75","memberName":"idle","nodeType":"MemberAccess","referencedDeclaration":15591,"src":"48097:12:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"48068:41:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16638,"nodeType":"IfStatement","src":"48064:121:75","trueBody":{"id":16637,"nodeType":"Block","src":"48111:74:75","statements":[{"expression":{"id":16635,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16632,"name":"maybeMaxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16478,"src":"48129:26:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":16633,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"48158:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16634,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"48166:4:75","memberName":"idle","nodeType":"MemberAccess","referencedDeclaration":15591,"src":"48158:12:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"48129:41:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16636,"nodeType":"ExpressionStatement","src":"48129:41:75"}]}},{"id":16642,"nodeType":"UncheckedBlock","src":"48242:46:75","statements":[{"expression":{"id":16640,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"48270:3:75","subExpression":{"id":16639,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16486,"src":"48272:1:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16641,"nodeType":"ExpressionStatement","src":"48270:3:75"}]}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16491,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16489,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16486,"src":"42929:1:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":16490,"name":"MAX_SHARE_RESERVES_DELTA_MAX_ITERATIONS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15052,"src":"42933:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"42929:43:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16644,"initializationExpression":{"assignments":[16486],"declarations":[{"constant":false,"id":16486,"mutability":"mutable","name":"i","nameLocation":"42922:1:75","nodeType":"VariableDeclaration","scope":16644,"src":"42914:9:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16485,"name":"uint256","nodeType":"ElementaryTypeName","src":"42914:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16488,"initialValue":{"hexValue":"30","id":16487,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"42926:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"42914:13:75"},"nodeType":"ForStatement","src":"42909:5389:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16647,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16645,"name":"maybeMaxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16478,"src":"48386:26:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":16646,"name":"maxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16388,"src":"48416:21:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"48386:51:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16717,"nodeType":"IfStatement","src":"48382:1248:75","trueBody":{"id":16716,"nodeType":"Block","src":"48439:1191:75","statements":[{"expression":{"id":16676,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"expression":{"expression":{"id":16648,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"48471:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16651,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"48479:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"48471:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16652,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"48498:13:75","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":15176,"src":"48471:40:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16653,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"48529:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16654,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"48537:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"48529:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16655,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"48556:15:75","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15178,"src":"48529:42:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"expression":{"id":16656,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"48589:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16657,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"48597:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"48589:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16658,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"48616:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"48589:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":16659,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"48453:189:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"tuple(uint256,int256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":16661,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"48687:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16662,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"48695:21:75","memberName":"originalShareReserves","nodeType":"MemberAccess","referencedDeclaration":15595,"src":"48687:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":16663,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"48734:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16664,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"48742:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"48734:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"expression":{"id":16665,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"48783:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16666,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"48791:20:75","memberName":"originalBondReserves","nodeType":"MemberAccess","referencedDeclaration":15599,"src":"48783:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16667,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"48829:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16668,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"48837:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"48829:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16669,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"48856:20:75","memberName":"minimumShareReserves","nodeType":"MemberAccess","referencedDeclaration":15186,"src":"48829:47:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":16674,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"48894:35:75","subExpression":{"arguments":[{"id":16672,"name":"maybeMaxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16478,"src":"48902:26:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":16671,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"48895:6:75","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":{"id":16670,"name":"int256","nodeType":"ElementaryTypeName","src":"48895:6:75","typeDescriptions":{}}},"id":16673,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"48895:34:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"id":16660,"name":"calculateUpdateLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15174,"src":"48645:24:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$_t_uint256_$_t_uint256_$_t_int256_$returns$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"function (uint256,int256,uint256,uint256,int256) pure returns (uint256,int256,uint256)"}},"id":16675,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"48645:298:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_int256_$_t_uint256_$","typeString":"tuple(uint256,int256,uint256)"}},"src":"48453:490:75","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":16677,"nodeType":"ExpressionStatement","src":"48453:490:75"},{"assignments":[16679],"declarations":[{"constant":false,"id":16679,"mutability":"mutable","name":"maxBondAmount","nameLocation":"48965:13:75","nodeType":"VariableDeclaration","scope":16716,"src":"48957:21:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16678,"name":"uint256","nodeType":"ElementaryTypeName","src":"48957:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16706,"initialValue":{"arguments":[{"arguments":[{"expression":{"expression":{"id":16684,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"49105:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16685,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"49113:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"49105:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16686,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"49132:13:75","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":15176,"src":"49105:40:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16687,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"49167:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16688,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"49175:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"49167:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16689,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"49194:15:75","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15178,"src":"49167:42:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":16682,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15024,"src":"49037:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$15024_$","typeString":"type(library HyperdriveMath)"}},"id":16683,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"49052:31:75","memberName":"calculateEffectiveShareReserves","nodeType":"MemberAccess","referencedDeclaration":14502,"src":"49037:46:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$returns$_t_uint256_$","typeString":"function (uint256,int256) pure returns (uint256)"}},"id":16690,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"49037:190:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16691,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"49245:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16692,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"49253:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"49245:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16693,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"49272:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"49245:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16698,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16694,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"49302:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"expression":{"id":16695,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"49308:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16696,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"49316:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"49308:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16697,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"49335:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"49308:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"49302:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16699,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"49364:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16700,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"49372:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"49364:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16701,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"49391:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"49364:42:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16702,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16383,"src":"49424:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16703,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"49432:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"49424:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16704,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"49451:22:75","memberName":"initialVaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15184,"src":"49424:49:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16680,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18569,"src":"48981:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_YieldSpaceMath_$18569_$","typeString":"type(library YieldSpaceMath)"}},"id":16681,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"48996:23:75","memberName":"calculateMaxBuyBondsOut","nodeType":"MemberAccess","referencedDeclaration":18387,"src":"48981:38:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":16705,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"48981:506:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"48957:530:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16709,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16707,"name":"maxBondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16679,"src":"49505:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":16708,"name":"netCurveTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16400,"src":"49522:13:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"49505:30:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16715,"nodeType":"IfStatement","src":"49501:119:75","trueBody":{"id":16714,"nodeType":"Block","src":"49537:83:75","statements":[{"expression":{"id":16712,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16710,"name":"maxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16388,"src":"49555:21:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":16711,"name":"maybeMaxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16478,"src":"49579:26:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"49555:50:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16713,"nodeType":"ExpressionStatement","src":"49555:50:75"}]}}]}},{"expression":{"id":16718,"name":"maxShareReservesDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16388,"src":"49647:21:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":16389,"id":16719,"nodeType":"Return","src":"49640:28:75"}]},"documentation":{"id":16380,"nodeType":"StructuredDocumentation","src":"39738:679:75","text":"@dev Calculates the upper bound on the share proceeds of distributing\n      excess idle. When the pool is net long or net neutral, the upper\n      bound is the amount of idle liquidity. When the pool is net short,\n      the upper bound is the share reserves delta that results in the\n      maximum amount of bonds that can be purchased being equal to the\n      net short position.\n @param _params The parameters for the distribute excess idle calculation.\n @param _originalEffectiveShareReserves The original effective share\n        reserves.\n @return maxShareReservesDelta The upper bound on the share proceeds."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateMaxShareReservesDelta","nameLocation":"40431:30:75","parameters":{"id":16386,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16383,"mutability":"mutable","name":"_params","nameLocation":"40505:7:75","nodeType":"VariableDeclaration","scope":16721,"src":"40471:41:75","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"},"typeName":{"id":16382,"nodeType":"UserDefinedTypeName","pathNode":{"id":16381,"name":"DistributeExcessIdleParams","nameLocations":["40471:26:75"],"nodeType":"IdentifierPath","referencedDeclaration":15600,"src":"40471:26:75"},"referencedDeclaration":15600,"src":"40471:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_storage_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"}},"visibility":"internal"},{"constant":false,"id":16385,"mutability":"mutable","name":"_originalEffectiveShareReserves","nameLocation":"40530:31:75","nodeType":"VariableDeclaration","scope":16721,"src":"40522:39:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16384,"name":"uint256","nodeType":"ElementaryTypeName","src":"40522:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"40461:106:75"},"returnParameters":{"id":16389,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16388,"mutability":"mutable","name":"maxShareReservesDelta","nameLocation":"40599:21:75","nodeType":"VariableDeclaration","scope":16721,"src":"40591:29:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16387,"name":"uint256","nodeType":"ElementaryTypeName","src":"40591:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"40590:31:75"},"scope":17602,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":16872,"nodeType":"FunctionDefinition","src":"50953:2775:75","nodes":[],"body":{"id":16871,"nodeType":"Block","src":"51175:2553:75","nodes":[],"statements":[{"assignments":[16735],"declarations":[{"constant":false,"id":16735,"mutability":"mutable","name":"rhs","nameLocation":"51341:3:75","nodeType":"VariableDeclaration","scope":16871,"src":"51333:11:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16734,"name":"uint256","nodeType":"ElementaryTypeName","src":"51333:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16765,"initialValue":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16763,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"expression":{"expression":{"id":16758,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16725,"src":"51785:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16759,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51793:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"51785:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16760,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51812:22:75","memberName":"initialVaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15184,"src":"51785:49:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"expression":{"id":16754,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16725,"src":"51713:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16755,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51721:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"51713:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16756,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51740:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"51713:42:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16757,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"51756:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"51713:50:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16761,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"51713:139:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":16762,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"51855:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"51713:145:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":16738,"name":"_originalEffectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16727,"src":"51396:31:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":16739,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16725,"src":"51445:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16740,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51453:20:75","memberName":"originalBondReserves","nodeType":"MemberAccess","referencedDeclaration":15599,"src":"51445:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16745,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16741,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"51491:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"expression":{"id":16742,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16725,"src":"51497:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16743,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51505:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"51497:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16744,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51524:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"51497:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"51491:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16746,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16725,"src":"51553:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16747,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51561:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"51553:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16748,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51580:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"51553:42:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16749,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16725,"src":"51613:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16750,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51621:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"51613:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16751,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"51640:22:75","memberName":"initialVaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15184,"src":"51613:49:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16736,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18569,"src":"51347:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_YieldSpaceMath_$18569_$","typeString":"type(library YieldSpaceMath)"}},"id":16737,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"51375:3:75","memberName":"kUp","nodeType":"MemberAccess","referencedDeclaration":18534,"src":"51347:31:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":16752,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"51347:329:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16753,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"51690:5:75","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":13640,"src":"51347:348:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16764,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"51347:525:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"51333:539:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16768,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16766,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16735,"src":"51886:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":16767,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"51893:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"51886:10:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":16798,"nodeType":"Block","src":"52105:205:75","statements":[{"expression":{"id":16796,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16784,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16735,"src":"52197:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16793,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16789,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"52240:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"expression":{"id":16790,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16725,"src":"52246:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16791,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"52254:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"52246:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16792,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"52273:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"52246:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"52240:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16787,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"52228:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16788,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"52232:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"52228:11:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16794,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"52228:57:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16785,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16735,"src":"52203:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16786,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"52207:3:75","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":13699,"src":"52203:7:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16795,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"52203:96:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"52197:102:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16797,"nodeType":"ExpressionStatement","src":"52197:102:75"}]},"id":16799,"nodeType":"IfStatement","src":"51882:428:75","trueBody":{"id":16783,"nodeType":"Block","src":"51898:201:75","statements":[{"expression":{"id":16781,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16769,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16735,"src":"51988:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16778,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16774,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"52029:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"expression":{"id":16775,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16725,"src":"52035:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16776,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"52043:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"52035:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16777,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"52062:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"52035:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"52029:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16772,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"52019:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16773,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"52023:5:75","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":13640,"src":"52019:9:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16779,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"52019:55:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16770,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16735,"src":"51994:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16771,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"51998:3:75","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":13699,"src":"51994:7:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16780,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"51994:94:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"51988:100:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16782,"nodeType":"ExpressionStatement","src":"51988:100:75"}]}},{"expression":{"id":16804,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16800,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16735,"src":"52355:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16803,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16801,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16735,"src":"52361:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":16802,"name":"_netCurveTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16729,"src":"52367:14:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"52361:20:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"52355:26:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16805,"nodeType":"ExpressionStatement","src":"52355:26:75"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":16809,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":16806,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16725,"src":"52536:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16807,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"52544:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"52536:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"hexValue":"30","id":16808,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"52571:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"52536:36:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":16856,"nodeType":"Block","src":"53020:443:75","statements":[{"expression":{"id":16854,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16833,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16735,"src":"53034:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16850,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16839,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"53203:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"expression":{"id":16847,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16725,"src":"53312:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16848,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"53320:21:75","memberName":"originalShareReserves","nodeType":"MemberAccess","referencedDeclaration":15595,"src":"53312:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":16844,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"53241:32:75","subExpression":{"expression":{"id":16842,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16725,"src":"53242:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16843,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"53250:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"53242:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":16841,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"53233:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":16840,"name":"uint256","nodeType":"ElementaryTypeName","src":"53233:7:75","typeDescriptions":{}}},"id":16845,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"53233:41:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16846,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"53275:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"53233:49:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16849,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"53233:134:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"53203:164:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":16851,"name":"_originalEffectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16727,"src":"53389:31:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":16836,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16725,"src":"53142:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16837,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"53150:20:75","memberName":"originalBondReserves","nodeType":"MemberAccess","referencedDeclaration":15599,"src":"53142:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16838,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"53171:10:75","memberName":"mulDivDown","nodeType":"MemberAccess","referencedDeclaration":13554,"src":"53142:39:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":16852,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"53142:296:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16834,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16735,"src":"53040:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16835,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"53044:5:75","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":13640,"src":"53040:9:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16853,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"53040:412:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"53034:418:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16855,"nodeType":"ExpressionStatement","src":"53034:418:75"}]},"id":16857,"nodeType":"IfStatement","src":"52532:931:75","trueBody":{"id":16832,"nodeType":"Block","src":"52574:440:75","statements":[{"expression":{"id":16830,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16810,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16735,"src":"52588:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16826,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16816,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"52757:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"expression":{"id":16823,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16725,"src":"52863:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16824,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"52871:21:75","memberName":"originalShareReserves","nodeType":"MemberAccess","referencedDeclaration":15595,"src":"52863:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"expression":{"id":16819,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16725,"src":"52795:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16820,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"52803:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"52795:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":16818,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"52787:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":16817,"name":"uint256","nodeType":"ElementaryTypeName","src":"52787:7:75","typeDescriptions":{}}},"id":16821,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"52787:40:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16822,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"52828:5:75","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":13640,"src":"52787:46:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16825,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"52787:131:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"52757:161:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":16827,"name":"_originalEffectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16727,"src":"52940:31:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":16813,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16725,"src":"52696:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16814,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"52704:20:75","memberName":"originalBondReserves","nodeType":"MemberAccess","referencedDeclaration":15599,"src":"52696:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16815,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"52725:10:75","memberName":"mulDivDown","nodeType":"MemberAccess","referencedDeclaration":13554,"src":"52696:39:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":16828,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"52696:293:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16811,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16735,"src":"52594:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16812,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"52598:5:75","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":13640,"src":"52594:9:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16829,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"52594:409:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"52588:415:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16831,"nodeType":"ExpressionStatement","src":"52588:415:75"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16861,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16858,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16735,"src":"53599:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"expression":{"id":16859,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16725,"src":"53606:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16860,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"53614:21:75","memberName":"originalShareReserves","nodeType":"MemberAccess","referencedDeclaration":15595,"src":"53606:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"53599:36:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16865,"nodeType":"IfStatement","src":"53595:75:75","trueBody":{"id":16864,"nodeType":"Block","src":"53637:33:75","statements":[{"expression":{"hexValue":"30","id":16862,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"53658:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"functionReturnParameters":16733,"id":16863,"nodeType":"Return","src":"53651:8:75"}]}},{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16869,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":16866,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16725,"src":"53686:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16867,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"53694:21:75","memberName":"originalShareReserves","nodeType":"MemberAccess","referencedDeclaration":15595,"src":"53686:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":16868,"name":"rhs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16735,"src":"53718:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"53686:35:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":16733,"id":16870,"nodeType":"Return","src":"53679:42:75"}]},"documentation":{"id":16722,"nodeType":"StructuredDocumentation","src":"49681:1267:75","text":"@dev Calculates the initial guess to use for iteratively solving for the\n      maximum share reserves delta. The maximum amount of bonds that can\n      be purchased as a function of the shares removed from the share\n      reserves `x` is calculated as:\n      y_max(x) = y(x) - (k(x) / ((c / mu) + 1)) ** (1 / (1 - t_s))\n      Our initial guess should underestimate this value since we want\n      to approach the optimal value from below. We can derive our initial\n      guess by solving for `x_0` in the following equation:\n      netCurveTrade = y(x_0) - (k(0) / ((c / mu) + 1)) ** (1 / (1 - t_s))\n                                =>\n      x_0 = z - ((\n                netCurveTrade + (k(0) / ((c / mu) + 1)) ** (1 / (1 - t_s))\n            ) / ((y / z_e) * (1 - zeta / z)))\n      We round this initial guess down to avoid overshooting.\n @param _params The parameters for the distribute excess idle calculation.\n @param _originalEffectiveShareReserves The original effective share\n        reserves.\n @param _netCurveTrade The net curve trade.\n @return The initial guess for the maximum share reserves delta."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateMaxShareReservesDeltaInitialGuess","nameLocation":"50962:42:75","parameters":{"id":16730,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16725,"mutability":"mutable","name":"_params","nameLocation":"51048:7:75","nodeType":"VariableDeclaration","scope":16872,"src":"51014:41:75","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"},"typeName":{"id":16724,"nodeType":"UserDefinedTypeName","pathNode":{"id":16723,"name":"DistributeExcessIdleParams","nameLocations":["51014:26:75"],"nodeType":"IdentifierPath","referencedDeclaration":15600,"src":"51014:26:75"},"referencedDeclaration":15600,"src":"51014:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_storage_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"}},"visibility":"internal"},{"constant":false,"id":16727,"mutability":"mutable","name":"_originalEffectiveShareReserves","nameLocation":"51073:31:75","nodeType":"VariableDeclaration","scope":16872,"src":"51065:39:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16726,"name":"uint256","nodeType":"ElementaryTypeName","src":"51065:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":16729,"mutability":"mutable","name":"_netCurveTrade","nameLocation":"51122:14:75","nodeType":"VariableDeclaration","scope":16872,"src":"51114:22:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16728,"name":"uint256","nodeType":"ElementaryTypeName","src":"51114:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"51004:138:75"},"returnParameters":{"id":16733,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16732,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":16872,"src":"51166:7:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16731,"name":"uint256","nodeType":"ElementaryTypeName","src":"51166:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"51165:9:75"},"scope":17602,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":17124,"nodeType":"FunctionDefinition","src":"54767:4623:75","nodes":[],"body":{"id":17123,"nodeType":"Block","src":"54994:4396:75","nodes":[],"statements":[{"assignments":[16888],"declarations":[{"constant":false,"id":16888,"mutability":"mutable","name":"effectiveShareReserves","nameLocation":"55261:22:75","nodeType":"VariableDeclaration","scope":17123,"src":"55253:30:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16887,"name":"uint256","nodeType":"ElementaryTypeName","src":"55253:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16898,"initialValue":{"arguments":[{"expression":{"expression":{"id":16891,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"55363:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16892,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55371:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"55363:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16893,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55390:13:75","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":15176,"src":"55363:40:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16894,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"55421:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16895,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55429:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"55421:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16896,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55448:15:75","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15178,"src":"55421:42:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":16889,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15024,"src":"55286:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$15024_$","typeString":"type(library HyperdriveMath)"}},"id":16890,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"55314:31:75","memberName":"calculateEffectiveShareReserves","nodeType":"MemberAccess","referencedDeclaration":14502,"src":"55286:59:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$returns$_t_uint256_$","typeString":"function (uint256,int256) pure returns (uint256)"}},"id":16897,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"55286:191:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"55253:224:75"},{"assignments":[16900],"declarations":[{"constant":false,"id":16900,"mutability":"mutable","name":"derivative","nameLocation":"55495:10:75","nodeType":"VariableDeclaration","scope":17123,"src":"55487:18:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16899,"name":"uint256","nodeType":"ElementaryTypeName","src":"55487:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16952,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16951,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16932,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"expression":{"expression":{"id":16912,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"55724:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16913,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55732:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"55724:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16914,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55751:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"55724:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":16909,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16888,"src":"55679:22:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"expression":{"id":16905,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"55570:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16906,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55595:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"55570:43:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16907,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55631:22:75","memberName":"initialVaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15184,"src":"55570:83:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16908,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"55671:7:75","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":13572,"src":"55570:108:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16910,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"55570:132:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16911,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"55720:3:75","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":13699,"src":"55570:153:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16915,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"55570:193:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"expression":{"id":16901,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"55508:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16902,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55516:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"55508:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16903,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55535:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"55508:42:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16904,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"55551:5:75","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":13640,"src":"55508:48:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16916,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"55508:265:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"arguments":[{"arguments":[{"expression":{"expression":{"id":16926,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"55970:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16927,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55978:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"55970:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16928,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55997:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"55970:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"expression":{"id":16922,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"55901:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16923,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55909:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"55901:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16924,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55928:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"55901:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16925,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"55941:3:75","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":13699,"src":"55901:43:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16929,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"55901:129:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16920,"name":"_originalEffectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16878,"src":"55840:31:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16921,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"55872:7:75","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":13572,"src":"55840:39:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16930,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"55840:208:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":16917,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"55788:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16918,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"55796:20:75","memberName":"originalBondReserves","nodeType":"MemberAccess","referencedDeclaration":15599,"src":"55788:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16919,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"55817:5:75","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":13640,"src":"55788:34:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16931,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"55788:274:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"55508:554:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"arguments":[{"arguments":[{"expression":{"expression":{"id":16945,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"56336:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16946,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"56344:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"56336:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16947,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"56363:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"56336:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16942,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"expression":{"id":16938,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"56252:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16939,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"56260:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"56252:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16940,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"56279:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"56252:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":16941,"name":"_bondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16880,"src":"56294:11:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"56252:53:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":16943,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"56251:55:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16944,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"56307:3:75","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":13699,"src":"56251:59:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16948,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"56251:145:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16936,"name":"_originalEffectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16878,"src":"56192:31:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16937,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"56224:5:75","memberName":"mulUp","nodeType":"MemberAccess","referencedDeclaration":13622,"src":"56192:37:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16949,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"56192:222:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":16933,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"56138:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16934,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"56146:20:75","memberName":"originalBondReserves","nodeType":"MemberAccess","referencedDeclaration":15599,"src":"56138:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16935,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"56167:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"56138:36:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16950,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"56138:290:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"55508:920:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"55487:941:75"},{"assignments":[16954],"declarations":[{"constant":false,"id":16954,"mutability":"mutable","name":"k","nameLocation":"56666:1:75","nodeType":"VariableDeclaration","scope":17123,"src":"56658:9:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16953,"name":"uint256","nodeType":"ElementaryTypeName","src":"56658:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16973,"initialValue":{"arguments":[{"id":16957,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16888,"src":"56702:22:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16958,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"56738:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16959,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"56746:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"56738:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16960,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"56765:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"56738:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16965,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16961,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"56791:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"expression":{"id":16962,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"56797:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16963,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"56805:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"56797:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16964,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"56824:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"56797:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"56791:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16966,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"56849:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16967,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"56857:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"56849:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16968,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"56876:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"56849:42:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":16969,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"56905:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16970,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"56913:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"56905:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16971,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"56932:22:75","memberName":"initialVaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15184,"src":"56905:49:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16955,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18569,"src":"56670:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_YieldSpaceMath_$18569_$","typeString":"type(library YieldSpaceMath)"}},"id":16956,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"56685:3:75","memberName":"kUp","nodeType":"MemberAccess","referencedDeclaration":18534,"src":"56670:18:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":16972,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"56670:294:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"56658:306:75"},{"assignments":[16975],"declarations":[{"constant":false,"id":16975,"mutability":"mutable","name":"inner","nameLocation":"56982:5:75","nodeType":"VariableDeclaration","scope":17123,"src":"56974:13:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16974,"name":"uint256","nodeType":"ElementaryTypeName","src":"56974:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16989,"initialValue":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16987,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16983,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"57063:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"expression":{"id":16984,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"57069:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16985,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57077:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"57069:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16986,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57096:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"57069:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"57063:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16980,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"expression":{"id":16976,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"56991:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":16977,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"56999:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"56991:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":16978,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57018:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"56991:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":16979,"name":"_bondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16880,"src":"57033:11:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"56991:53:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":16981,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"56990:55:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16982,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"57059:3:75","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":13699,"src":"56990:72:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":16988,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"56990:118:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"56974:134:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16992,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16990,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16954,"src":"57122:1:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":16991,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16975,"src":"57126:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"57122:9:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16998,"nodeType":"IfStatement","src":"57118:201:75","trueBody":{"id":16997,"nodeType":"Block","src":"57133:186:75","statements":[{"expression":{"components":[{"hexValue":"30","id":16993,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"57299:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"66616c7365","id":16994,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"57302:5:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"id":16995,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"57298:10:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_bool_$","typeString":"tuple(int_const 0,bool)"}},"functionReturnParameters":16886,"id":16996,"nodeType":"Return","src":"57291:17:75"}]}},{"expression":{"id":17011,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16999,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16975,"src":"57328:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17006,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17004,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16954,"src":"57408:1:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":17005,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16975,"src":"57412:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"57408:9:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":17007,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"57431:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17008,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57439:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"57431:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17009,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57458:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"57431:42:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"expression":{"id":17000,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"57336:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17001,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57344:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"57336:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17002,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57363:22:75","memberName":"initialVaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15184,"src":"57336:49:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17003,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"57386:8:75","memberName":"mulDivUp","nodeType":"MemberAccess","referencedDeclaration":13604,"src":"57336:58:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":17010,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"57336:147:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"57328:155:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17012,"nodeType":"ExpressionStatement","src":"57328:155:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17015,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17013,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16975,"src":"57497:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":17014,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"57506:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"57497:12:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":17049,"nodeType":"Block","src":"57795:282:75","statements":[{"expression":{"id":17047,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17033,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16975,"src":"57887:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17044,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17040,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"57990:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"expression":{"id":17041,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"57996:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17042,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"58004:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"57996:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17043,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"58023:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"57996:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"57990:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"expression":{"id":17036,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"57922:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17037,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57930:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"57922:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17038,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57949:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"57922:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17039,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"57961:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"57922:46:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17045,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"57922:130:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17034,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16975,"src":"57895:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17035,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"57901:3:75","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":13699,"src":"57895:9:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17046,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"57895:171:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"57887:179:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17048,"nodeType":"ExpressionStatement","src":"57887:179:75"}]},"id":17050,"nodeType":"IfStatement","src":"57493:584:75","trueBody":{"id":17032,"nodeType":"Block","src":"57511:278:75","statements":[{"expression":{"id":17030,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17016,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16975,"src":"57601:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17027,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17023,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"57702:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"expression":{"id":17024,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"57708:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17025,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57716:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"57708:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17026,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57735:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"57708:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"57702:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"expression":{"id":17019,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"57636:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17020,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57644:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"57636:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17021,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"57663:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"57636:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17022,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"57675:5:75","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":13640,"src":"57636:44:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17028,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"57636:128:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17017,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16975,"src":"57609:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17018,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"57615:3:75","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":13699,"src":"57609:9:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17029,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"57609:169:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"57601:177:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17031,"nodeType":"ExpressionStatement","src":"57601:177:75"}]}},{"expression":{"id":17059,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17051,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16900,"src":"58164:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":17054,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16975,"src":"58210:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":17055,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"58229:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17056,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"58237:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"58229:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17057,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"58256:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"58229:42:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17052,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16900,"src":"58177:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17053,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"58188:8:75","memberName":"mulDivUp","nodeType":"MemberAccess","referencedDeclaration":13604,"src":"58177:19:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":17058,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"58177:104:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"58164:117:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17060,"nodeType":"ExpressionStatement","src":"58164:117:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17063,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17061,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"58335:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":17062,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16900,"src":"58342:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"58335:17:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":17075,"nodeType":"Block","src":"58414:274:75","statements":[{"expression":{"components":[{"hexValue":"30","id":17071,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"58669:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"74727565","id":17072,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"58672:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"id":17073,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"58668:9:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_bool_$","typeString":"tuple(int_const 0,bool)"}},"functionReturnParameters":16886,"id":17074,"nodeType":"Return","src":"58661:16:75"}]},"id":17076,"nodeType":"IfStatement","src":"58331:357:75","trueBody":{"id":17070,"nodeType":"Block","src":"58354:54:75","statements":[{"expression":{"id":17068,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17064,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16900,"src":"58368:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17067,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17065,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"58381:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":17066,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16900,"src":"58387:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"58381:16:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"58368:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17069,"nodeType":"ExpressionStatement","src":"58368:29:75"}]}},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":17080,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":17077,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"58827:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17078,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"58835:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"58827:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"hexValue":"30","id":17079,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"58862:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"58827:36:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":17117,"nodeType":"Block","src":"59108:240:75","statements":[{"expression":{"id":17115,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17099,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16900,"src":"59122:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17113,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17102,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"59171:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"expression":{"id":17110,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"59272:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17111,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"59280:21:75","memberName":"originalShareReserves","nodeType":"MemberAccess","referencedDeclaration":15595,"src":"59272:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":17107,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"59205:32:75","subExpression":{"expression":{"id":17105,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"59206:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17106,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"59214:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"59206:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":17104,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"59197:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":17103,"name":"uint256","nodeType":"ElementaryTypeName","src":"59197:7:75","typeDescriptions":{}}},"id":17108,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"59197:41:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17109,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"59239:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"59197:49:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17112,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"59197:126:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"59171:152:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17100,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16900,"src":"59135:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17101,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"59146:7:75","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":13572,"src":"59135:18:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17114,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"59135:202:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"59122:215:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17116,"nodeType":"ExpressionStatement","src":"59122:215:75"}]},"id":17118,"nodeType":"IfStatement","src":"58823:525:75","trueBody":{"id":17098,"nodeType":"Block","src":"58865:237:75","statements":[{"expression":{"id":17096,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17081,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16900,"src":"58879:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17094,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17084,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"58928:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"expression":{"id":17091,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"59026:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17092,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"59034:21:75","memberName":"originalShareReserves","nodeType":"MemberAccess","referencedDeclaration":15595,"src":"59026:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"expression":{"id":17087,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16876,"src":"58962:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17088,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"58970:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"58962:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":17086,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"58954:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":17085,"name":"uint256","nodeType":"ElementaryTypeName","src":"58954:7:75","typeDescriptions":{}}},"id":17089,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"58954:40:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17090,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"58995:5:75","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":13640,"src":"58954:46:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17093,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"58954:123:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"58928:149:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17082,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16900,"src":"58892:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17083,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"58903:7:75","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":13572,"src":"58892:18:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17095,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"58892:199:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"58879:212:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17097,"nodeType":"ExpressionStatement","src":"58879:212:75"}]}},{"expression":{"components":[{"id":17119,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16900,"src":"59366:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":17120,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"59378:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"id":17121,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"59365:18:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"functionReturnParameters":16886,"id":17122,"nodeType":"Return","src":"59358:25:75"}]},"documentation":{"id":16873,"nodeType":"StructuredDocumentation","src":"53734:1028:75","text":"@dev Calculates the derivative of `calculateSharesOutGivenBondsIn`. This\n      derivative is given by:\n      derivative = - (1 - zeta / z) * (\n          1 - (1 / c) * (\n              c * (mu * z_e(x)) ** -t_s +\n              (y / z_e) * y(x) ** -t_s  -\n              (y / z_e) * (y(x) + dy) ** -t_s\n          ) * (\n              (mu / c) * (k(x) - (y(x) + dy) ** (1 - t_s))\n          ) ** (t_s / (1 - t_s))\n      )\n      We round down to avoid overshooting the optimal solution in Newton's\n      method (the derivative we use is 1 minus this derivative so this\n      rounds the derivative up).\n @param _params The parameters for the calculation.\n @param _originalEffectiveShareReserves The original effective share\n        reserves.\n @param _bondAmount The amount of bonds to sell.\n @return The derivative.\n @return A flag indicating whether the derivative could be computed."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateSharesOutGivenBondsInDerivativeSafe","nameLocation":"54776:44:75","parameters":{"id":16881,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16876,"mutability":"mutable","name":"_params","nameLocation":"54864:7:75","nodeType":"VariableDeclaration","scope":17124,"src":"54830:41:75","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"},"typeName":{"id":16875,"nodeType":"UserDefinedTypeName","pathNode":{"id":16874,"name":"DistributeExcessIdleParams","nameLocations":["54830:26:75"],"nodeType":"IdentifierPath","referencedDeclaration":15600,"src":"54830:26:75"},"referencedDeclaration":15600,"src":"54830:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_storage_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"}},"visibility":"internal"},{"constant":false,"id":16878,"mutability":"mutable","name":"_originalEffectiveShareReserves","nameLocation":"54889:31:75","nodeType":"VariableDeclaration","scope":17124,"src":"54881:39:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16877,"name":"uint256","nodeType":"ElementaryTypeName","src":"54881:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":16880,"mutability":"mutable","name":"_bondAmount","nameLocation":"54938:11:75","nodeType":"VariableDeclaration","scope":17124,"src":"54930:19:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16879,"name":"uint256","nodeType":"ElementaryTypeName","src":"54930:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"54820:135:75"},"returnParameters":{"id":16886,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16883,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":17124,"src":"54979:7:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16882,"name":"uint256","nodeType":"ElementaryTypeName","src":"54979:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":16885,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":17124,"src":"54988:4:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":16884,"name":"bool","nodeType":"ElementaryTypeName","src":"54988:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"54978:15:75"},"scope":17602,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":17376,"nodeType":"FunctionDefinition","src":"60429:4993:75","nodes":[],"body":{"id":17375,"nodeType":"Block","src":"60656:4766:75","nodes":[],"statements":[{"assignments":[17140],"declarations":[{"constant":false,"id":17140,"mutability":"mutable","name":"effectiveShareReserves","nameLocation":"60923:22:75","nodeType":"VariableDeclaration","scope":17375,"src":"60915:30:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":17139,"name":"uint256","nodeType":"ElementaryTypeName","src":"60915:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":17150,"initialValue":{"arguments":[{"expression":{"expression":{"id":17143,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"61025:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17144,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61033:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"61025:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17145,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61052:13:75","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":15176,"src":"61025:40:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":17146,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"61083:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17147,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61091:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"61083:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17148,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61110:15:75","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15178,"src":"61083:42:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":17141,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15024,"src":"60948:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$15024_$","typeString":"type(library HyperdriveMath)"}},"id":17142,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"60976:31:75","memberName":"calculateEffectiveShareReserves","nodeType":"MemberAccess","referencedDeclaration":14502,"src":"60948:59:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$returns$_t_uint256_$","typeString":"function (uint256,int256) pure returns (uint256)"}},"id":17149,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"60948:191:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"60915:224:75"},{"assignments":[17152],"declarations":[{"constant":false,"id":17152,"mutability":"mutable","name":"derivative","nameLocation":"61157:10:75","nodeType":"VariableDeclaration","scope":17375,"src":"61149:18:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":17151,"name":"uint256","nodeType":"ElementaryTypeName","src":"61149:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":17204,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17203,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17184,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"expression":{"expression":{"id":17164,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"61386:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17165,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61394:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"61386:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17166,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61413:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"61386:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":17161,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17140,"src":"61341:22:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"expression":{"id":17157,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"61232:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17158,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61257:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"61232:43:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17159,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61293:22:75","memberName":"initialVaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15184,"src":"61232:83:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17160,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"61333:7:75","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":13572,"src":"61232:108:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17162,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"61232:132:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17163,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"61382:3:75","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":13699,"src":"61232:153:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17167,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"61232:193:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"expression":{"id":17153,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"61170:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17154,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61178:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"61170:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17155,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61197:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"61170:42:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17156,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"61213:5:75","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":13640,"src":"61170:48:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17168,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"61170:265:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"arguments":[{"arguments":[{"expression":{"expression":{"id":17178,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"61632:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17179,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61640:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"61632:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17180,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61659:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"61632:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"expression":{"id":17174,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"61563:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17175,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61571:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"61563:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17176,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61590:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"61563:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17177,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"61603:3:75","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":13699,"src":"61563:43:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17181,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"61563:129:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17172,"name":"_originalEffectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17130,"src":"61502:31:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17173,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"61534:7:75","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":13572,"src":"61502:39:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17182,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"61502:208:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":17169,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"61450:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17170,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61458:20:75","memberName":"originalBondReserves","nodeType":"MemberAccess","referencedDeclaration":15599,"src":"61450:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17171,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"61479:5:75","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":13640,"src":"61450:34:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17183,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"61450:274:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"61170:554:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"arguments":[{"arguments":[{"expression":{"expression":{"id":17197,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"62001:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17198,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"62009:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"62001:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17199,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"62028:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"62001:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17194,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"expression":{"id":17190,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"61917:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17191,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61925:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"61917:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17192,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61944:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"61917:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":17193,"name":"_bondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17132,"src":"61959:11:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"61917:53:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":17195,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"61916:55:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17196,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"61972:3:75","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":13699,"src":"61916:59:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17200,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"61916:145:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17188,"name":"_originalEffectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17130,"src":"61857:31:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17189,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"61889:5:75","memberName":"mulUp","nodeType":"MemberAccess","referencedDeclaration":13622,"src":"61857:37:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17201,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"61857:222:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":17185,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"61803:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17186,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"61811:20:75","memberName":"originalBondReserves","nodeType":"MemberAccess","referencedDeclaration":15599,"src":"61803:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17187,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"61832:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"61803:36:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17202,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"61803:290:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"61170:923:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"61149:944:75"},{"assignments":[17206],"declarations":[{"constant":false,"id":17206,"mutability":"mutable","name":"k","nameLocation":"62331:1:75","nodeType":"VariableDeclaration","scope":17375,"src":"62323:9:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":17205,"name":"uint256","nodeType":"ElementaryTypeName","src":"62323:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":17225,"initialValue":{"arguments":[{"id":17209,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17140,"src":"62367:22:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":17210,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"62403:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17211,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"62411:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"62403:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17212,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"62430:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"62403:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17217,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17213,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"62456:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"expression":{"id":17214,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"62462:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17215,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"62470:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"62462:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17216,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"62489:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"62462:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"62456:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":17218,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"62514:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17219,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"62522:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"62514:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17220,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"62541:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"62514:42:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":17221,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"62570:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17222,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"62578:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"62570:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17223,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"62597:22:75","memberName":"initialVaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15184,"src":"62570:49:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17207,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18569,"src":"62335:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_YieldSpaceMath_$18569_$","typeString":"type(library YieldSpaceMath)"}},"id":17208,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"62350:3:75","memberName":"kUp","nodeType":"MemberAccess","referencedDeclaration":18534,"src":"62335:18:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":17224,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"62335:294:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"62323:306:75"},{"assignments":[17227],"declarations":[{"constant":false,"id":17227,"mutability":"mutable","name":"inner","nameLocation":"62647:5:75","nodeType":"VariableDeclaration","scope":17375,"src":"62639:13:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":17226,"name":"uint256","nodeType":"ElementaryTypeName","src":"62639:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":17241,"initialValue":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17239,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17235,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"62728:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"expression":{"id":17236,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"62734:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17237,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"62742:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"62734:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17238,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"62761:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"62734:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"62728:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17232,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"expression":{"id":17228,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"62656:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17229,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"62664:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"62656:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17230,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"62683:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"62656:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":17231,"name":"_bondAmount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17132,"src":"62698:11:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"62656:53:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":17233,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"62655:55:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17234,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"62724:3:75","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":13699,"src":"62655:72:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17240,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"62655:118:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"62639:134:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17244,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17242,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17206,"src":"62787:1:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":17243,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17227,"src":"62791:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"62787:9:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":17250,"nodeType":"IfStatement","src":"62783:201:75","trueBody":{"id":17249,"nodeType":"Block","src":"62798:186:75","statements":[{"expression":{"components":[{"hexValue":"30","id":17245,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"62964:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"66616c7365","id":17246,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"62967:5:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"id":17247,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"62963:10:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_bool_$","typeString":"tuple(int_const 0,bool)"}},"functionReturnParameters":17138,"id":17248,"nodeType":"Return","src":"62956:17:75"}]}},{"expression":{"id":17263,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17251,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17227,"src":"62993:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17258,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17256,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17206,"src":"63073:1:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":17257,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17227,"src":"63077:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"63073:9:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":17259,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"63096:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17260,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"63104:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"63096:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17261,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"63123:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"63096:42:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"expression":{"id":17252,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"63001:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17253,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"63009:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"63001:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17254,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"63028:22:75","memberName":"initialVaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15184,"src":"63001:49:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17255,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63051:8:75","memberName":"mulDivUp","nodeType":"MemberAccess","referencedDeclaration":13604,"src":"63001:58:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":17262,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"63001:147:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"62993:155:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17264,"nodeType":"ExpressionStatement","src":"62993:155:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17267,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17265,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17227,"src":"63162:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"hexValue":"30","id":17266,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"63171:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"63162:10:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":17301,"nodeType":"Block","src":"63458:282:75","statements":[{"expression":{"id":17299,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17285,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17227,"src":"63550:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17296,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17292,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"63653:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"expression":{"id":17293,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"63659:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17294,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"63667:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"63659:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17295,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"63686:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"63659:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"63653:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"expression":{"id":17288,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"63585:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17289,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"63593:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"63585:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17290,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"63612:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"63585:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17291,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63624:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"63585:46:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17297,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"63585:130:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17286,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17227,"src":"63558:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17287,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63564:3:75","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":13699,"src":"63558:9:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17298,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"63558:171:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"63550:179:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17300,"nodeType":"ExpressionStatement","src":"63550:179:75"}]},"id":17302,"nodeType":"IfStatement","src":"63158:582:75","trueBody":{"id":17284,"nodeType":"Block","src":"63174:278:75","statements":[{"expression":{"id":17282,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17268,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17227,"src":"63264:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17279,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17275,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"63365:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"expression":{"id":17276,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"63371:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17277,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"63379:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"63371:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17278,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"63398:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"63371:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"63365:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"expression":{"id":17271,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"63299:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17272,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"63307:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"63299:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17273,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"63326:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"63299:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17274,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63338:5:75","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":13640,"src":"63299:44:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17280,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"63299:128:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17269,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17227,"src":"63272:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17270,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"63278:3:75","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":13699,"src":"63272:9:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17281,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"63272:169:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"63264:177:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17283,"nodeType":"ExpressionStatement","src":"63264:177:75"}]}},{"expression":{"id":17311,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17303,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17152,"src":"64196:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":17306,"name":"inner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17227,"src":"64242:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":17307,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"64261:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17308,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"64269:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"64261:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17309,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"64288:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"64261:42:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17304,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17152,"src":"64209:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17305,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"64220:8:75","memberName":"mulDivUp","nodeType":"MemberAccess","referencedDeclaration":13604,"src":"64209:19:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":17310,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"64209:104:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"64196:117:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17312,"nodeType":"ExpressionStatement","src":"64196:117:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17315,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17313,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"64367:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":17314,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17152,"src":"64374:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"64367:17:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":17327,"nodeType":"Block","src":"64446:274:75","statements":[{"expression":{"components":[{"hexValue":"30","id":17323,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"64701:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"74727565","id":17324,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"64704:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"id":17325,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"64700:9:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_bool_$","typeString":"tuple(int_const 0,bool)"}},"functionReturnParameters":17138,"id":17326,"nodeType":"Return","src":"64693:16:75"}]},"id":17328,"nodeType":"IfStatement","src":"64363:357:75","trueBody":{"id":17322,"nodeType":"Block","src":"64386:54:75","statements":[{"expression":{"id":17320,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17316,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17152,"src":"64400:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17319,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17317,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"64413:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":17318,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17152,"src":"64419:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"64413:16:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"64400:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17321,"nodeType":"ExpressionStatement","src":"64400:29:75"}]}},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":17332,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":17329,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"64859:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17330,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"64867:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"64859:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"hexValue":"30","id":17331,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"64894:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"64859:36:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":17369,"nodeType":"Block","src":"65140:240:75","statements":[{"expression":{"id":17367,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17351,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17152,"src":"65154:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17365,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17354,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"65203:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"expression":{"id":17362,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"65304:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17363,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"65312:21:75","memberName":"originalShareReserves","nodeType":"MemberAccess","referencedDeclaration":15595,"src":"65304:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":17359,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"65237:32:75","subExpression":{"expression":{"id":17357,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"65238:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17358,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"65246:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"65238:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":17356,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"65229:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":17355,"name":"uint256","nodeType":"ElementaryTypeName","src":"65229:7:75","typeDescriptions":{}}},"id":17360,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"65229:41:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17361,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65271:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"65229:49:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17364,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"65229:126:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"65203:152:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17352,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17152,"src":"65167:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17353,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65178:7:75","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":13572,"src":"65167:18:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17366,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"65167:202:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"65154:215:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17368,"nodeType":"ExpressionStatement","src":"65154:215:75"}]},"id":17370,"nodeType":"IfStatement","src":"64855:525:75","trueBody":{"id":17350,"nodeType":"Block","src":"64897:237:75","statements":[{"expression":{"id":17348,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17333,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17152,"src":"64911:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17346,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17336,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"64960:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"expression":{"id":17343,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"65058:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17344,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"65066:21:75","memberName":"originalShareReserves","nodeType":"MemberAccess","referencedDeclaration":15595,"src":"65058:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"expression":{"id":17339,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17128,"src":"64994:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17340,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"65002:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"64994:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":17338,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"64986:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":17337,"name":"uint256","nodeType":"ElementaryTypeName","src":"64986:7:75","typeDescriptions":{}}},"id":17341,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"64986:40:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17342,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"65027:5:75","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":13640,"src":"64986:46:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17345,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"64986:123:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"64960:149:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17334,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17152,"src":"64924:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17335,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"64935:7:75","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":13572,"src":"64924:18:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17347,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"64924:199:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"64911:212:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17349,"nodeType":"ExpressionStatement","src":"64911:212:75"}]}},{"expression":{"components":[{"id":17371,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17152,"src":"65398:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":17372,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"65410:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"id":17373,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"65397:18:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"functionReturnParameters":17138,"id":17374,"nodeType":"Return","src":"65390:25:75"}]},"documentation":{"id":17125,"nodeType":"StructuredDocumentation","src":"59396:1028:75","text":"@dev Calculates the derivative of `calculateSharesInGivenBondsOut`. This\n      derivative is given by:\n      derivative = - (1 - zeta / z) * (\n          (1 / c) * (\n              c * (mu * z_e(x)) ** -t_s +\n              (y / z_e) * y(x) ** -t_s  -\n              (y / z_e) * (y(x) - dy) ** -t_s\n          ) * (\n              (mu / c) * (k(x) - (y(x) - dy) ** (1 - t_s))\n          ) ** (t_s / (1 - t_s)) - 1\n      )\n      We round down to avoid overshooting the optimal solution in\n      Newton's method (the derivative we use is 1 minus this derivative\n      so this rounds the derivative up).\n @param _params The parameters for the calculation.\n @param _originalEffectiveShareReserves The original effective share\n        reserves.\n @param _bondAmount The amount of bonds to sell.\n @return The derivative.\n @return A flag indicating whether the derivative could be computed."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateSharesInGivenBondsOutDerivativeSafe","nameLocation":"60438:44:75","parameters":{"id":17133,"nodeType":"ParameterList","parameters":[{"constant":false,"id":17128,"mutability":"mutable","name":"_params","nameLocation":"60526:7:75","nodeType":"VariableDeclaration","scope":17376,"src":"60492:41:75","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"},"typeName":{"id":17127,"nodeType":"UserDefinedTypeName","pathNode":{"id":17126,"name":"DistributeExcessIdleParams","nameLocations":["60492:26:75"],"nodeType":"IdentifierPath","referencedDeclaration":15600,"src":"60492:26:75"},"referencedDeclaration":15600,"src":"60492:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_storage_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"}},"visibility":"internal"},{"constant":false,"id":17130,"mutability":"mutable","name":"_originalEffectiveShareReserves","nameLocation":"60551:31:75","nodeType":"VariableDeclaration","scope":17376,"src":"60543:39:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":17129,"name":"uint256","nodeType":"ElementaryTypeName","src":"60543:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":17132,"mutability":"mutable","name":"_bondAmount","nameLocation":"60600:11:75","nodeType":"VariableDeclaration","scope":17376,"src":"60592:19:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":17131,"name":"uint256","nodeType":"ElementaryTypeName","src":"60592:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"60482:135:75"},"returnParameters":{"id":17138,"nodeType":"ParameterList","parameters":[{"constant":false,"id":17135,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":17376,"src":"60641:7:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":17134,"name":"uint256","nodeType":"ElementaryTypeName","src":"60641:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":17137,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":17376,"src":"60650:4:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":17136,"name":"bool","nodeType":"ElementaryTypeName","src":"60650:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"60640:15:75"},"scope":17602,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":17601,"nodeType":"FunctionDefinition","src":"66411:4306:75","nodes":[],"body":{"id":17600,"nodeType":"Block","src":"66602:4115:75","nodes":[],"statements":[{"assignments":[17390],"declarations":[{"constant":false,"id":17390,"mutability":"mutable","name":"effectiveShareReserves","nameLocation":"66789:22:75","nodeType":"VariableDeclaration","scope":17600,"src":"66781:30:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":17389,"name":"uint256","nodeType":"ElementaryTypeName","src":"66781:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":17400,"initialValue":{"arguments":[{"expression":{"expression":{"id":17393,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"66891:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17394,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"66899:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"66891:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17395,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"66918:13:75","memberName":"shareReserves","nodeType":"MemberAccess","referencedDeclaration":15176,"src":"66891:40:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":17396,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"66949:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17397,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"66957:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"66949:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17398,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"66976:15:75","memberName":"shareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15178,"src":"66949:42:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"id":17391,"name":"HyperdriveMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":15024,"src":"66814:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_HyperdriveMath_$15024_$","typeString":"type(library HyperdriveMath)"}},"id":17392,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"66842:31:75","memberName":"calculateEffectiveShareReserves","nodeType":"MemberAccess","referencedDeclaration":14502,"src":"66814:59:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_int256_$returns$_t_uint256_$","typeString":"function (uint256,int256) pure returns (uint256)"}},"id":17399,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"66814:191:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"66781:224:75"},{"assignments":[17402],"declarations":[{"constant":false,"id":17402,"mutability":"mutable","name":"derivative","nameLocation":"67023:10:75","nodeType":"VariableDeclaration","scope":17600,"src":"67015:18:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":17401,"name":"uint256","nodeType":"ElementaryTypeName","src":"67015:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":17435,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17434,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"expression":{"expression":{"id":17414,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"67252:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17415,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"67260:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"67252:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17416,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"67279:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"67252:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":17411,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17390,"src":"67207:22:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"expression":{"id":17407,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"67100:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17408,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"67125:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"67100:43:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17409,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"67161:22:75","memberName":"initialVaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15184,"src":"67100:83:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17410,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67201:5:75","memberName":"mulUp","nodeType":"MemberAccess","referencedDeclaration":13622,"src":"67100:106:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17412,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"67100:130:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17413,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67248:3:75","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":13699,"src":"67100:151:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17417,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"67100:191:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"expression":{"id":17403,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"67036:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17404,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"67044:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"67036:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17405,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"67063:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"67036:42:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17406,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67079:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"67036:50:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17418,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"67036:265:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"arguments":[{"arguments":[{"expression":{"expression":{"id":17428,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"67498:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17429,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"67506:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"67498:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17430,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"67525:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"67498:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"expression":{"id":17424,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"67429:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17425,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"67437:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"67429:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17426,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"67456:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"67429:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17427,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67469:3:75","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":13699,"src":"67429:43:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17431,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"67429:129:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17422,"name":"_originalEffectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17382,"src":"67370:31:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17423,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67402:5:75","memberName":"mulUp","nodeType":"MemberAccess","referencedDeclaration":13622,"src":"67370:37:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17432,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"67370:206:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":17419,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"67316:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17420,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"67324:20:75","memberName":"originalBondReserves","nodeType":"MemberAccess","referencedDeclaration":15599,"src":"67316:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17421,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67345:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"67316:36:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17433,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"67316:274:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"67036:554:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"67015:575:75"},{"assignments":[17437],"declarations":[{"constant":false,"id":17437,"mutability":"mutable","name":"k","nameLocation":"67764:1:75","nodeType":"VariableDeclaration","scope":17600,"src":"67756:9:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":17436,"name":"uint256","nodeType":"ElementaryTypeName","src":"67756:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":17456,"initialValue":{"arguments":[{"id":17440,"name":"effectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17390,"src":"67802:22:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":17441,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"67838:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17442,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"67846:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"67838:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17443,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"67865:12:75","memberName":"bondReserves","nodeType":"MemberAccess","referencedDeclaration":15180,"src":"67838:39:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17448,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17444,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"67891:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"expression":{"id":17445,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"67897:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17446,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"67905:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"67897:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17447,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"67924:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"67897:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"67891:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":17449,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"67949:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17450,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"67957:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"67949:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17451,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"67976:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"67949:42:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"expression":{"id":17452,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"68005:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17453,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"68013:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"68005:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17454,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"68032:22:75","memberName":"initialVaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15184,"src":"68005:49:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17438,"name":"YieldSpaceMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18569,"src":"67768:14:75","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_YieldSpaceMath_$18569_$","typeString":"type(library YieldSpaceMath)"}},"id":17439,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"67783:5:75","memberName":"kDown","nodeType":"MemberAccess","referencedDeclaration":18568,"src":"67768:20:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256,uint256,uint256) pure returns (uint256)"}},"id":17455,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"67768:296:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"67756:308:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17459,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17457,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17437,"src":"68078:1:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":17458,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"68083:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"68078:8:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":17499,"nodeType":"Block","src":"68445:347:75","statements":[{"expression":{"id":17497,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17480,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17402,"src":"68537:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17493,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17489,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"68683:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"expression":{"id":17490,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"68689:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17491,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"68697:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"68689:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17492,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"68716:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"68689:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"68683:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"expression":{"id":17485,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"68613:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17486,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"68621:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"68613:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17487,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"68640:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"68613:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17488,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"68652:5:75","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":13640,"src":"68613:44:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17494,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"68613:136:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17483,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17437,"src":"68586:1:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17484,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"68588:3:75","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":13699,"src":"68586:5:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17495,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"68586:181:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17481,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17402,"src":"68550:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17482,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"68561:7:75","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":13572,"src":"68550:18:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17496,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"68550:231:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"68537:244:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17498,"nodeType":"ExpressionStatement","src":"68537:244:75"}]},"id":17500,"nodeType":"IfStatement","src":"68074:718:75","trueBody":{"id":17479,"nodeType":"Block","src":"68088:351:75","statements":[{"expression":{"id":17477,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17460,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17402,"src":"68182:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17473,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17469,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"68330:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"expression":{"id":17470,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"68336:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17471,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"68344:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"68336:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17472,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"68363:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"68336:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"68330:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"expression":{"id":17465,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"68258:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17466,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"68266:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"68258:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17467,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"68285:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"68258:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17468,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"68297:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"68258:46:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17474,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"68258:138:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17463,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17437,"src":"68231:1:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17464,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"68233:3:75","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":13699,"src":"68231:5:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17475,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"68231:183:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17461,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17402,"src":"68195:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17462,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"68206:7:75","memberName":"mulDown","nodeType":"MemberAccess","referencedDeclaration":13572,"src":"68195:18:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17476,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"68195:233:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"68182:246:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17478,"nodeType":"ExpressionStatement","src":"68182:246:75"}]}},{"expression":{"id":17526,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17501,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17402,"src":"68963:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17522,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17518,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"69471:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"expression":{"id":17519,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"69477:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17520,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"69485:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"69477:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17521,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"69504:11:75","memberName":"timeStretch","nodeType":"MemberAccess","referencedDeclaration":15188,"src":"69477:38:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"69471:44:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17516,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"69461:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17517,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"69465:5:75","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":13640,"src":"69461:9:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17523,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"69461:55:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17513,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"expression":{"expression":{"id":17508,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"69169:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17509,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"69177:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"69169:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17510,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"69196:22:75","memberName":"initialVaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15184,"src":"69169:49:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"expression":{"id":17504,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"69103:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17505,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"69111:18:75","memberName":"presentValueParams","nodeType":"MemberAccess","referencedDeclaration":15583,"src":"69103:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_PresentValueParams_$15197_memory_ptr","typeString":"struct LPMath.PresentValueParams memory"}},"id":17506,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"69130:15:75","memberName":"vaultSharePrice","nodeType":"MemberAccess","referencedDeclaration":15182,"src":"69103:42:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17507,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"69146:5:75","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":13640,"src":"69103:48:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17511,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"69103:129:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":17512,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"69235:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"69103:135:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":17514,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"69008:231:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17515,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"69240:3:75","memberName":"pow","nodeType":"MemberAccess","referencedDeclaration":13699,"src":"69008:235:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17524,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"69008:526:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":17502,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17402,"src":"68976:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17503,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"68987:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"68976:18:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17525,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"68976:568:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"68963:581:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17527,"nodeType":"ExpressionStatement","src":"68963:581:75"},{"assignments":[17529],"declarations":[{"constant":false,"id":17529,"mutability":"mutable","name":"delta","nameLocation":"69678:5:75","nodeType":"VariableDeclaration","scope":17600,"src":"69670:13:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":17528,"name":"uint256","nodeType":"ElementaryTypeName","src":"69670:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":17535,"initialValue":{"arguments":[{"id":17533,"name":"_originalEffectiveShareReserves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17382,"src":"69734:31:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"expression":{"id":17530,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"69686:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17531,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"69694:20:75","memberName":"originalBondReserves","nodeType":"MemberAccess","referencedDeclaration":15599,"src":"69686:28:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17532,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"69715:5:75","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":13640,"src":"69686:34:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17534,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"69686:89:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"69670:105:75"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17538,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17536,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17402,"src":"69833:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":17537,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17529,"src":"69847:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"69833:19:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":17550,"nodeType":"Block","src":"69916:187:75","statements":[{"expression":{"components":[{"hexValue":"30","id":17546,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"70083:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"66616c7365","id":17547,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"70086:5:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"id":17548,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"70082:10:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_bool_$","typeString":"tuple(int_const 0,bool)"}},"functionReturnParameters":17388,"id":17549,"nodeType":"Return","src":"70075:17:75"}]},"id":17551,"nodeType":"IfStatement","src":"69829:274:75","trueBody":{"id":17545,"nodeType":"Block","src":"69854:56:75","statements":[{"expression":{"id":17543,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17539,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17402,"src":"69868:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17542,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17540,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17529,"src":"69881:5:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":17541,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17402,"src":"69889:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"69881:18:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"69868:31:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17544,"nodeType":"ExpressionStatement","src":"69868:31:75"}]}},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":17555,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":17552,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"70238:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17553,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"70246:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"70238:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"hexValue":"30","id":17554,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"70273:1:75","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"70238:36:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":17594,"nodeType":"Block","src":"70479:196:75","statements":[{"expression":{"id":17592,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17575,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17402,"src":"70493:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":17590,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17402,"src":"70653:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17587,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17576,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"70507:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"expression":{"id":17584,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"70598:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17585,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"70606:21:75","memberName":"originalShareReserves","nodeType":"MemberAccess","referencedDeclaration":15595,"src":"70598:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":17581,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"70537:32:75","subExpression":{"expression":{"id":17579,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"70538:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17580,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"70546:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"70538:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":17578,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"70529:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":17577,"name":"uint256","nodeType":"ElementaryTypeName","src":"70529:7:75","typeDescriptions":{}}},"id":17582,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"70529:41:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17583,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"70571:5:75","memberName":"divUp","nodeType":"MemberAccess","referencedDeclaration":13640,"src":"70529:47:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17586,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"70529:116:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"70507:138:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":17588,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"70506:140:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17589,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"70647:5:75","memberName":"mulUp","nodeType":"MemberAccess","referencedDeclaration":13622,"src":"70506:146:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17591,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"70506:158:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"70493:171:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17593,"nodeType":"ExpressionStatement","src":"70493:171:75"}]},"id":17595,"nodeType":"IfStatement","src":"70234:441:75","trueBody":{"id":17574,"nodeType":"Block","src":"70276:197:75","statements":[{"expression":{"id":17572,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17556,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17402,"src":"70290:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":17570,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17402,"src":"70451:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17567,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17557,"name":"ONE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13529,"src":"70304:3:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"arguments":[{"expression":{"id":17564,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"70396:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17565,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"70404:21:75","memberName":"originalShareReserves","nodeType":"MemberAccess","referencedDeclaration":15595,"src":"70396:29:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"expression":{"id":17560,"name":"_params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17380,"src":"70334:7:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams memory"}},"id":17561,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"70342:23:75","memberName":"originalShareAdjustment","nodeType":"MemberAccess","referencedDeclaration":15597,"src":"70334:31:75","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":17559,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"70326:7:75","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":17558,"name":"uint256","nodeType":"ElementaryTypeName","src":"70326:7:75","typeDescriptions":{}}},"id":17562,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"70326:40:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17563,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"70367:7:75","memberName":"divDown","nodeType":"MemberAccess","referencedDeclaration":13590,"src":"70326:48:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17566,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"70326:117:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"70304:139:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":17568,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"70303:141:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17569,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"70445:5:75","memberName":"mulUp","nodeType":"MemberAccess","referencedDeclaration":13622,"src":"70303:147:75","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$attached_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":17571,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"70303:159:75","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"70290:172:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17573,"nodeType":"ExpressionStatement","src":"70290:172:75"}]}},{"expression":{"components":[{"id":17596,"name":"derivative","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17402,"src":"70693:10:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":17597,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"70705:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"id":17598,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"70692:18:75","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,bool)"}},"functionReturnParameters":17388,"id":17599,"nodeType":"Return","src":"70685:25:75"}]},"documentation":{"id":17377,"nodeType":"StructuredDocumentation","src":"65428:978:75","text":"@dev Calculates the derivative of `calculateMaxBuyBondsOut`. This\n      derivative is given by:\n      derivative = - (1 - zeta / z) * (\n          (y / z_e) - ((\n              c * (mu * z_e(x)) ** -t_s +\n              (y / z_e) * y(x) ** -t_s\n          ) * (\n              k(x) / ((c / mu) + 1)\n          ) ** (t_s / (1 - t_s))) * (\n              1 / ((c / mu) + 1)\n          ) ** (1 / (1 - t_s))\n      )\n      This function actually calculates the negatation of the derivative\n      to avoid integer underflows. We round up to avoid overshooting\n      the optimal solution in Newton's method.\n @param _params The parameters for the calculation.\n @param _originalEffectiveShareReserves The original effective share\n        reserves.\n @return The derivative.\n @return A flag indicating when the derivative couldn't be computed."},"implemented":true,"kind":"function","modifiers":[],"name":"calculateMaxBuyBondsOutDerivativeSafe","nameLocation":"66420:37:75","parameters":{"id":17383,"nodeType":"ParameterList","parameters":[{"constant":false,"id":17380,"mutability":"mutable","name":"_params","nameLocation":"66501:7:75","nodeType":"VariableDeclaration","scope":17601,"src":"66467:41:75","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_memory_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"},"typeName":{"id":17379,"nodeType":"UserDefinedTypeName","pathNode":{"id":17378,"name":"DistributeExcessIdleParams","nameLocations":["66467:26:75"],"nodeType":"IdentifierPath","referencedDeclaration":15600,"src":"66467:26:75"},"referencedDeclaration":15600,"src":"66467:26:75","typeDescriptions":{"typeIdentifier":"t_struct$_DistributeExcessIdleParams_$15600_storage_ptr","typeString":"struct LPMath.DistributeExcessIdleParams"}},"visibility":"internal"},{"constant":false,"id":17382,"mutability":"mutable","name":"_originalEffectiveShareReserves","nameLocation":"66526:31:75","nodeType":"VariableDeclaration","scope":17601,"src":"66518:39:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":17381,"name":"uint256","nodeType":"ElementaryTypeName","src":"66518:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"66457:106:75"},"returnParameters":{"id":17388,"nodeType":"ParameterList","parameters":[{"constant":false,"id":17385,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":17601,"src":"66587:7:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":17384,"name":"uint256","nodeType":"ElementaryTypeName","src":"66587:7:75","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":17387,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":17601,"src":"66596:4:75","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":17386,"name":"bool","nodeType":"ElementaryTypeName","src":"66596:4:75","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"66586:15:75"},"scope":17602,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"LPMath","contractDependencies":[],"contractKind":"library","documentation":{"id":15038,"nodeType":"StructuredDocumentation","src":"339:306:75","text":"@author DELV\n @title LPMath\n @notice Math for the Hyperdrive LP system.\n @custom:disclaimer The language used in this code is for coding convenience\n                    only, and is not intended to, and does not, have any\n                    particular legal or regulatory significance."},"fullyImplemented":true,"linearizedBaseContracts":[17602],"name":"LPMath","nameLocation":"653:6:75","scope":17603,"usedErrors":[],"usedEvents":[]}],"license":"Apache-2.0"},"id":75} as const;
